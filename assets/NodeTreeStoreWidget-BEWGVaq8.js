import{q as Le,j as s,c as Ee,R as Pe,S as g,T as we,r as j,aa as I,x as ze,bH as Ve,ap as Ue,bl as qe,bI as Be,bJ as ve,bK as Ce,bB as Te,bx as He,a3 as Ke,a2 as Qe,v as Ge,w as $e,bL as f,aw as Je,bM as Ye,a5 as Xe,a7 as w,bn as Ze,a_ as de,bt as Re,ad as Me,aj as et,bN as tt,bv as st,bO as nt,aG as lt,br as it}from"./index-B0xRIY9c.js";import{D as rt}from"./Download-BlwIXszx.js";import{C as ot}from"./ContextMenu-4n_ol0Xx.js";const _e=Le(s.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),at=Le(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),ct=Le(s.jsx("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"})),ut={xs:"1rem",sm:"1rem",md:"1rem",lg:"1.2rem",xl:"1.2rem"},mt={xs:"0.8rem",sm:"0.8rem",md:"0.8rem",lg:"1rem",xl:"1rem"},xe=e=>{const t=Ee.c(19);let n,i,u,x;t[0]!==e?({icon:i,children:n,sx:x,...u}=e,t[0]=e,t[1]=n,t[2]=i,t[3]=u,t[4]=x):(n=t[1],i=t[2],u=t[3],x=t[4]);let p;if(t[5]!==i){const l=i;let h;t[7]!==l.props.sx?(h={sx:{...l.props.sx,fontSize:ut}},t[7]=l.props.sx,t[8]=h):h=t[8],p=Pe.cloneElement(i,h),t[5]=i,t[6]=p}else p=t[6];const o=p;let m;t[9]!==x?(m={...x},t[9]=x,t[10]=m):m=t[10];let c;t[11]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:mt},t[11]=c):c=t[11];let a;t[12]!==n?(a=s.jsx(we,{variant:"body1",sx:c,children:n}),t[12]=n,t[13]=a):a=t[13];let d;return t[14]!==o||t[15]!==u||t[16]!==m||t[17]!==a?(d=s.jsxs(g,{direction:"row",alignItems:"center",gap:.3,sx:m,...u,children:[o,a]}),t[14]=o,t[15]=u,t[16]=m,t[17]=a,t[18]=d):d=t[18],d},dt=({targetUrl:e,onClickRoute:t,owner:n,coverImageUrl:i,altImg:u,title:x,description:p,aspectRatio:o=16/9,radius:m=1,like:c=0,view:a=0,download:d=0,sx:l,SkeletonSx:h,...K})=>{const[y,Q]=j.useState(i===void 0),[fe,S]=j.useState(!1),G=I(c).length+I(a).length+I(d).length>14,v=c===0&&a===0&&d===0;return s.jsxs(g,{maxWidth:"auto",spacing:1,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),sx:{...l},...K,children:[s.jsxs(ze,{style:{position:"relative",width:"auto",height:"auto"},children:[!y&&s.jsx(Ve,{variant:"rectangular",sx:{objectFit:"cover",width:"100%",height:"auto",aspectRatio:o,...h}}),s.jsx(Ue,{to:e,onClick:$=>{t&&t($)},children:s.jsxs(qe,{index:i===void 0?0:1,children:[u,s.jsx(ze,{component:"img",src:i,onLoad:()=>Q(!0),borderRadius:m,sx:{display:y?"block":"none",objectFit:"cover",width:"100%",height:"auto",aspectRatio:o}})]})}),y&&!v&&s.jsxs(g,{direction:"row",borderRadius:m,sx:{position:"absolute",bottom:0,left:0,color:"white",background:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.8) 100%)",width:"100%",textAlign:"start",paddingY:"6px",opacity:fe?0:1},style:{transition:"opacity 0.5s ease"},children:[s.jsx(g,{direction:"row",justifySelf:"flex-start",alignItems:"center",flexGrow:1,spacing:1,paddingLeft:2,children:s.jsx(xe,{icon:s.jsx(ct,{}),children:I(c)})}),s.jsx(g,{direction:"row",spacing:1,children:s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,paddingRight:2,children:[s.jsx(xe,{sx:{display:{xs:"none",sm:"none",md:"none",lg:G?"none":"flex"}},icon:s.jsx(_e,{fontSize:"small"}),children:I(a)}),s.jsx(xe,{sx:{display:{xs:"none",sm:"none",md:"none",lg:G?"none":"flex"}},icon:s.jsx(rt,{fontSize:"small"}),children:I(d)}),s.jsx(xe,{sx:{display:{md:"flex",lg:G?"flex":"none"}},icon:s.jsx(_e,{}),children:I(a)})]})})]})]}),s.jsxs(g,{direction:"column",maxWidth:"100%",children:[s.jsx(we,{gutterBottom:!0,variant:"body1",textAlign:"left",fontWeight:{xs:"bold",sm:"bold",md:"bold",lg:"bold",xl:"bold"},sx:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:{xs:1,sm:1,md:1,lg:1,xl:1},lineHeight:"1em",fontSize:{xs:"12px",sm:"12px",md:"15px",lg:"15px",xl:"15px"},height:"2em",textOverflow:"ellipsis",color:"black"},children:x}),s.jsx(Ue,{to:"#",children:s.jsxs(we,{variant:"body2",color:"text.secondary",textAlign:"left",style:{cursor:n?"pointer":"default"},sx:{fontSize:{xs:"10px",md:"13px"}},children:[" ",p]})})]})]})},xt=e=>{const t=Ee.c(19),{profile:n}=e,i=n.name;let u;t[0]!==n.id?(u=Be(n.id),t[0]=n.id,t[1]=u):u=t[1];let x;t[2]!==n?(x=ve(n),t[2]=n,t[3]=x):x=t[3];const p=Math.max(x,1);let o;t[4]!==n?(o=Ce(n),t[4]=n,t[5]=o):o=t[5];let m;t[6]===Symbol.for("react.memo_cache_sentinel")?(m={width:200,height:200},t[6]=m):m=t[6];let c;t[7]!==n?(c=Te(n),t[7]=n,t[8]=c):c=t[8];let a;t[9]!==n.type?(a=s.jsx(He,{type:n.type,radius:1,height:"auto",width:"100%",preserveAspectRatio:"1"}),t[9]=n.type,t[10]=a):a=t[10];let d;return t[11]!==n.avatarUrl||t[12]!==n.name||t[13]!==u||t[14]!==p||t[15]!==o||t[16]!==c||t[17]!==a?(d=s.jsx(dt,{title:i,targetUrl:u,aspectRatio:1,view:p,download:o,SkeletonSx:m,like:c,altImg:a,coverImageUrl:n.avatarUrl}),t[11]=n.avatarUrl,t[12]=n.name,t[13]=u,t[14]=p,t[15]=o,t[16]=c,t[17]=a,t[18]=d):d=t[18],d},At=()=>{const e=Ee.c(92),t=Ke(),[n,i]=Qe();let u;e[0]!==n?(u=n.get("q")??"",e[0]=n,e[1]=u):u=e[1];const x=u;let p;e[2]!==n?(p=n.get("o")?parseInt(n.get("o")??""):void 0,e[2]=n,e[3]=p):p=e[3];const o=p,m=n.get("t")??"",c=n.get("e")??"";let a;e[4]!==n?(a=n.get("p")?parseInt(n.get("p")??"0"):0,e[4]=n,e[5]=a):a=e[5];const d=a,l=Ge($e),[h,K]=j.useState(x);let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=[],e[6]=y):y=e[6];const[Q,fe]=j.useState(y),[S,G]=j.useState(1);let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=[],e[7]=v):v=e[7];const[$,Ne]=j.useState(v);let Y;e[8]===Symbol.for("react.memo_cache_sentinel")?(Y=[],e[8]=Y):Y=e[8];const[pe,Oe]=j.useState(Y),[X,he]=j.useState(f.DEFAULT),[C,We]=j.useState(null);let Z,R;e[9]!==o?(Z=()=>{o!==void 0&&et(o).then(r=>{We(r)}).catch(ft)},R=[o],e[9]=o,e[10]=Z,e[11]=R):(Z=e[10],R=e[11]),j.useEffect(Z,R);let ee,te;e[12]===Symbol.for("react.memo_cache_sentinel")?(ee=()=>{tt().then(r=>{Ne(r.engines),Oe(r.types)})},te=[],e[12]=ee,e[13]=te):(ee=e[12],te=e[13]),j.useEffect(ee,te),j.useEffect(()=>{const r=Je.create();r.page=d,r.pageSize=40,Ye(x,o,m,c,r,X).then(b=>{var J;fe(Fe(b.nodeTrees)),G(((J=b.pageResult)==null?void 0:J.totalPage)??1)})},[n,x,c,m,o,d,X]);const Fe=r=>{switch(X){case f.DEFAULT:return r;case f.UPDATE:return r.sort(pt);case f.VIEW:return r.sort(ht);case f.LIKE:return r.sort(gt);case f.DOWNLOAD:return r.sort(jt);default:return r}},Ae=bt;let se;e[14]!==$||e[15]!==i?(se=()=>["",...$].map(r=>s.jsx(w,{title:Ae(r),onClick:()=>{i(b=>(b.set("e",r),b))}})),e[14]=$,e[15]=i,e[16]=se):se=e[16];const ge=se,De=yt;let ne;e[17]!==i||e[18]!==pe?(ne=()=>["",...pe].map(r=>s.jsx(w,{title:De(r),onClick:()=>{i(b=>(b.set("t",r),b))}})),e[17]=i,e[18]=pe,e[19]=ne):ne=e[19];const je=ne;let le;e[20]!==(l==null?void 0:l.userId)||e[21]!==o?(le=()=>o===(l==null?void 0:l.userId)?"Only Me":"All Users",e[20]=l==null?void 0:l.userId,e[21]=o,e[22]=le):le=e[22];const be=le;let ie;e[23]!==(l==null?void 0:l.userId)||e[24]!==i?(ie=()=>[s.jsx(w,{title:"All Users",onClick:()=>{i(St)}}),s.jsx(w,{title:"Only Me",onClick:()=>{i(r=>(r.set("o",l!=null&&l.userId?(l==null?void 0:l.userId)+"":""),r))}})],e[23]=l==null?void 0:l.userId,e[24]=i,e[25]=ie):ie=e[25];const ye=ie,ke=It;let re;e[26]!==he?(re=()=>[f.DEFAULT,f.UPDATE,f.VIEW,f.LIKE,f.DOWNLOAD].map(r=>s.jsx(w,{title:ke(r),onClick:()=>{he(r)}})),e[26]=he,e[27]=re):re=e[27];const Se=re;let oe;e[28]===Symbol.for("react.memo_cache_sentinel")?(oe={width:{xs:"95%",sm:"90%",md:"80%",lg:"80%",xl:"80%"}},e[28]=oe):oe=e[28];let T;e[29]!==C||e[30]!==t||e[31]!==o||e[32]!==i?(T=o!==void 0&&C&&s.jsx(ot,{menuItems:[s.jsx(w,{title:"View Profile",onClick:()=>{t(Ze(C.id))}}),s.jsx(w,{title:"Remove Filter",onClick:()=>{i(wt)}})],children:s.jsx(Xe,{title:C.name,avatarUrl:C.avatarUrl,onClick:()=>{i(vt)}})}),e[29]=C,e[30]=t,e[31]=o,e[32]=i,e[33]=T):T=e[33];let L;e[34]!==h||e[35]!==i?(L=()=>{i(r=>(r.set("q",h),r))},e[34]=h,e[35]=i,e[36]=L):L=e[36];let ae;e[37]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(at,{}),e[37]=ae):ae=e[37];let E;e[38]!==h||e[39]!==K||e[40]!==L?(E=s.jsx(st,{label:"Search",value:h,onSubmit:L,setValue:K,endAdornment:ae}),e[38]=h,e[39]=K,e[40]=L,e[41]=E):E=e[41];let A;e[42]!==T||e[43]!==E?(A=s.jsxs(g,{direction:"row",justifyContent:"center",alignItems:"center",width:"100%",spacing:2,children:[T,E]}),e[42]=T,e[43]=E,e[44]=A):A=e[44];let D;e[45]!==c?(D=Ae(c),e[45]=c,e[46]=D):D=e[46];let k;e[47]!==ge?(k=ge(),e[47]=ge,e[48]=k):k=e[48];let z;e[49]!==D||e[50]!==k?(z=s.jsx(de,{title:D,menuItems:k,size:"small"}),e[49]=D,e[50]=k,e[51]=z):z=e[51];let U;e[52]!==m?(U=De(m),e[52]=m,e[53]=U):U=e[53];let _;e[54]!==je?(_=je(),e[54]=je,e[55]=_):_=e[55];let M;e[56]!==U||e[57]!==_?(M=s.jsx(de,{title:U,menuItems:_,size:"small"}),e[56]=U,e[57]=_,e[58]=M):M=e[58];let N;e[59]!==ye||e[60]!==be||e[61]!==(l==null?void 0:l.userId)?(N=(l==null?void 0:l.userId)&&s.jsx(de,{title:be(),menuItems:ye(),size:"small"}),e[59]=ye,e[60]=be,e[61]=l==null?void 0:l.userId,e[62]=N):N=e[62];let O;e[63]!==z||e[64]!==M||e[65]!==N?(O=s.jsxs(g,{direction:"row",justifyContent:"start",children:[z,M,N]}),e[63]=z,e[64]=M,e[65]=N,e[66]=O):O=e[66];const Ie=ke(X);let W;e[67]!==Se?(W=Se(),e[67]=Se,e[68]=W):W=e[68];let F;e[69]!==Ie||e[70]!==W?(F=s.jsx(g,{direction:"row",justifyContent:"end",children:s.jsx(de,{title:Ie,menuItems:W,size:"small"})}),e[69]=Ie,e[70]=W,e[71]=F):F=e[71];let P;e[72]!==O||e[73]!==F?(P=s.jsxs(g,{direction:"row",justifyContent:"space-between",children:[O,F]}),e[72]=O,e[73]=F,e[74]=P):P=e[74];let V;e[75]!==A||e[76]!==P?(V=s.jsxs(g,{direction:"column",spacing:1,sx:oe,children:[A,P]}),e[75]=A,e[76]=P,e[77]=V):V=e[77];let ce,ue;e[78]===Symbol.for("react.memo_cache_sentinel")?(ce={xs:1.5,sm:1.5,md:1,lg:1,xl:1},ue={xs:1,sm:1,md:2,lg:2,xl:2},e[78]=ce,e[79]=ue):(ce=e[78],ue=e[79]);let q;e[80]!==Q?(q=Q.map(Ct),e[80]=Q,e[81]=q):q=e[81];let B;e[82]!==q?(B=s.jsx(Me,{container:!0,rowSpacing:ce,columnSpacing:ue,width:"100%",marginTop:"0px",children:q}),e[82]=q,e[83]=B):B=e[83];let H;e[84]!==d||e[85]!==i||e[86]!==S?(H=S>1&&s.jsx(nt,{count:S,page:d+1,onChange:(r,b)=>{i(J=>(J.set("p",""+(b-1)),J))}}),e[84]=d,e[85]=i,e[86]=S,e[87]=H):H=e[87];let me;return e[88]!==V||e[89]!==B||e[90]!==H?(me=s.jsxs(g,{direction:"column",width:"100%",alignItems:"center",children:[V,B,H]}),e[88]=V,e[89]=B,e[90]=H,e[91]=me):me=e[91],me};function ft(e){lt(e)}function pt(e,t){return(t.updateAt??0)-(e.updateAt??0)}function ht(e,t){return ve(t)-ve(e)}function gt(e,t){return Te(t)-Te(e)}function jt(e,t){return Ce(t)-Ce(e)}function bt(e){return e===""?"All Engines":Re(e)}function yt(e){return e===""?"All Node Types":it(e)}function St(e){return e.set("o",""),e}function It(e){switch(e){case f.DEFAULT:return"Default";case f.UPDATE:return"Update Time";case f.VIEW:return"View Count";case f.LIKE:return"Like Count";case f.DOWNLOAD:return"Download Count";default:return"Default"}}function wt(e){return e.set("o",""),e}function vt(e){return e.set("o",""),e}function Ct(e,t){return s.jsx(Me,{size:{xs:6,sm:6,md:3,lg:3,xl:2.4},children:s.jsx(xt,{profile:e})},e.id)}export{At as default};
