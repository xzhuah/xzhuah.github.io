import{q as E,j as s,c as L,a3 as _,r as w,Z as H,a5 as T,bn as z,T as M,aW as V,bo as q,S as U,a4 as O,bp as W,bq as D,t as F,aL as P,aM as $,D as B,aJ as G}from"./index-CUbU1K4J.js";const J=E(s.jsx("path",{d:"m17.34 20-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 14.34zM12 17c0-3.87 3.13-7 7-7 1.08 0 2.09.25 3 .68V4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v18l4-4h6c0-.17.01-.33.03-.5-.02-.16-.03-.33-.03-.5"})),X=E([s.jsx("circle",{cx:"19",cy:"3",r:"3"},"0"),s.jsx("path",{d:"M6 8V6h9.03c-1.21-1.6-1.08-3.21-.92-4H4.01c-1.1 0-2 .89-2 2L2 22l4-4h14c1.1 0 2-.9 2-2V6.97C21.16 7.61 20.13 8 19 8zm8 6H6v-2h8zm4-3H6V9h12z"},"1")]),Z=g=>{const e=L.c(54);let t,r,i;e[0]!==g?({notification:t,onRead:r,...i}=g,e[0]=g,e[1]=t,e[2]=r,e[3]=i):(t=e[1],r=e[2],i=e[3]);const b=_(),[a,y]=w.useState(t.read),{t:A}=H();let l;e[4]!==r||e[5]!==a?(l=()=>{a?y(!0):r().then(()=>{y(!0)})},e[4]=r,e[5]=a,e[6]=l):l=e[6];const j=l;let p;e[7]!==j||e[8]!==b||e[9]!==t.link||e[10]!==a?(p=()=>{a||j(),t.link&&b(t.link)},e[7]=j,e[8]=b,e[9]=t.link,e[10]=a,e[11]=p):p=e[11];const R=p;let o;e[12]!==t.sender?(o=t.sender&&s.jsx(T,{title:t.sender.name,avatarUrl:t.sender.avatarUrl,sx:{width:60,height:60},profileLink:z(t.sender.id)}),e[12]=t.sender,e[13]=o):o=e[13];const I=t.link!==void 0?"pointer":"";let v;e[14]!==j?(v=()=>{j()},e[14]=j,e[15]=v):v=e[15];let k;e[16]!==R?(k=()=>{R()},e[16]=R,e[17]=k):k=e[17];let c;e[18]!==t.title?(c=t.title.length>0&&s.jsx(M,{variant:"h6",children:t.title}),e[18]=t.title,e[19]=c):c=e[19];let f;e[20]!==t.count?(f=t.count>1&&s.jsx(M,{variant:"body1",children:" + "+t.count}),e[20]=t.count,e[21]=f):f=e[21];let C;e[22]!==a?(C=a?s.jsx(J,{color:"success"}):s.jsx(X,{color:"warning"}),e[22]=a,e[23]=C):C=e[23];let d;e[24]!==c||e[25]!==f||e[26]!==C?(d=s.jsxs(U,{direction:"row",alignItems:"center",spacing:2,children:[c,f,C]}),e[24]=c,e[25]=f,e[26]=C,e[27]=d):d=e[27];let h;e[28]!==t.content?(h=t.content.length>0&&s.jsx(M,{variant:"body1",enableTranslate:!1,children:t.content}),e[28]=t.content,e[29]=h):h=e[29];let u;e[30]!==t.createAt?(u=V(t.createAt),e[30]=t.createAt,e[31]=u):u=e[31];let x;e[32]!==a||e[33]!==A?(x=A(a?"has read":"un read"),e[32]=a,e[33]=A,e[34]=x):x=e[34];let S;e[35]!==u||e[36]!==x?(S=s.jsxs(M,{variant:"caption",children:[u,", ",x]}),e[35]=u,e[36]=x,e[37]=S):S=e[37];let n;e[38]!==d||e[39]!==h||e[40]!==S||e[41]!==I||e[42]!==v||e[43]!==k?(n=s.jsxs(U,{direction:"column",flexGrow:1,alignItems:"start",className:I,onMouseEnter:v,onClick:k,children:[d,h,S]}),e[38]=d,e[39]=h,e[40]=S,e[41]=I,e[42]=v,e[43]=k,e[44]=n):n=e[44];let m;e[45]!==j||e[46]!==t.avatarUrl||e[47]!==R?(m=t.avatarUrl&&s.jsx(q,{className:"pointer",src:t.avatarUrl,onMouseEnter:()=>{j()},onClick:()=>{R()},sx:{maxWidth:80,maxHeight:80}}),e[45]=j,e[46]=t.avatarUrl,e[47]=R,e[48]=m):m=e[48];let N;return e[49]!==i||e[50]!==n||e[51]!==m||e[52]!==o?(N=s.jsxs(U,{justifyContent:"flex-start",direction:"row",spacing:2,...i,children:[o,n,m]}),e[49]=i,e[50]=n,e[51]=m,e[52]=o,e[53]=N):N=e[53],N},ee=g=>{const e=L.c(36);let t,r;e[0]!==g?({sx:r,...t}=g,e[0]=g,e[1]=t,e[2]=r):(t=e[1],r=e[2]);const{showAlert:i}=w.useContext(O),{ack:b}=w.useContext(W);let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[3]=a):a=e[3];const[y,A]=w.useState(a),[l,j]=w.useState(!0),[p,R]=w.useState(!1),[o]=w.useState(0),[,I]=w.useState(1);let v;e[4]!==o||e[5]!==i||e[6]!==l?(v=()=>{D(l,100,o).then(n=>{var m;A(n.notifications),I(((m=n.pageResult)==null?void 0:m.totalPage)||1)}).catch(n=>{i(n.message,"error")})},e[4]=o,e[5]=i,e[6]=l,e[7]=v):v=e[7];let k;e[8]!==o||e[9]!==p||e[10]!==l?(k=[l,p,o],e[8]=o,e[9]=p,e[10]=l,e[11]=k):k=e[11],w.useEffect(v,k);let c;e[12]!==r?(c={marginX:1,...r},e[12]=r,e[13]=c):c=e[13];let f;e[14]!==b||e[15]!==y||e[16]!==p||e[17]!==i?(f=s.jsx(F,{variant:"contained",disableElevation:!0,onClick:()=>{const n=y.filter(K).map(Q);n.length!==0&&b(n).then(()=>{R(!p)}).catch(m=>{i(m.message,"error")})},children:"Mark All As Read"}),e[14]=b,e[15]=y,e[16]=p,e[17]=i,e[18]=f):f=e[18];let C;e[19]===Symbol.for("react.memo_cache_sentinel")?(C=n=>{j(n.target.checked)},e[19]=C):C=e[19];let d;e[20]!==l?(d=s.jsx(P,{control:s.jsx($,{checked:l,onChange:C}),label:"Show Unread Only"}),e[20]=l,e[21]=d):d=e[21];let h;e[22]!==f||e[23]!==d?(h=s.jsxs(U,{direction:"row",spacing:1,justifyContent:"space-between",children:[f,d]}),e[22]=f,e[23]=d,e[24]=h):h=e[24];let u;e[25]!==b||e[26]!==i?(u=(n,m)=>s.jsxs(U,{direction:"column",spacing:1,children:[s.jsx(Z,{notification:n,onRead:()=>b([n.id]).catch(N=>{i(N.message,"error")})}),s.jsx(B,{})]},n.id),e[25]=b,e[26]=i,e[27]=u):u=e[27];let x;e[28]!==y||e[29]!==u?(x=s.jsx(G,{data:y,renderItem:u}),e[28]=y,e[29]=u,e[30]=x):x=e[30];let S;return e[31]!==t||e[32]!==x||e[33]!==c||e[34]!==h?(S=s.jsxs(U,{direction:"column",spacing:1,sx:c,...t,children:[h,x]}),e[31]=t,e[32]=x,e[33]=c,e[34]=h,e[35]=S):S=e[35],S};function K(g){return!g.read}function Q(g){return g.id}export{ee as default};
