import{q as ut,j as p,s as pe,B as Tr,m as jr,aQ as Rn,a as Ir,g as Or,r as W,u as Fr,aR as Br,i as Xr,k as Yr,aS as Rr,c as ft,aT as dn,aU as We,aV as Ar,aW as pn,aX as se,aY as gn,aZ as Ct,a_ as Ue,T as it,aH as Ke,S as yt,a$ as ur,b0 as An,x as Lr,a7 as lt,b1 as fr,a4 as In,b2 as Wr,b3 as vr,b4 as Kr,ak as oe,b5 as xt,b6 as $r,b7 as Nr,a2 as Hr,b8 as Vr,b9 as zr,Z as Ur,ba as rn,bb as Gr,aL as Ln,bc as qr,bd as Wn,be as Zr,bf as Jr,aG as on,bg as Qr,bh as Kn,bi as ti,aJ as an,bj as ei,bk as ni,aM as ri,D as ii,ad as oi,bl as $n}from"./index-CuMhGs3H.js";import{C as hr}from"./ContextMenu-OHq696FH.js";import{F as mn,D as dr}from"./FileIcon-Doa9pI_k.js";import{A as ai}from"./AccessTime-DLxflDCf.js";import{C as si}from"./ContentCopy-DGpN-Usd.js";const li=ut(p.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),ci=pe(Tr)(jr(({theme:i})=>({display:"flex",marginLeft:`calc(${i.spacing(1)} * 0.5)`,marginRight:`calc(${i.spacing(1)} * 0.5)`,...i.palette.mode==="light"?{backgroundColor:i.palette.grey[100],color:i.palette.grey[700]}:{backgroundColor:i.palette.grey[700],color:i.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...i.palette.mode==="light"?{backgroundColor:i.palette.grey[200]}:{backgroundColor:i.palette.grey[600]}},"&:active":{boxShadow:i.shadows[0],...i.palette.mode==="light"?{backgroundColor:Rn(i.palette.grey[200],.12)}:{backgroundColor:Rn(i.palette.grey[600],.12)}}}))),ui=pe(li)({width:24,height:16});function fi(i){const{slots:t={},slotProps:r={},...n}=i,e=i;return p.jsx("li",{children:p.jsx(ci,{focusRipple:!0,...n,ownerState:e,children:p.jsx(ui,{as:t.CollapsedIcon,ownerState:e,...r.collapsedIcon})})})}function vi(i){return Or("MuiBreadcrumbs",i)}const hi=Ir("MuiBreadcrumbs",["root","ol","li","separator"]),di=i=>{const{classes:t}=i;return Yr({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},vi,t)},pi=pe(Rr,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(i,t)=>[{[`& .${hi.li}`]:t.li},t.root]})({}),gi=pe("ol",{name:"MuiBreadcrumbs",slot:"Ol"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),mi=pe("li",{name:"MuiBreadcrumbs",slot:"Separator"})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function yi(i,t,r,n){return i.reduce((e,o,a)=>(a<i.length-1?e=e.concat(o,p.jsx(mi,{"aria-hidden":!0,className:t,ownerState:n,children:r},`separator-${a}`)):e.push(o),e),[])}const _i=W.forwardRef(function(t,r){const n=Fr({props:t,name:"MuiBreadcrumbs"}),{children:e,className:o,component:a="nav",slots:s={},slotProps:l={},expandText:c="Show path",itemsAfterCollapse:u=1,itemsBeforeCollapse:v=1,maxItems:f=8,separator:h="/",...m}=n,[d,y]=W.useState(!1),_={...n,component:a,expanded:d,expandText:c,itemsAfterCollapse:u,itemsBeforeCollapse:v,maxItems:f,separator:h},g=di(_),C=Br({elementType:s.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:_}),b=W.useRef(null),j=x=>{const E=()=>{y(!0);const T=b.current.querySelector("a[href],button,[tabindex]");T&&T.focus()};return v+u>=x.length?x:[...x.slice(0,v),p.jsx(fi,{"aria-label":c,slots:{CollapsedIcon:s.CollapsedIcon},slotProps:{collapsedIcon:C},onClick:E},"ellipsis"),...x.slice(x.length-u,x.length)]},P=W.Children.toArray(e).filter(x=>W.isValidElement(x)).map((x,E)=>p.jsx("li",{className:g.li,children:x},`child-${E}`));return p.jsx(pi,{ref:r,component:a,color:"textSecondary",className:Xr(g.root,o),ownerState:_,...m,children:p.jsx(gi,{className:g.ol,ref:b,ownerState:_,children:yi(d||f&&P.length<=f?P:j(P),g.separator,h,_)})})}),Si=ut(p.jsx("path",{d:"M8 11h8v2H8zm12.1 1H22c0-2.76-2.24-5-5-5h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M19 12h-2v3h-3v2h3v3h2v-3h3v-2h-3z"})),Ci=ut([p.jsx("path",{d:"m12 2-5.5 9h11z"},"0"),p.jsx("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),p.jsx("path",{d:"M3 13.5h8v8H3z"},"2")]),bi=ut(p.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})),xi=ut(p.jsx("path",{d:"M2 20h20v4H2zm3.49-3h2.42l1.27-3.58h5.65L16.09 17h2.42L13.25 3h-2.5zm4.42-5.61 2.03-5.79h.12l2.03 5.79z"})),Ei=ut(p.jsx("path",{fillRule:"evenodd",d:"M3 3v8h8V3zm6 6H5V5h4zm-6 4v8h8v-8zm6 6H5v-4h4zm4-16v8h8V3zm6 6h-4V5h4zm-6 4v8h8v-8zm6 6h-4v-4h4z"})),pr=ut(p.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),Di=ut(p.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),ki=ut(p.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),wi=ut(p.jsx("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"})),Mi=ut(p.jsx("path",{d:"m18.25 7.6-5.5-3.18c-.46-.27-1.04-.27-1.5 0L5.75 7.6c-.46.27-.75.76-.75 1.3v6.35c0 .54.29 1.03.75 1.3l5.5 3.18c.46.27 1.04.27 1.5 0l5.5-3.18c.46-.27.75-.76.75-1.3V8.9c0-.54-.29-1.03-.75-1.3M7 14.96v-4.62l4 2.32v4.61zm5-4.03L8 8.61l4-2.31 4 2.31zm1 6.34v-4.61l4-2.32v4.62zM7 2H3.5C2.67 2 2 2.67 2 3.5V7h2V4h3zm10 0h3.5c.83 0 1.5.67 1.5 1.5V7h-2V4h-3zM7 22H3.5c-.83 0-1.5-.67-1.5-1.5V17h2v3h3zm10 0h3.5c.83 0 1.5-.67 1.5-1.5V17h-2v3h-3z"})),Pi=ut(p.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),yn=i=>{var c;const t=ft.c(11),{fileItem:r,openAction:n}=i,e=r.isFolder?void 0:dn;let o;t[0]!==r.isFolder?(o=u=>{r.isFolder||u.stopPropagation()},t[0]=r.isFolder,t[1]=o):o=t[1];const a=r.url||((c=r.fileMetaData)==null?void 0:c.url)||void 0;let s;t[2]!==r||t[3]!==n?(s=u=>{r.isFolder&&(u.stopPropagation(),n==null||n(r))},t[2]=r,t[3]=n,t[4]=s):s=t[4];let l;return t[5]!==r.name||t[6]!==e||t[7]!==o||t[8]!==a||t[9]!==s?(l=p.jsx(We,{target:e,onContextMenu:o,href:a,component:"a",onClick:s,children:r.name}),t[5]=r.name,t[6]=e,t[7]=o,t[8]=a,t[9]=s,t[10]=l):l=t[10],l},Ti=i=>{var pt,gt,vt,ot;const t=ft.c(83);let r,n,e,o,a;t[0]!==i?({fileItem:r,selected:a,menuItems:n,openAction:e,...o}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=a):(r=t[1],n=t[2],e=t[3],o=t[4],a=t[5]);const s=r.isFolder,l=r.isPublic;let c;t[6]!==n?(c=n??[],t[6]=n,t[7]=c):c=t[7];const u=a?"rgba(194, 231, 255,1)":"transparent",v=a?"rgba(194, 231, 255,1)":"rgba(0, 0, 0, 0.1)";let f;t[8]!==v?(f={backgroundColor:v},t[8]=v,t[9]=f):f=t[9];let h;t[10]!==u||t[11]!==f?(h={backgroundColor:u,paddingY:1.5,paddingX:2,"&:hover":f},t[10]=u,t[11]=f,t[12]=h):h=t[12];const m=(pt=r.fileMetaData)==null?void 0:pt.contentType,d=a?"primary":"inherit";let y;t[13]!==s||t[14]!==l||t[15]!==m||t[16]!==d?(y=p.jsx(mn,{isFolder:s,contentType:m,isPublic:l,color:d}),t[13]=s,t[14]=l,t[15]=m,t[16]=d,t[17]=y):y=t[17];let _;t[18]!==r||t[19]!==e?(_=p.jsx(it,{variant:"body1",enableTranslate:!1,flexGrow:1,children:p.jsx(yn,{fileItem:r,openAction:e})}),t[18]=r,t[19]=e,t[20]=_):_=t[20];let g;t[21]!==r?(g=Ar(r),t[21]=r,t[22]=g):g=t[22];let C;t[23]!==g?(C=p.jsx(it,{variant:"body1",enableTranslate:!1,flexBasis:"100px",children:g}),t[23]=g,t[24]=C):C=t[24];let b;t[25]!==r.lastModifiedDate?(b=pn(r.lastModifiedDate),t[25]=r.lastModifiedDate,t[26]=b):b=t[26];let j;t[27]!==b?(j=p.jsx(it,{variant:"body1",enableTranslate:!1,flexBasis:"200px",children:b}),t[27]=b,t[28]=j):j=t[28];const P=(gt=r.fileMetaData)==null?void 0:gt.sizeInBytes;let x;t[29]!==P?(x=se(P),t[29]=P,t[30]=x):x=t[30];let E;t[31]!==x?(E=p.jsx(it,{variant:"body1",enableTranslate:!1,flexBasis:"100px",children:x}),t[31]=x,t[32]=E):E=t[32];let T;t[33]!==r.isPublic?(T=gn(r.isPublic),t[33]=r.isPublic,t[34]=T):T=t[34];let B;t[35]!==T?(B=p.jsx(it,{variant:"body1",enableTranslate:!1,flexBasis:"100px",children:T}),t[35]=T,t[36]=B):B=t[36];let O;t[37]!==C||t[38]!==j||t[39]!==E||t[40]!==B||t[41]!==y||t[42]!==_?(O=p.jsx(Ke,{up:"md",children:p.jsxs(yt,{direction:"row",spacing:1,alignItems:"center",className:"pointer",flexGrow:1,children:[y,_,C,j,E,B]})}),t[37]=C,t[38]=j,t[39]=E,t[40]=B,t[41]=y,t[42]=_,t[43]=O):O=t[43];const I=(vt=r.fileMetaData)==null?void 0:vt.contentType,w=a?"primary":"inherit";let A;t[44]!==s||t[45]!==l||t[46]!==I||t[47]!==w?(A=p.jsx(mn,{isFolder:s,contentType:I,isPublic:l,fontSize:"large",color:w}),t[44]=s,t[45]=l,t[46]=I,t[47]=w,t[48]=A):A=t[48];let R;t[49]!==r||t[50]!==e?(R=p.jsxs(it,{variant:"body1",enableTranslate:!1,flexGrow:1,children:[" ",p.jsx(yn,{fileItem:r,openAction:e})]}),t[49]=r,t[50]=e,t[51]=R):R=t[51];let D;t[52]!==r.lastModifiedDate?(D=pn(r.lastModifiedDate),t[52]=r.lastModifiedDate,t[53]=D):D=t[53];let H;t[54]!==D?(H=p.jsx(it,{variant:"caption",enableTranslate:!1,children:D}),t[54]=D,t[55]=H):H=t[55];const X=(ot=r.fileMetaData)==null?void 0:ot.sizeInBytes;let Y;t[56]!==X?(Y=se(X),t[56]=X,t[57]=Y):Y=t[57];let V;t[58]!==Y?(V=p.jsx(it,{variant:"caption",enableTranslate:!1,children:Y}),t[58]=Y,t[59]=V):V=t[59];let K;t[60]!==r.isPublic?(K=gn(r.isPublic),t[60]=r.isPublic,t[61]=K):K=t[61];let F;t[62]!==K?(F=p.jsx(it,{variant:"caption",enableTranslate:!1,children:K}),t[62]=K,t[63]=F):F=t[63];let z;t[64]!==H||t[65]!==V||t[66]!==F?(z=p.jsxs(yt,{direction:"row",spacing:1,alignItems:"center",children:[H,V,F]}),t[64]=H,t[65]=V,t[66]=F,t[67]=z):z=t[67];let $;t[68]!==R||t[69]!==z?($=p.jsxs(yt,{direction:"column",spacing:1,flexGrow:1,children:[R,z]}),t[68]=R,t[69]=z,t[70]=$):$=t[70];let L;t[71]!==A||t[72]!==$?(L=p.jsx(Ke,{down:"md",children:p.jsxs(yt,{direction:"row",spacing:2,alignItems:"center",className:"pointer",flexGrow:1,children:[A,$]})}),t[71]=A,t[72]=$,t[73]=L):L=t[73];let Q;t[74]!==n?(Q=n&&n.length>0&&Ct.isMobile&&p.jsx(Ue,{icon:p.jsx(pr,{}),sx:{borderRadius:"500px"},menuAlign:"right",stopPropagation:!0,menuItems:n}),t[74]=n,t[75]=Q):Q=t[75];let nt;return t[76]!==o||t[77]!==c||t[78]!==O||t[79]!==L||t[80]!==Q||t[81]!==h?(nt=p.jsxs(hr,{direction:"row",spacing:1,alignItems:"center",textAlign:"start",menuItems:c,enableLongPress:Ct.isMobile,sx:h,...o,children:[O,L,Q]}),t[76]=o,t[77]=c,t[78]=O,t[79]=L,t[80]=Q,t[81]=h,t[82]=nt):nt=t[82],nt},ji=i=>{var L,Q,nt;const t=ft.c(61);let r,n,e,o,a,s;t[0]!==i?({fileItem:r,selected:a,menuItems:n,iconSize:s,openAction:e,...o}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=a,t[6]=s):(r=t[1],n=t[2],e=t[3],o=t[4],a=t[5],s=t[6]);const l=s===void 0?6:s,c=r.isFolder,u=r.isPublic;let v;t[7]!==n?(v=n??[],t[7]=n,t[8]=v):v=t[8];const f=a?"rgba(194, 231, 255,1)":"transparent",h=a?"rgba(194, 231, 255,1)":"rgba(0, 0, 0, 0.1)";let m;t[9]!==h?(m={backgroundColor:h},t[9]=h,t[10]=m):m=t[10];let d;t[11]!==f||t[12]!==m?(d={backgroundColor:f,paddingY:1,paddingX:1.5,borderRadius:1,"&:hover":m},t[11]=f,t[12]=m,t[13]=d):d=t[13];const y=`${pn(r.lastModifiedDate)}
${se((L=r.fileMetaData)==null?void 0:L.sizeInBytes)}
${gn(r.isPublic)}`,_=l*4,g=l*3;let C;t[14]!==_||t[15]!==g?(C={"& .MuiBadge-badge":{height:_,minWidth:g}},t[14]=_,t[15]=g,t[16]=C):C=t[16];let b;t[17]!==n?(b=Ct.isMobile&&n&&n.length>0?p.jsx(Ue,{icon:p.jsx(pr,{color:"success"}),menuAlign:"right",stopPropagation:!0,menuItems:n}):void 0,t[17]=n,t[18]=b):b=t[18];let j;t[19]===Symbol.for("react.memo_cache_sentinel")?(j={vertical:"top",horizontal:"right"},t[19]=j):j=t[19];const P=l*4,x=l*3;let E;t[20]!==P||t[21]!==x?(E={"& .MuiBadge-badge":{height:P,minWidth:x}},t[20]=P,t[21]=x,t[22]=E):E=t[22];let T;t[23]!==l||t[24]!==u?(T=u?p.jsx(bi,{sx:{fontSize:`${l/5}rem`}}):p.jsx(ur,{sx:{fontSize:`${l/5}rem`}}),t[23]=l,t[24]=u,t[25]=T):T=t[25];const B=u?"success":"warning";let O;t[26]===Symbol.for("react.memo_cache_sentinel")?(O={vertical:"bottom",horizontal:"right"},t[26]=O):O=t[26];const I=(Q=r.fileMetaData)==null?void 0:Q.contentType,w=a?"primary":"inherit",A=`${l}rem`;let R;t[27]!==A?(R={fontSize:A},t[27]=A,t[28]=R):R=t[28];let D;t[29]!==c||t[30]!==u||t[31]!==I||t[32]!==w||t[33]!==R?(D=p.jsx(mn,{isFolder:c,contentType:I,isPublic:u,color:w,sx:R}),t[29]=c,t[30]=u,t[31]=I,t[32]=w,t[33]=R,t[34]=D):D=t[34];let H;t[35]!==E||t[36]!==T||t[37]!==B||t[38]!==D?(H=p.jsx(An,{sx:E,badgeContent:T,color:B,overlap:"circular",anchorOrigin:O,children:D}),t[35]=E,t[36]=T,t[37]=B,t[38]=D,t[39]=H):H=t[39];let X;t[40]!==C||t[41]!==b||t[42]!==H?(X=p.jsx(An,{sx:C,badgeContent:b,overlap:"circular",anchorOrigin:j,children:H}),t[40]=C,t[41]=b,t[42]=H,t[43]=X):X=t[43];let Y;t[44]!==r||t[45]!==e?(Y=p.jsx(it,{variant:"body1",enableTranslate:!1,flexGrow:1,children:p.jsx(yn,{fileItem:r,openAction:e})}),t[44]=r,t[45]=e,t[46]=Y):Y=t[46];const V=(nt=r.fileMetaData)==null?void 0:nt.sizeInBytes;let K;t[47]!==V?(K=se(V),t[47]=V,t[48]=K):K=t[48];let F;t[49]!==K?(F=p.jsx(it,{variant:"caption",enableTranslate:!1,children:K}),t[49]=K,t[50]=F):F=t[50];let z;t[51]!==X||t[52]!==Y||t[53]!==F?(z=p.jsxs(Lr,{children:[X,Y,F]}),t[51]=X,t[52]=Y,t[53]=F,t[54]=z):z=t[54];let $;return t[55]!==o||t[56]!==v||t[57]!==z||t[58]!==d||t[59]!==y?($=p.jsx(hr,{direction:"column",spacing:1,alignItems:"center",textAlign:"center",flexShrink:1,enableLongPress:Ct.isMobile,menuItems:v,sx:d,title:y,...o,children:z}),t[55]=o,t[56]=v,t[57]=z,t[58]=d,t[59]=y,t[60]=$):$=t[60],$},Ii=i=>{const t=ft.c(13);let r,n,e,o;t[0]!==i?({folderId:r,title:e,target:o,...n}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e,t[4]=o):(r=t[1],n=t[2],e=t[3],o=t[4]);const a=e===void 0?"Open":e,s=o===void 0?"_blank":o;let l;t[5]===Symbol.for("react.memo_cache_sentinel")?(l=p.jsx(Di,{}),t[5]=l):l=t[5];let c;t[6]!==r||t[7]!==s?(c=()=>{window.open(fr(r),s)},t[6]=r,t[7]=s,t[8]=c):c=t[8];let u;return t[9]!==n||t[10]!==c||t[11]!==a?(u=p.jsx(lt,{icon:l,onClick:c,title:a,...n}),t[9]=n,t[10]=c,t[11]=a,t[12]=u):u=t[12],u},Oi=i=>{const t=ft.c(17);let r,n,e,o;t[0]!==i?({fileId:r,isPublic:n,onVisibilityChange:e,...o}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e,t[4]=o):(r=t[1],n=t[2],e=t[3],o=t[4]);const{showAlert:a}=W.useContext(In);let s;t[5]!==n?(s=n?p.jsx(ur,{}):p.jsx(ki,{}),t[5]=n,t[6]=s):s=t[6];let l;t[7]!==r||t[8]!==n||t[9]!==e||t[10]!==a?(l=()=>{Wr(r,!n).then(()=>{e()}).catch(v=>{a("Failed to change: "+v.message)})},t[7]=r,t[8]=n,t[9]=e,t[10]=a,t[11]=l):l=t[11];const c=n?"UnShare":"Share";let u;return t[12]!==o||t[13]!==s||t[14]!==l||t[15]!==c?(u=p.jsx(lt,{icon:s,onClick:l,title:c,...o}),t[12]=o,t[13]=s,t[14]=l,t[15]=c,t[16]=u):u=t[16],u},Fi=i=>{const t=ft.c(18);let r,n,e,o,a;t[0]!==i?({fileId:r,onDelete:n,title:o,color:a,...e}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=a):(r=t[1],n=t[2],e=t[3],o=t[4],a=t[5]);const s=o===void 0?"Delete":o,l=a===void 0?"error":a,{showAlert:c}=W.useContext(In);let u;t[6]!==l?(u=p.jsx(dr,{color:l}),t[6]=l,t[7]=u):u=t[7];let v;t[8]!==r||t[9]!==n||t[10]!==c?(v=()=>{vr(r).then(()=>{n()}).catch(h=>{c("Failed to delete: "+h.message)})},t[8]=r,t[9]=n,t[10]=c,t[11]=v):v=t[11];let f;return t[12]!==l||t[13]!==e||t[14]!==u||t[15]!==v||t[16]!==s?(f=p.jsx(lt,{icon:u,color:l,onClick:v,title:s,...e}),t[12]=l,t[13]=e,t[14]=u,t[15]=v,t[16]=s,t[17]=f):f=t[17],f},Bi=i=>{const t=ft.c(15);let r,n,e,o,a;t[0]!==i?({fileId:n,existingName:r,onRename:e,title:a,...o}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=a):(r=t[1],n=t[2],e=t[3],o=t[4],a=t[5]);const s=a===void 0?"Rename":a;let l;t[6]===Symbol.for("react.memo_cache_sentinel")?(l=p.jsx(Kr,{}),t[6]=l):l=t[6];let c;t[7]!==r||t[8]!==n||t[9]!==e?(c=async()=>{(await oe("RenameDriverFileDialog",{filename:r,fileId:n})).success&&e()},t[7]=r,t[8]=n,t[9]=e,t[10]=c):c=t[10];let u;return t[11]!==o||t[12]!==c||t[13]!==s?(u=p.jsx(lt,{icon:l,onClick:c,title:s,...o}),t[11]=o,t[12]=c,t[13]=s,t[14]=u):u=t[14],u},gr=i=>{const t=ft.c(15);let r,n,e,o;t[0]!==i?({currentStatus:r,statusToContentButtonProps:o,onStatusChange:n,...e}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e,t[4]=o):(r=t[1],n=t[2],e=t[3],o=t[4]);const a=o[r],s=a.title;let l;t[5]!==o?(l=Object.keys(o),t[5]=o,t[6]=l):l=t[6];let c;t[7]!==n||t[8]!==o||t[9]!==l?(c=l.map(v=>{const{onClick:f,...h}=o[v];return p.jsx(lt,{sx:xt,onClick:m=>{f&&f(m),n(v)},...h},v)}),t[7]=n,t[8]=o,t[9]=l,t[10]=c):c=t[10];let u;return t[11]!==e||t[12]!==a.title||t[13]!==c?(u=p.jsx(Ue,{title:s,menuItems:c,...e}),t[11]=e,t[12]=a.title,t[13]=c,t[14]=u):u=t[14],u},Nn={stack:{title:"List",icon:p.jsx(Pi,{})},grid:{title:"Grid",icon:p.jsx(Ei,{})}},Xi=i=>{const t=ft.c(11);let r,n,e;t[0]!==i?({currentLayout:r,onLayoutChange:n,...e}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e):(r=t[1],n=t[2],e=t[3]);let o;t[4]!==n?(o=l=>{n(l)},t[4]=n,t[5]=o):o=t[5];const a=Nn[r];let s;return t[6]!==r||t[7]!==e||t[8]!==o||t[9]!==a.icon?(s=p.jsx(gr,{currentStatus:r,statusToContentButtonProps:Nn,onStatusChange:o,icon:a.icon,...e}),t[6]=r,t[7]=e,t[8]=o,t[9]=a.icon,t[10]=s):s=t[10],s},Hn={name:{title:"Name",icon:p.jsx(xi,{})},type:{title:"Type",icon:p.jsx(Ci,{})},time:{title:"Last Modified",icon:p.jsx(ai,{})},size:{title:"Size",icon:p.jsx(Mi,{})},visibility:{title:"Visibility",icon:p.jsx($r,{})}},Yi=i=>{const t=ft.c(11);let r,n,e;t[0]!==i?({currentSorter:r,onSorterChange:n,...e}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e):(r=t[1],n=t[2],e=t[3]);let o;t[4]!==n?(o=l=>{n(l)},t[4]=n,t[5]=o):o=t[5];const a=Hn[r];let s;return t[6]!==r||t[7]!==e||t[8]!==o||t[9]!==a.icon?(s=p.jsx(gr,{currentStatus:r,statusToContentButtonProps:Hn,onStatusChange:o,icon:a.icon,...e}),t[6]=r,t[7]=e,t[8]=o,t[9]=a.icon,t[10]=s):s=t[10],s},Vn=(i,t,r,n)=>{var o,a,s,l;let e=0;if(i.isFolder&&!t.isFolder)return e=1,n?-e:e;if(!i.isFolder&&t.isFolder)return e=-1,n?-e:e;switch(r){case"size":e=(((o=i.fileMetaData)==null?void 0:o.sizeInBytes)||0)-(((a=t.fileMetaData)==null?void 0:a.sizeInBytes)||0);break;case"time":e=i.lastModifiedDate-t.lastModifiedDate;break;case"type":e=(((s=i.fileMetaData)==null?void 0:s.contentType)||"").localeCompare(((l=t.fileMetaData)==null?void 0:l.contentType)||"");break;case"visibility":e=i.isPublic?1:-1-(t.isPublic?1:-1);break;case"name":default:e=i.name.localeCompare(t.name);break}return e===0&&(e=i.id-t.id),n?-e:e};var Ri="function",Ai="object",Li="string",Wi="undefined",Ki=typeof document!==Wi&&document,$i=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],dt=1e-7,Xe={cm:function(i){return i*96/2.54},mm:function(i){return i*96/254},in:function(i){return i*96},pt:function(i){return i*96/72},pc:function(i){return i*96/6},"%":function(i,t){return i*t/100},vw:function(i,t){return t===void 0&&(t=window.innerWidth),i/100*t},vh:function(i,t){return t===void 0&&(t=window.innerHeight),i/100*t},vmax:function(i,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),i/100*t},vmin:function(i,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),i/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ni(){for(var i=0,t=0,r=arguments.length;t<r;t++)i+=arguments[t].length;for(var n=Array(i),e=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,e++)n[e]=o[a];return n}function bt(i){return i&&typeof i===Ai}function $e(i){return Array.isArray(i)}function he(i){return typeof i===Li}function On(i){return typeof i===Ri}function Hi(i,t){var r=i===""||i==" ",n=t===""||t==" ";return n&&r||i===t}function mr(i,t,r,n,e){var o=Fn(i,t,r);return o?r:Vi(i,t,r+1,n,e)}function Fn(i,t,r){if(!i.ignore)return null;var n=t.slice(Math.max(r-3,0),r+3).join("");return new RegExp(i.ignore).exec(n)}function Vi(i,t,r,n,e){for(var o=function(c){var u=t[c].trim();if(u===i.close&&!Fn(i,t,c))return{value:c};var v=c,f=de(e,function(h){var m=h.open;return m===u});if(f&&(v=mr(f,t,c,n,e)),v===-1)return a=c,"break";c=v,a=c},a,s=r;s<n;++s){var l=o(s);if(s=a,typeof l=="object")return l.value;if(l==="break")break}return-1}function Bn(i,t){var r=he(t)?{separator:t}:t,n=r.separator,e=n===void 0?",":n,o=r.isSeparateFirst,a=r.isSeparateOnlyOpenClose,s=r.isSeparateOpenClose,l=s===void 0?a:s,c=r.openCloseCharacters,u=c===void 0?$i:c,v=u.map(function(x){var E=x.open,T=x.close;return E===T?E:E+"|"+T}).join("|"),f="(\\s*"+e+"\\s*|"+v+"|\\s+)",h=new RegExp(f,"g"),m=i.split(h).filter(function(x){return x&&x!=="undefined"}),d=m.length,y=[],_=[];function g(){return _.length?(y.push(_.join("")),_=[],!0):!1}for(var C=function(x){var E=m[x].trim(),T=x,B=de(u,function(w){var A=w.open;return A===E}),O=de(u,function(w){var A=w.close;return A===E});if(B){if(T=mr(B,m,x,d,u),T!==-1&&l)return g()&&o||(y.push(m.slice(x,T+1).join("")),x=T,o)?(b=x,"break"):(b=x,"continue")}else if(O&&!Fn(O,m,x)){var I=Ni(u);return I.splice(u.indexOf(O),1),{value:Bn(i,{separator:e,isSeparateFirst:o,isSeparateOnlyOpenClose:a,isSeparateOpenClose:l,openCloseCharacters:I})}}else if(Hi(E,e)&&!a)return g(),o?(b=x,"break"):(b=x,"continue");T===-1&&(T=d-1),_.push(m.slice(x,T+1).join("")),x=T,b=x},b,j=0;j<d;++j){var P=C(j);if(j=b,typeof P=="object")return P.value;if(P==="break")break}return _.length&&y.push(_.join("")),y}function zi(i){return Bn(i,"")}function le(i){return Bn(i,",")}function Ui(i){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(i);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Ne(i){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(i);if(!t)return{prefix:"",unit:"",value:NaN};var r=t[1],n=t[2],e=t[3];return{prefix:r,unit:e,value:parseFloat(n)}}function _n(i){return i.replace(/[\s-_]+([^\s-_])/g,function(t,r){return r.toUpperCase()})}function Sn(){return Date.now?Date.now():new Date().getTime()}function He(i,t,r){r===void 0&&(r=-1);for(var n=i.length,e=0;e<n;++e)if(t(i[e],e,i))return e;return r}function de(i,t,r){var n=He(i,t);return n>-1?i[n]:r}function zn(i,t){var r=Ne(i),n=r.value,e=r.unit;if(bt(t)){var o=t[e];if(o){if(On(o))return o(n);if(Xe[e])return Xe[e](n,o)}}else if(e==="%")return n*t/100;return Xe[e]?Xe[e](n):n}function yr(i,t,r){return Math.max(t,Math.min(i,r))}function Un(i,t,r,n){return n===void 0&&(n=i[0]/i[1]),[[_t(t[0],dt),_t(t[0]/n,dt)],[_t(t[1]*n,dt),_t(t[1],dt)]].filter(function(e){return e.every(function(o,a){var s=t[a],l=_t(s,dt);return r?o<=s||o<=l:o>=s||o>=l})})[0]||i}function Gi(i,t,r,n){if(!n)return i.map(function(h,m){return yr(h,t[m],r[m])});var e=i[0],o=i[1],a=n===!0?e/o:n,s=Un(i,t,!1,a),l=s[0],c=s[1],u=Un(i,r,!0,a),v=u[0],f=u[1];return e<l||o<c?(e=l,o=c):(e>v||o>f)&&(e=v,o=f),[e,o]}function qi(i){for(var t=i.length,r=0,n=t-1;n>=0;--n)r+=i[n];return r}function Zi(i){for(var t=i.length,r=0,n=t-1;n>=0;--n)r+=i[n];return t?r/t:0}function Gn(i,t){var r=t[0]-i[0],n=t[1]-i[1],e=Math.atan2(n,r);return e>=0?e:e+Math.PI*2}function Ji(i){return[0,1].map(function(t){return Zi(i.map(function(r){return r[t]}))})}function qn(i){var t=Ji(i),r=Gn(t,i[0]),n=Gn(t,i[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function Cn(i,t){return Math.sqrt(Math.pow((t?t[0]:0)-i[0],2)+Math.pow((t?t[1]:0)-i[1],2))}function _t(i,t){var r=1/t;return Math.round(i/t)/r}function Qi(i,t){return i.classList?i.classList.contains(t):!!i.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function to(i,t){i.classList?i.classList.add(t):i.className+=" "+t}function J(i,t,r,n){i.addEventListener(t,r,n)}function U(i,t,r,n){i.removeEventListener(t,r,n)}function mt(i){return(i==null?void 0:i.ownerDocument)||Ki}function Et(i){var t;return((t=i==null?void 0:i.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function eo(i){return i&&"postMessage"in i&&"blur"in i&&"self"in i}function Zn(i){return bt(i)&&i.nodeName&&i.nodeType&&"ownerDocument"in i}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bn=function(){return bn=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},bn.apply(this,arguments)};function no(){for(var i=0,t=0,r=arguments.length;t<r;t++)i+=arguments[t].length;for(var n=Array(i),e=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,e++)n[e]=o[a];return n}var Ge=function(){function i(){this._events={}}var t=i.prototype;return t.on=function(r,n){if(bt(r))for(var e in r)this.on(e,r[e]);else this._addEvent(r,n,{});return this},t.off=function(r,n){if(!r)this._events={};else if(bt(r))for(var e in r)this.off(e);else if(!n)this._events[r]=[];else{var o=this._events[r];if(o){var a=He(o,function(s){return s.listener===n});a>-1&&o.splice(a,1)}}return this},t.once=function(r,n){var e=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(o){e._addEvent(r,o,{once:!0})})},t.emit=function(r,n){var e=this;n===void 0&&(n={});var o=this._events[r];if(!r||!o)return!0;var a=!1;return n.eventType=r,n.stop=function(){a=!0},n.currentTarget=this,no(o).forEach(function(s){s.listener(n),s.once&&e.off(r,s.listener)}),!a},t.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},t._addEvent=function(r,n,e){var o=this._events;o[r]=o[r]||[];var a=o[r];a.push(bn({listener:n},e))},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xn=function(i,t){return xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var e in n)n.hasOwnProperty(e)&&(r[e]=n[e])},xn(i,t)};function ro(i,t){xn(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var q=function(){return q=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},q.apply(this,arguments)};function io(i,t){var r=t[0]-i[0],n=t[1]-i[1],e=Math.atan2(n,r);return e>=0?e:e+Math.PI*2}function sn(i){return io([i[0].clientX,i[0].clientY],[i[1].clientX,i[1].clientY])/Math.PI*180}function oo(i){return i.touches&&i.touches.length>=2}function Ye(i){return i?i.touches?so(i.touches):[_r(i)]:[]}function ao(i){return i&&(i.type.indexOf("mouse")>-1||"button"in i)}function Jn(i,t,r){var n=r.length,e=ue(i,n),o=e.clientX,a=e.clientY,s=e.originalClientX,l=e.originalClientY,c=ue(t,n),u=c.clientX,v=c.clientY,f=ue(r,n),h=f.clientX,m=f.clientY,d=o-u,y=a-v,_=o-h,g=a-m;return{clientX:s,clientY:l,deltaX:d,deltaY:y,distX:_,distY:g}}function ln(i){return Math.sqrt(Math.pow(i[0].clientX-i[1].clientX,2)+Math.pow(i[0].clientY-i[1].clientY,2))}function so(i){for(var t=Math.min(i.length,2),r=[],n=0;n<t;++n)r.push(_r(i[n]));return r}function _r(i){return{clientX:i.clientX,clientY:i.clientY}}function ue(i,t){t===void 0&&(t=i.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(i.length,t),e=0;e<n;++e){var o=i[e];r.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,r.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,r.clientX+=o.clientX,r.clientY+=o.clientY}return t?{clientX:r.clientX/t,clientY:r.clientY/t,originalClientX:r.originalClientX/t,originalClientY:r.originalClientY/t}:r}var cn=function(){function i(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return i.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),sn(t)},i.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),sn(t)-sn(this.startClients)},i.prototype.getPosition=function(t,r){t===void 0&&(t=this.prevClients);var n=Jn(t||this.prevClients,this.prevClients,this.startClients),e=n.deltaX,o=n.deltaY;return this.movement+=Math.sqrt(e*e+o*o),this.prevClients=t,n},i.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var r=this.prevClients,n=this.startClients,e=Math.min(this.length,r.length),o=[],a=0;a<e;++a)o[a]=Jn([t[a]],[r[a]],[n[a]]);return o},i.prototype.getMovement=function(t){var r=this.movement;if(!t)return r;var n=ue(t,this.length),e=ue(this.prevClients,this.length),o=n.clientX-e.clientX,a=n.clientY-e.clientY;return Math.sqrt(o*o+a*a)+r},i.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),ln(t)},i.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),ln(t)/ln(this.startClients)},i.prototype.move=function(t,r){this.startClients.forEach(function(n){n.clientX-=t,n.clientY-=r}),this.prevClients.forEach(function(n){n.clientX-=t,n.clientY-=r})},i}(),Qn=["textarea","input"],lo=function(i){ro(t,i);function t(r,n){n===void 0&&(n={});var e=i.call(this)||this;e.options={},e.flag=!1,e.pinchFlag=!1,e.data={},e.isDrag=!1,e.isPinch=!1,e.clientStores=[],e.targets=[],e.prevTime=0,e.doubleFlag=!1,e._useMouse=!1,e._useTouch=!1,e._useDrag=!1,e._dragFlag=!1,e._isTrusted=!1,e._isMouseEvent=!1,e._isSecondaryButton=!1,e._preventMouseEvent=!1,e._prevInputEvent=null,e._isDragAPI=!1,e._isIdle=!0,e._preventMouseEventId=0,e._window=window,e.onDragStart=function(f,h){if(h===void 0&&(h=!0),!(!e.flag&&f.cancelable===!1)){var m=f.type.indexOf("drag")>=-1;if(!(e.flag&&m)){e._isDragAPI=!0;var d=e.options,y=d.container,_=d.pinchOutside,g=d.preventWheelClick,C=d.preventRightClick,b=d.preventDefault,j=d.checkInput,P=d.dragFocusedInput,x=d.preventClickEventOnDragStart,E=d.preventClickEventOnDrag,T=d.preventClickEventByCondition,B=e._useTouch,O=!e.flag;if(e._isSecondaryButton=f.which===3||f.button===2,g&&(f.which===2||f.button===1)||C&&(f.which===3||f.button===2))return e.stop(),!1;if(O){var I=e._window.document.activeElement,w=f.target;if(w){var A=w.tagName.toLowerCase(),R=Qn.indexOf(A)>-1,D=w.isContentEditable;if(R||D){if(j||!P&&I===w)return!1;if(I&&(I===w||D&&I.isContentEditable&&I.contains(w)))if(P)w.blur();else return!1}else if((b||f.type==="touchstart")&&I){var H=I.tagName.toLowerCase();(I.isContentEditable||Qn.indexOf(H)>-1)&&I.blur()}(x||E||T)&&J(e._window,"click",e._onClick,!0)}e.clientStores=[new cn(Ye(f))],e._isIdle=!1,e.flag=!0,e.isDrag=!1,e._isTrusted=h,e._dragFlag=!0,e._prevInputEvent=f,e.data={},e.doubleFlag=Sn()-e.prevTime<200,e._isMouseEvent=ao(f),!e._isMouseEvent&&e._preventMouseEvent&&e._allowMouseEvent();var X=e._preventMouseEvent||e.emit("dragStart",q(q({data:e.data,datas:e.data,inputEvent:f,isMouseEvent:e._isMouseEvent,isSecondaryButton:e._isSecondaryButton,isTrusted:h,isDouble:e.doubleFlag},e.getCurrentStore().getPosition()),{preventDefault:function(){f.preventDefault()},preventDrag:function(){e._dragFlag=!1}}));X===!1&&e.stop(),e._isMouseEvent&&e.flag&&b&&f.preventDefault()}if(!e.flag)return!1;var Y=0;if(O?(e._attchDragEvent(),B&&_&&(Y=setTimeout(function(){J(y,"touchstart",e.onDragStart,{passive:!1})}))):B&&_&&U(y,"touchstart",e.onDragStart),e.flag&&oo(f)){if(clearTimeout(Y),O&&f.touches.length!==f.changedTouches.length)return;e.pinchFlag||e.onPinchStart(f)}}}},e.onDrag=function(f,h){if(e.flag){var m=e.options.preventDefault;!e._isMouseEvent&&m&&f.preventDefault(),e._prevInputEvent=f;var d=Ye(f),y=e.moveClients(d,f,!1);if(e._dragFlag){if(e.pinchFlag||y.deltaX||y.deltaY){var _=e._preventMouseEvent||e.emit("drag",q(q({},y),{isScroll:!!h,inputEvent:f}));if(_===!1){e.stop();return}}e.pinchFlag&&e.onPinch(f,d)}e.getCurrentStore().getPosition(d,!0)}},e.onDragEnd=function(f){if(e.flag){var h=e.options,m=h.pinchOutside,d=h.container,y=h.preventClickEventOnDrag,_=h.preventClickEventOnDragStart,g=h.preventClickEventByCondition,C=e.isDrag;(y||_||g)&&requestAnimationFrame(function(){e._allowClickEvent()}),!g&&!_&&y&&!C&&e._allowClickEvent(),e._useTouch&&m&&U(d,"touchstart",e.onDragStart),e.pinchFlag&&e.onPinchEnd(f);var b=f!=null&&f.touches?Ye(f):[],j=b.length;j===0||!e.options.keepDragging?e.flag=!1:e._addStore(new cn(b));var P=e._getPosition(),x=Sn(),E=!C&&e.doubleFlag;e._prevInputEvent=null,e.prevTime=C||E?0:x,e.flag||(e._dettachDragEvent(),e._preventMouseEvent||e.emit("dragEnd",q({data:e.data,datas:e.data,isDouble:E,isDrag:C,isClick:!C,isMouseEvent:e._isMouseEvent,isSecondaryButton:e._isSecondaryButton,inputEvent:f,isTrusted:e._isTrusted},P)),e.clientStores=[],e._isMouseEvent||(e._preventMouseEvent=!0,clearTimeout(e._preventMouseEventId),e._preventMouseEventId=setTimeout(function(){e._preventMouseEvent=!1},200)),e._isIdle=!0)}},e.onBlur=function(){e.onDragEnd()},e._allowClickEvent=function(){U(e._window,"click",e._onClick,!0)},e._onClick=function(f){e._allowClickEvent(),e._allowMouseEvent();var h=e.options.preventClickEventByCondition;h!=null&&h(f)||(f.stopPropagation(),f.preventDefault())},e._onContextMenu=function(f){var h=e.options;h.preventRightClick?e.onDragEnd(f):f.preventDefault()},e._passCallback=function(){};var o=[].concat(r),a=o[0];e._window=eo(a)?a:Et(a),e.options=q({checkInput:!1,container:a&&!("document"in a)?Et(a):a,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var s=e.options,l=s.container,c=s.events,u=s.checkWindowBlur;if(e._useDrag=c.indexOf("drag")>-1,e._useTouch=c.indexOf("touch")>-1,e._useMouse=c.indexOf("mouse")>-1,e.targets=o,e._useDrag&&o.forEach(function(f){J(f,"dragstart",e.onDragStart)}),e._useMouse&&(o.forEach(function(f){J(f,"mousedown",e.onDragStart),J(f,"mousemove",e._passCallback)}),J(l,"contextmenu",e._onContextMenu)),u&&J(Et(),"blur",e.onBlur),e._useTouch){var v={passive:!1};o.forEach(function(f){J(f,"touchstart",e.onDragStart,v),J(f,"touchmove",e._passCallback,v)})}return e}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(n,e){return n+e.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(r,n,e,o){o===void 0&&(o=!0),this.flag&&(this.clientStores[0].move(r,n),o&&this.onDrag(e,!0))},t.prototype.move=function(r,n){var e=r[0],o=r[1],a=this.getCurrentStore(),s=a.prevClients;return this.moveClients(s.map(function(l){var c=l.clientX,u=l.clientY;return{clientX:c+e,clientY:u+o,originalClientX:c,originalClientY:u}}),n,!0)},t.prototype.triggerDragStart=function(r){this.onDragStart(r,!1)},t.prototype.setEventData=function(r){var n=this.data;for(var e in r)n[e]=r[e];return this},t.prototype.setEventDatas=function(r){return this.setEventData(r)},t.prototype.getCurrentEvent=function(r){return r===void 0&&(r=this._prevInputEvent),q(q({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var r=this,n=this.targets,e=this.options.container;this.off(),U(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(o){U(o,"dragstart",r.onDragStart)}),this._useMouse&&(n.forEach(function(o){U(o,"mousedown",r.onDragStart)}),U(e,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(o){U(o,"touchstart",r.onDragStart)}),U(e,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(r){var n=this,e=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>e)){var o=new cn(Ye(r));this.pinchFlag=!0,this._addStore(o);var a=this.emit("pinchStart",q(q({data:this.data,datas:this.data,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:r,isTrusted:this._isTrusted,preventDefault:function(){r.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));a===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(r,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var e=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",q(q({data:this.data,datas:this.data,movement:this.getMovement(n),angle:e.getAngle(n),rotation:e.getRotation(n),touches:e.getPositions(n),scale:e.getScale(n),distance:e.getDistance(n)},e.getPosition(n)),{inputEvent:r,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(r){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var e=this.getCurrentStore();this.emit("pinchEnd",q(q({data:this.data,datas:this.data,isPinch:n,touches:e.getPositions()},e.getPosition()),{inputEvent:r}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(r,n,e){var o=this._getPosition(r,e),a=this.isDrag;(o.deltaX||o.deltaY)&&(this.isDrag=!0);var s=!1;return!a&&this.isDrag&&(s=!0),q(q({data:this.data,datas:this.data},o),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},t.prototype._addStore=function(r){this.clientStores.splice(0,0,r)},t.prototype._getPosition=function(r,n){var e=this.getCurrentStore(),o=e.getPosition(r,n),a=this.clientStores.slice(1).reduce(function(c,u){var v=u.getPosition();return c.distX+=v.distX,c.distY+=v.distY,c},o),s=a.distX,l=a.distY;return q(q({},o),{distX:s,distY:l})},t.prototype._attchDragEvent=function(){var r=this._window,n=this.options.container,e={passive:!1};this._isDragAPI&&(J(n,"dragover",this.onDrag,e),J(r,"dragend",this.onDragEnd)),this._useMouse&&(J(n,"mousemove",this.onDrag),J(r,"mouseup",this.onDragEnd)),this._useTouch&&(J(n,"touchmove",this.onDrag,e),J(r,"touchend",this.onDragEnd,e),J(r,"touchcancel",this.onDragEnd,e))},t.prototype._dettachDragEvent=function(){var r=this._window,n=this.options.container;this._isDragAPI&&(U(n,"dragover",this.onDrag),U(r,"dragend",this.onDragEnd)),this._useMouse&&(U(n,"mousemove",this.onDrag),U(r,"mouseup",this.onDragEnd)),this._useTouch&&(U(n,"touchstart",this.onDragStart),U(n,"touchmove",this.onDrag),U(r,"touchend",this.onDragEnd),U(r,"touchcancel",this.onDragEnd))},t.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},t}(Ge);function co(i,t){return function(r){r&&(i[t]=r)}}function uo(i,t){return function(r){var n=r.prototype;i.forEach(function(e){t(n,e)})}}function fo(i,t){return t===void 0&&(t={}),function(r,n){i.forEach(function(e){var o=t[e]||e;o in r||(r[o]=function(){for(var a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=(a=this[n])[e].apply(a,s);return c===this[n]?this:c})})}}var vo=function(){function i(){this.keys=[],this.values=[]}var t=i.prototype;return t.get=function(r){return this.values[this.keys.indexOf(r)]},t.set=function(r,n){var e=this.keys,o=this.values,a=e.indexOf(r),s=a===-1?e.length:a;e[s]=r,o[s]=n},i}(),ho=function(){function i(){this.object={}}var t=i.prototype;return t.get=function(r){return this.object[r]},t.set=function(r,n){this.object[r]=n},i}(),po=typeof Map=="function",go=function(){function i(){}var t=i.prototype;return t.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},t.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},t.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},i}();function mo(i,t){var r=[],n=[];return i.forEach(function(e){var o=e[0],a=e[1],s=new go;r[o]=s,n[a]=s}),r.forEach(function(e,o){e.connect(r[o-1])}),i.filter(function(e,o){return!t[o]}).map(function(e,o){var a=e[0],s=e[1];if(a===s)return[0,0];var l=r[a],c=n[s-1],u=l.getIndex();l.disconnect(),c?l.connect(c,c.next):l.connect(void 0,r[0]);var v=l.getIndex();return[u,v]})}var yo=function(){function i(r,n,e,o,a,s,l,c){this.prevList=r,this.list=n,this.added=e,this.removed=o,this.changed=a,this.maintained=s,this.changedBeforeAdded=l,this.fixed=c}var t=i.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var r=mo(this.changedBeforeAdded,this.fixed),n=this.changed,e=[];this.cacheOrdered=r.filter(function(o,a){var s=o[0],l=o[1],c=n[a],u=c[0],v=c[1];if(s!==l)return e.push([u,v]),!0}),this.cachePureChanged=e},i}();function _o(i,t,r){var n=po?Map:r?ho:vo,e=r||function(g){return g},o=[],a=[],s=[],l=i.map(e),c=t.map(e),u=new n,v=new n,f=[],h=[],m={},d=[],y=0,_=0;return l.forEach(function(g,C){u.set(g,C)}),c.forEach(function(g,C){v.set(g,C)}),l.forEach(function(g,C){var b=v.get(g);typeof b>"u"?(++_,a.push(C)):m[b]=_}),c.forEach(function(g,C){var b=u.get(g);typeof b>"u"?(o.push(C),++y):(s.push([b,C]),_=m[C]||0,f.push([b-_,C-y]),h.push(C===b),b!==C&&d.push([b,C]))}),a.reverse(),new yo(i,t,o,a,d,s,f,h)}var So=typeof Map=="function"?void 0:function(){var i=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++i)}}();function ce(i,t){return _o(i,t,So)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var En=function(i,t){return En=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var e in n)n.hasOwnProperty(e)&&(r[e]=n[e])},En(i,t)};function Co(i,t){En(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ae=function(){return ae=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ae.apply(this,arguments)};function bo(i){var t=i.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function tr(i,t){return i.addEventListener("scroll",t),function(){i.removeEventListener("scroll",t)}}function Re(i){if(i){if(he(i))return document.querySelector(i)}else return null;if(On(i))return i();if(i instanceof Element)return i;if("current"in i)return i.current;if("value"in i)return i.value}var xo=function(i){Co(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var e=n._currentOptions;n._lock||!e||n.emit("scrollDrag",{next:function(o){n.checkScroll({container:e.container,inputEvent:o})}})},n}var r=t.prototype;return r.dragStart=function(n,e){var o=Re(e.container);if(!o){this._flag=!1;return}var a=0,s=0,l=0,c=0;if(o===document.body)l=window.innerWidth,c=window.innerHeight;else{var u=o.getBoundingClientRect();a=u.top,s=u.left,l=u.width,c=u.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:a,left:s,width:l,height:c},this._prevScrollPos=this._getScrollPosition([0,0],e),this._currentOptions=e,this._registerScrollEvent(e)},r.drag=function(n,e){if(clearTimeout(this._timer),!!this._flag){var o=n.clientX,a=n.clientY,s=e.threshold,l=s===void 0?0:s,c=this,u=c._startRect,v=c._startPos;this._currentOptions=e;var f=[0,0];return u.top>a-l?(v[1]>u.top||a<v[1])&&(f[1]=-1):u.top+u.height<a+l&&(v[1]<u.top+u.height||a>v[1])&&(f[1]=1),u.left>o-l?(v[0]>u.left||o<v[0])&&(f[0]=-1):u.left+u.width<o+l&&(v[0]<u.left+u.width||o>v[0])&&(f[0]=1),!f[0]&&!f[1]?!1:this._continueDrag(ae(ae({},e),{direction:f,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var e=this;if(this._isWait)return!1;var o=n.prevScrollPos,a=o===void 0?this._prevScrollPos:o,s=n.direction,l=n.throttleTime,c=l===void 0?0:l,u=n.inputEvent,v=n.isDrag,f=this._getScrollPosition(s||[0,0],n),h=f[0]-a[0],m=f[1]-a[1],d=s||[h?Math.abs(h)/h:0,m?Math.abs(m)/m:0];return this._prevScrollPos=f,this._lock=!1,!h&&!m?!1:(this.emit("move",{offsetX:d[0]?h:0,offsetY:d[1]?m:0,inputEvent:u}),c&&v&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){e._continueDrag(n)},c)),!0)},r.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},r._getScrollPosition=function(n,e){var o=e.container,a=e.getScrollPosition,s=a===void 0?bo:a;return s({container:Re(o),direction:n})},r._continueDrag=function(n){var e=this,o,a=n.container,s=n.direction,l=n.throttleTime,c=n.useScroll,u=n.isDrag,v=n.inputEvent;if(!(!this._flag||u&&this._isWait)){var f=Sn(),h=Math.max(l+this._prevTime-f,0);if(h>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){e._continueDrag(n)},h),!1;this._prevTime=f;var m=this._getScrollPosition(s,n);this._prevScrollPos=m,u&&(this._isWait=!0),c||(this._lock=!0);var d={container:Re(a),direction:s,inputEvent:v};return(o=n.requestScroll)===null||o===void 0||o.call(n,d),this.emit("scroll",d),this._isWait=!1,c||this.checkScroll(ae(ae({},n),{prevScrollPos:m,direction:s,inputEvent:v}))}},r._registerScrollEvent=function(n){this._unregisterScrollEvent();var e=n.checkScrollEvent;if(e){var o=e===!0?tr:e,a=Re(n.container);e===!0&&(a===document.body||a===document.documentElement)?this._unregister=tr(window,this._onScroll):this._unregister=o(a,this._onScroll)}},r._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},t}(Ge),Dn=function(i,t){return Dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])},Dn(i,t)};function Eo(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dn(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Do(i,t){return t={exports:{}},i(t,t.exports),t.exports}var ge=Do(function(i,t){function r(l){if(l&&typeof l=="object"){var c=l.which||l.keyCode||l.charCode;c&&(l=c)}if(typeof l=="number")return a[l];var u=String(l),v=n[u.toLowerCase()];if(v)return v;var v=e[u.toLowerCase()];if(v)return v;if(u.length===1)return u.charCodeAt(0)}r.isEventKey=function(c,u){if(c&&typeof c=="object"){var v=c.which||c.keyCode||c.charCode;if(v==null)return!1;if(typeof u=="string"){var f=n[u.toLowerCase()];if(f)return f===v;var f=e[u.toLowerCase()];if(f)return f===v}else if(typeof u=="number")return u===v;return!1}},t=i.exports=r;var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},e=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var a=t.names=t.title={};for(o in n)a[n[o]]=o;for(var s in e)n[s]=e[s]});ge.code;ge.codes;ge.aliases;var ko=ge.names;ge.title;var er={"+":"plus","left command":"meta","right command":"meta"},nr={shift:1,ctrl:2,alt:3,meta:4};function Sr(i,t){var r=(ko[i]||t||"").toLowerCase();for(var n in er)r=r.replace(n,er[n]);return r.replace(/\s/g,"")}function Cr(i,t){t===void 0&&(t=Sr(i.keyCode,i.key));var r=wo(i);return r.indexOf(t)===-1&&r.push(t),r.filter(Boolean)}function wo(i){var t=[i.shiftKey&&"shift",i.ctrlKey&&"ctrl",i.altKey&&"alt",i.metaKey&&"meta"];return t.filter(Boolean)}function rr(i){var t=i.slice();return t.sort(function(r,n){var e=nr[r]||5,o=nr[n]||5;return e-o}),t}var ir,Mo=function(i){Eo(t,i);function t(n){n===void 0&&(n=window);var e=i.call(this)||this;return e.container=n,e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e.clear=function(){return e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e},e.keydownEvent=function(o){e.triggerEvent("keydown",o)},e.keyupEvent=function(o){e.triggerEvent("keyup",o)},e.blur=function(){e.clear(),e.trigger("blur")},J(n,"blur",e.blur),J(n,"keydown",e.keydownEvent),J(n,"keyup",e.keyupEvent),e}var r=t.prototype;return Object.defineProperty(t,"global",{get:function(){return ir||(ir=new t)},enumerable:!1,configurable:!0}),t.setGlobal=function(){return this.global},r.destroy=function(){var n=this.container;this.clear(),this.off(),U(n,"blur",this.blur),U(n,"keydown",this.keydownEvent),U(n,"keyup",this.keyupEvent)},r.keydown=function(n,e){return this.addEvent("keydown",n,e)},r.offKeydown=function(n,e){return this.removeEvent("keydown",n,e)},r.offKeyup=function(n,e){return this.removeEvent("keyup",n,e)},r.keyup=function(n,e){return this.addEvent("keyup",n,e)},r.addEvent=function(n,e,o){return $e(e)?this.on("".concat(n,".").concat(rr(e).join(".")),o):he(e)?this.on("".concat(n,".").concat(e),o):this.on(n,e),this},r.removeEvent=function(n,e,o){return $e(e)?this.off("".concat(n,".").concat(rr(e).join(".")),o):he(e)?this.off("".concat(n,".").concat(e),o):this.off(n,e),this},r.triggerEvent=function(n,e){this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey;var o=Sr(e.keyCode,e.key),a=o==="ctrl"||o==="shift"||o==="meta"||o==="alt",s={key:o,isToggle:a,inputEvent:e,keyCode:e.keyCode,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey};this.trigger(n,s),this.trigger("".concat(n,".").concat(o),s);var l=Cr(e,o);l.length>1&&this.trigger("".concat(n,".").concat(l.join(".")),s)},t}(Ge);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Po(){for(var i=0,t=0,r=arguments.length;t<r;t++)i+=arguments[t].length;for(var n=Array(i),e=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,e++)n[e]=o[a];return n}function at(i){return _t(i,dt)}function To(i,t){return i.every(function(r,n){return at(r-t[n])===0})}function jo(i,t){return!at(i[0]-t[0])&&!at(i[1]-t[1])}function un(i){return i.length<3?0:Math.abs(qi(i.map(function(t,r){var n=i[r+1]||i[0];return t[0]*n[1]-n[0]*t[1]})))/2}function Io(i,t){var r=t.width,n=t.height,e=t.left,o=t.top,a=br(i),s=a.minX,l=a.minY,c=a.maxX,u=a.maxY,v=r/(c-s),f=n/(u-l);return i.map(function(h){return[e+(h[0]-s)*v,o+(h[1]-l)*f]})}function br(i){var t=i.map(function(n){return n[0]}),r=i.map(function(n){return n[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,r)}}function kn(i,t,r){var n=i[0],e=i[1],o=br(t),a=o.minX,s=o.maxX,l=[[a,e],[s,e]],c=Ve(l[0],l[1]),u=wn(t),v=[];if(u.forEach(function(m){var d=Ve(m[0],m[1]),y=m[0];if(To(c,d))v.push({pos:i,line:m,type:"line"});else{var _=Er(xr(c,d),[l,m]);_.forEach(function(g){m.some(function(C){return jo(C,g)})?v.push({pos:g,line:m,type:"point"}):at(y[1]-e)!==0&&v.push({pos:g,line:m,type:"intersection"})})}}),de(v,function(m){return m[0]===n}))return!0;var f=0,h={};return v.forEach(function(m){var d=m.pos,y=m.type,_=m.line;if(!(d[0]>n))if(y==="intersection")++f;else{if(y==="line")return;if(y==="point"){var g=de(_,function(j){return j[1]!==e}),C=h[d[0]],b=g[1]>e?1:-1;C?C!==b&&++f:h[d[0]]=b}}}),f%2===1}function Ve(i,t){var r=i[0],n=i[1],e=t[0],o=t[1],a=e-r,s=o-n;Math.abs(a)<dt&&(a=0),Math.abs(s)<dt&&(s=0);var l=0,c=0,u=0;return a?s?(l=-s/a,c=1,u=-l*r-n):(c=1,u=-n):s&&(l=-1,u=r),[l,c,u]}function xr(i,t){var r=i[0],n=i[1],e=i[2],o=t[0],a=t[1],s=t[2],l=r===0&&o===0,c=n===0&&a===0,u=[];if(l&&c)return[];if(l){var v=-e/n,f=-s/a;return v!==f?[]:[[-1/0,v],[1/0,v]]}else if(c){var h=-e/r,m=-s/o;return h!==m?[]:[[h,-1/0],[h,1/0]]}else if(r===0){var d=-e/n,y=-(a*d+s)/o;u=[[y,d]]}else if(o===0){var d=-s/a,y=-(n*d+e)/r;u=[[y,d]]}else if(n===0){var y=-e/r,d=-(o*y+s)/a;u=[[y,d]]}else if(a===0){var y=-s/o,d=-(r*y+e)/n;u=[[y,d]]}else{var y=(n*s-a*e)/(a*r-n*o),d=-(r*y+e)/n;u=[[y,d]]}return u.map(function(_){return[_[0],_[1]]})}function Er(i,t){var r=t.map(function(v){return[0,1].map(function(f){return[Math.min(v[0][f],v[1][f]),Math.max(v[0][f],v[1][f])]})}),n=[];if(i.length===2){var e=i[0],o=e[0],a=e[1];if(at(o-i[1][0])){if(!at(a-i[1][1])){var c=Math.max.apply(Math,r.map(function(v){return v[0][0]})),u=Math.min.apply(Math,r.map(function(v){return v[0][1]}));if(at(c-u)>0)return[];n=[[c,a],[u,a]]}}else{var s=Math.max.apply(Math,r.map(function(v){return v[1][0]})),l=Math.min.apply(Math,r.map(function(v){return v[1][1]}));if(at(s-l)>0)return[];n=[[o,s],[o,l]]}}return n.length||(n=i.filter(function(v){var f=v[0],h=v[1];return r.every(function(m){return 0<=at(f-m[0][0])&&0<=at(m[0][1]-f)&&0<=at(h-m[1][0])&&0<=at(m[1][1]-h)})})),n.map(function(v){return[at(v[0]),at(v[1])]})}function wn(i){return Po(i.slice(1),[i[0]]).map(function(t,r){return[i[r],t]})}function Oo(i,t){var r=i.slice(),n=t.slice();qn(r)===-1&&r.reverse(),qn(n)===-1&&n.reverse();var e=wn(r),o=wn(n),a=e.map(function(u){return Ve(u[0],u[1])}),s=o.map(function(u){return Ve(u[0],u[1])}),l=[];a.forEach(function(u,v){var f=e[v],h=[];s.forEach(function(m,d){var y=xr(u,m),_=Er(y,[f,o[d]]);h.push.apply(h,_.map(function(g){return{index1:v,index2:d,pos:g,type:"intersection"}}))}),h.sort(function(m,d){return Cn(f[0],m.pos)-Cn(f[0],d.pos)}),l.push.apply(l,h),kn(f[1],n)&&l.push({index1:v,index2:-1,pos:f[1],type:"inside"})}),o.forEach(function(u,v){if(kn(u[1],r)){var f=!1,h=He(l,function(m){var d=m.index2;return d===v?(f=!0,!1):!!f});h===-1&&(f=!1,h=He(l,function(m){var d=m.index1,y=m.index2;return d===-1&&y+1===v?(f=!0,!1):!!f})),h===-1?l.push({index1:-1,index2:v,pos:u[1],type:"inside"}):l.splice(h,0,{index1:-1,index2:v,pos:u[1],type:"inside"})}});var c={};return l.filter(function(u){var v=u.pos,f=v[0]+"x"+v[1];return c[f]?!1:(c[f]=!0,!0)})}function or(i,t){var r=Oo(i,t);return r.map(function(n){var e=n.pos;return e})}function Fo(i,t,r,n,e,o){for(var a=0;a<e;++a){var s=r+a*e,l=n+a*e;i[s]+=i[l]*o,t[s]+=t[l]*o}}function Bo(i,t,r,n,e){for(var o=0;o<e;++o){var a=r+o*e,s=n+o*e,l=i[a],c=t[a];i[a]=i[s],i[s]=l,t[a]=t[s],t[s]=c}}function Xo(i,t,r,n,e){for(var o=0;o<n;++o){var a=r+o*n;i[a]/=e,t[a]/=e}}function Yo(i,t){for(var r=i.slice(),n=Dr(t),e=0;e<t;++e){var o=t*e+e;if(!_t(r[o],dt)){for(var a=e+1;a<t;++a)if(r[t*e+a]){Bo(r,n,e,a,t);break}}if(!_t(r[o],dt))return[];Xo(r,n,e,t,r[o]);for(var a=0;a<t;++a){var s=a,l=a+e*t,c=r[l];!_t(c,dt)||e===a||Fo(r,n,s,e,t,-c)}}return n}function Dt(i,t,r){r===void 0&&(r=Math.sqrt(i.length));var n=[],e=i.length/r,o=t.length/e;if(e){if(!o)return i}else return t;for(var a=0;a<r;++a)for(var s=0;s<o;++s){n[s*r+a]=0;for(var l=0;l<e;++l)n[s*r+a]+=i[l*r+a]*t[s*e+l]}return n}function Ro(i,t,r){var n=Dt(i,t,r),e=n[r-1];return n.map(function(o){return o/e})}function Ao(i,t){return Dt(i,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function Lo(i,t){return Dt(i,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function Wo(i,t){return Dt(i,Ko(t,4))}function Ae(i,t){var r=t[0],n=r===void 0?1:r,e=t[1],o=e===void 0?1:e,a=t[2],s=a===void 0?1:a;return Dt(i,[n,0,0,0,0,o,0,0,0,0,s,0,0,0,0,1],4)}function fn(i,t){var r=t[0],n=r===void 0?0:r,e=t[1],o=e===void 0?0:e,a=t[2],s=a===void 0?0:a;return Dt(i,[1,0,0,0,0,1,0,0,0,0,1,0,n,o,s,1],4)}function Mn(i,t){return Dt(i,t,4)}function Ko(i,t){var r=Math.cos(i),n=Math.sin(i),e=Dr(t);return e[0]=r,e[1]=n,e[t]=-n,e[t+1]=r,e}function Dr(i){for(var t=i*i,r=[],n=0;n<t;++n)r[n]=n%(i+1)?0:1;return r}var fe=function(){return fe=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},fe.apply(this,arguments)};function Xn(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function $o(i,t){return t===void 0&&(t=0),Ho(Vo(i,t))}function vn(i,t){var r=Ro(i,[t[0],t[1]||0,t[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function No(i,t){t===void 0&&(t=document.body);for(var r=i,n=Xn();r;){var e=getComputedStyle(r).transform;if(n=Mn($o(e),n),r===t)break;r=r.parentElement}return n=Yo(n,4),n[12]=0,n[13]=0,n[14]=0,n}function Ho(i){var t=Xn();return i.forEach(function(r){var n=r.matrixFunction,e=r.functionValue;n&&(t=n(t,e))}),t}function Vo(i,t){t===void 0&&(t=0);var r=$e(i)?i:zi(i);return r.map(function(n){var e=Ui(n),o=e.prefix,a=e.value,s=null,l=o,c="";if(o==="translate"||o==="translateX"||o==="translate3d"){var u=bt(t)?fe(fe({},t),{"o%":t["%"]}):{"%":t,"o%":t},v=le(a).map(function(w,A){return A===0&&"x%"in u?u["%"]=t["x%"]:A===1&&"y%"in u?u["%"]=t["y%"]:u["%"]=t["o%"],zn(w,u)}),f=v[0],h=v[1],m=h===void 0?0:h,d=v[2],y=d===void 0?0:d;s=fn,c=[f,m,y]}else if(o==="translateY"){var _=bt(t)?fe({"%":t["y%"]},t):{"%":t},m=zn(a,_);s=fn,c=[0,m,0]}else if(o==="translateZ"){var y=parseFloat(a);s=fn,c=[0,0,y]}else if(o==="scale"||o==="scale3d"){var g=le(a).map(function(w){return parseFloat(w)}),C=g[0],b=g[1],j=b===void 0?C:b,P=g[2],x=P===void 0?1:P;s=Ae,c=[C,j,x]}else if(o==="scaleX"){var C=parseFloat(a);s=Ae,c=[C,1,1]}else if(o==="scaleY"){var j=parseFloat(a);s=Ae,c=[1,j,1]}else if(o==="scaleZ"){var x=parseFloat(a);s=Ae,c=[1,1,x]}else if(o==="rotate"||o==="rotateZ"||o==="rotateX"||o==="rotateY"){var E=Ne(a),T=E.unit,B=E.value,O=T==="rad"?B:B*Math.PI/180;o==="rotate"||o==="rotateZ"?(l="rotateZ",s=Wo):o==="rotateX"?s=Ao:o==="rotateY"&&(s=Lo),c=O}else if(o==="matrix3d")s=Mn,c=le(a).map(function(w){return parseFloat(w)});else if(o==="matrix"){var I=le(a).map(function(w){return parseFloat(w)});s=Mn,c=[I[0],I[1],0,0,I[2],I[3],0,0,0,0,1,0,I[4],I[5],0,1]}else l="";return{name:o,functionName:l,value:a,matrixFunction:s,functionValue:c}})}function zo(i){for(var t=5381,r=i.length;r;)t=t*33^i.charCodeAt(--r);return t>>>0}var Uo=zo;function Go(i){return Uo(i).toString(36)}function qo(i){if(i&&i.getRootNode){var t=i.getRootNode();if(t.nodeType===11)return t}}function Zo(i,t,r){return r.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,e){var o=e.trim();return(o?le(o):[""]).map(function(a){var s=a.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(i))):s?".".concat(i," ").concat(s):".".concat(i)}).join(", ")+" {"})}function Jo(i,t,r,n,e){var o=mt(n),a=o.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",i),a.setAttribute("data-styled-count","1"),r.nonce&&a.setAttribute("nonce",r.nonce),a.innerHTML=Zo(i,t,r),(e||o.head||o.body).appendChild(a),a}function Qo(i){var t="rCS"+Go(i);return{className:t,inject:function(r,n){n===void 0&&(n={});var e=qo(r),o=(e||r.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!o)o=Jo(t,i,n,r,e);else{var a=parseFloat(o.getAttribute("data-styled-count"))||0;o.setAttribute("data-styled-count","".concat(a+1))}return{destroy:function(){var s,l=parseFloat(o.getAttribute("data-styled-count"))||0;l<=1?(o.remove?o.remove():(s=o.parentNode)===null||s===void 0||s.removeChild(o),o=null):o.setAttribute("data-styled-count","".concat(l-1))}}}}}var Pn=function(i,t){return Pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])},Pn(i,t)};function kr(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pn(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Z=function(){return Z=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Z.apply(this,arguments)};function ta(i,t){var r={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(r[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,n=Object.getOwnPropertySymbols(i);e<n.length;e++)t.indexOf(n[e])<0&&Object.prototype.propertyIsEnumerable.call(i,n[e])&&(r[n[e]]=i[n[e]]);return r}function ea(i,t,r,n){var e=arguments.length,o=e<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,r,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(e<3?a(o):e>3?a(t,r,o):a(t,r))||o);return e>3&&o&&Object.defineProperty(t,r,o),o}function ve(i,t,r){for(var n=0,e=t.length,o;n<e;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))}function na(i){if("touches"in i){var t=i.touches[0]||i.changedTouches[0];return{clientX:t.clientX,clientY:t.clientY}}else return{clientX:i.clientX,clientY:i.clientY}}function ra(i){if(typeof Map>"u")return i.filter(function(r,n){return i.indexOf(r)===n});var t=new Map;return i.filter(function(r){return t.has(r)?!1:(t.set(r,!0),!0)})}function ia(i,t,r){var n=mt(i);return n.elementFromPoint&&n.elementFromPoint(t,r)||null}function wr(i,t,r){var n=i.tag,e=i.children,o=i.attributes,a=i.className,s=i.style,l=t||mt(r).createElement(n);for(var c in o)l.setAttribute(c,o[c]);var u=l.children;if(e.forEach(function(f,h){wr(f,u[h],l)}),a&&a.split(/\s+/g).forEach(function(f){f&&!Qi(l,f)&&to(l,f)}),s){var v=l.style;for(var c in s)v[c]=s[c]}return!t&&r&&r.appendChild(l),l}function oa(i,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var e=t||{},o=e.className,a=o===void 0?"":o,s=e.style,l=s===void 0?{}:s,c=ta(e,["className","style"]);return{tag:i,className:a,style:l,attributes:c,children:r}}function hn(i,t,r){i!==t&&r(i,t)}function ar(i,t,r){var n;r===void 0&&(r=i.data.boundArea);var e=i.distX,o=e===void 0?0:e,a=i.distY,s=a===void 0?0:a,l=i.data,c=l.startX,u=l.startY;if(t>0){var v=Math.sqrt((o*o+s*s)/(1+t*t)),f=t*v;o=(o>=0?1:-1)*f,s=(s>=0?1:-1)*v}var h=Math.abs(o),m=Math.abs(s),d=o<0?c-r.left:r.right-c,y=s<0?u-r.top:r.bottom-u;n=Gi([h,m],[0,0],[d,y],!!t),h=n[0],m=n[1],o=(o>=0?1:-1)*h,s=(s>=0?1:-1)*m;var _=Math.min(0,o),g=Math.min(0,s),C=c+_,b=u+g;return{left:C,top:b,right:C+h,bottom:b+m,width:h,height:m}}function Le(i){var t=i.getBoundingClientRect(),r=t.left,n=t.top,e=t.width,o=t.height;return{pos1:[r,n],pos2:[r+e,n],pos3:[r,n+o],pos4:[r+e,n+o]}}function sr(i,t,r){var n=ce(i,t),e=n.list,o=n.prevList,a=n.added,s=n.removed,l=n.maintained;return ve(ve(ve([],a.map(function(c){return e[c]}),!0),s.map(function(c){return o[c]}),!0),r?l.map(function(c){var u=c[1];return e[u]}):[])}function lr(i){for(var t=0,r=i.length,n=1;n<r;++n)t=Math.max(Cn(i[n],i[n-1]),t);return t}var Mr=Qo(`
:host {
    position: fixed;
    display: none;
    border: 1px solid #4af;
    background: rgba(68, 170, 255, 0.5);
    pointer-events: none;
    will-change: transform;
    z-index: 100;
}
`),Tn="selecto-selection ".concat(Mr.className),Yn=["className","boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd","checkOverflow","innerScrollOptions"],aa=ve(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],Yn),Pr=["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll","innerScroll"],sa=["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"],la=function(i){kr(t,i);function t(n){n===void 0&&(n={});var e=i.call(this)||this;e.selectedTargets=[],e.dragScroll=new xo,e._onDragStart=function(s,l){var c=s.data,u=s.clientX,v=s.clientY,f=s.inputEvent,h=e.options,m=h.selectFromInside,d=h.selectByClick,y=h.rootContainer,_=h.boundContainer,g=h.preventDragFromInside,C=g===void 0?!0:g,b=h.clickBySelectEnd,j=h.dragCondition;if(j&&!j(s)){s.stop();return}c.data={};var P=Et(e.container);c.innerWidth=P.innerWidth,c.innerHeight=P.innerHeight,e.findSelectableTargets(c),c.startSelectedTargets=e.selectedTargets,c.scaleMatrix=Xn(),c.containerX=0,c.containerY=0;var x=e.container,E={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(y){var T=e.container.getBoundingClientRect();c.containerX=T.left,c.containerY=T.top,c.scaleMatrix=No(e.container,y)}if(_){var B=bt(_)&&"element"in _?Z({left:!0,top:!0,bottom:!0,right:!0},_):{element:_,left:!0,top:!0,bottom:!0,right:!0},O=B.element,I=void 0;if(O){he(O)?I=mt(x).querySelector(O):O===!0?I=e.container:I=O;var w=I.getBoundingClientRect();B.left&&(E.left=w.left),B.top&&(E.top=w.top),B.right&&(E.right=w.right),B.bottom&&(E.bottom=w.bottom)}}c.boundArea=E;var A={left:u,top:v,right:u,bottom:v,width:0,height:0},R=[],D=d&&!b,H=!1;if(!m||D){var X=e._findElement(l||f.target,c.selectableTargets);H=!!X,D&&(R=X?[X]:[])}var Y=!m&&H;if(Y&&!d)return s.stop(),!1;var V=f.type,K=V==="mousedown"||V==="touchstart",F=!s.isClick&&K?e.emit("dragStart",Z(Z({},s),{data:c.data})):!0;if(!F)return s.stop(),!1;if(e.continueSelect?(R=sr(e.selectedTargets,R,e.continueSelectWithoutDeselect),c.startPassedTargets=e.selectedTargets):c.startPassedTargets=[],e._select(R,A,s,!0,Y&&d&&!b&&C),c.startX=u,c.startY=v,c.selectFlag=!1,c.preventDragFromInside=!1,f.target){var z=vn(c.scaleMatrix,[u-c.containerX,v-c.containerY]);e.target.style.cssText+="position: ".concat(y?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(z[0],"px, ").concat(z[1],"px)")}if(Y&&d&&!b)f.preventDefault(),C&&(e._selectEnd(c.startSelectedTargets,c.startPassedTargets,A,s,!0),c.preventDragFromInside=!0);else{c.selectFlag=!0;var $=e.options,L=$.scrollOptions,Q=$.innerScrollOptions,nt=!1;if(Q){for(var pt=s.inputEvent,gt=pt.target,vt=null,ot=gt;ot&&ot!==mt(x).body;){var rt=getComputedStyle(ot).overflow!=="visible";if(rt){vt=ot;break}ot=ot.parentElement}vt&&(c.innerScrollOptions=Z({container:vt,checkScrollEvent:!0},Q===!0?{}:Q),e.dragScroll.dragStart(s,c.innerScrollOptions),nt=!0)}!nt&&L&&L.container&&e.dragScroll.dragStart(s,L),Y&&d&&b&&(c.selectFlag=!1,s.preventDrag())}return!0},e._onDrag=function(s){if(s.data.selectFlag){var l=e.scrollOptions,c=s.data.innerScrollOptions,u=c||(l==null?void 0:l.container);if(u&&!s.isScroll&&e.dragScroll.drag(s,c||l))return}e._checkSelected(s)},e._onDragEnd=function(s){var l=s.data,c=s.inputEvent,u=ar(s,e.options.ratio),v=l.selectFlag,f=e.container;if(c&&e.emit("dragEnd",Z(Z({isDouble:!!s.isDouble,isClick:!!s.isClick,isDrag:!1,isSelect:v},s),{data:l.data,rect:u})),e.target.style.cssText+="display: none;",v)l.selectFlag=!1,e.dragScroll.dragEnd();else if(e.selectByClick&&e.clickBySelectEnd){var h=e._findElement((c==null?void 0:c.target)||ia(f,s.clientX,s.clientY),l.selectableTargets);e._select(h?[h]:[],u,s)}l.preventDragFromInside||e._selectEnd(l.startSelectedTargets,l.startPassedTargets,u,s)},e._onKeyDown=function(s){var l=e.options,c=!1;if(!e._keydownContinueSelect){var u=e._sameCombiKey(s,l.toggleContinueSelect);e._keydownContinueSelect=u,c||(c=u)}if(!e._keydownContinueSelectWithoutDeselection){var u=e._sameCombiKey(s,l.toggleContinueSelectWithoutDeselect);e._keydownContinueSelectWithoutDeselection=u,c||(c=u)}c&&e.emit("keydown",{keydownContinueSelect:e._keydownContinueSelect,keydownContinueSelectWithoutDeselection:e._keydownContinueSelectWithoutDeselection})},e._onKeyUp=function(s){var l=e.options,c=!1;if(e._keydownContinueSelect){var u=e._sameCombiKey(s,l.toggleContinueSelect,!0);e._keydownContinueSelect=!u,c||(c=u)}if(e._keydownContinueSelectWithoutDeselection){var u=e._sameCombiKey(s,l.toggleContinueSelectWithoutDeselect,!0);e._keydownContinueSelectWithoutDeselection=!u,c||(c=u)}c&&e.emit("keyup",{keydownContinueSelect:e._keydownContinueSelect,keydownContinueSelectWithoutDeselection:e._keydownContinueSelectWithoutDeselection})},e._onBlur=function(){(e._keydownContinueSelect||e._keydownContinueSelectWithoutDeselection)&&(e._keydownContinueSelect=!1,e._keydownContinueSelectWithoutDeselection=!1,e.emit("keyup",{keydownContinueSelect:e._keydownContinueSelect,keydownContinueSelectWithoutDeselection:e._keydownContinueSelectWithoutDeselection}))},e._onDocumentSelectStart=function(s){var l=mt(e.container);if(e.gesto.isFlag()){var c=e.dragContainer;c===Et(e.container)&&(c=l.documentElement);var u=Zn(c)?[c]:[].slice.call(c),v=s.target;u.some(function(f){if(f===v||f.contains(v))return s.preventDefault(),!0})}},e.target=n.portalContainer;var o=n.container;e.options=Z({className:"",portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:null,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,checkOverflow:!1,innerScrollOptions:!1,getElementRect:Le,cspNonce:"",ratio:0},n);var a=e.options.portalContainer;return a&&(o=a.parentElement),e.container=o||document.body,e.initElement(),e.initDragScroll(),e.setKeyController(),e}var r=t.prototype;return r.setSelectedTargets=function(n){var e=this.selectedTargets,o=ce(e,n),a=o.added,s=o.removed,l=o.prevList,c=o.list;return this.selectedTargets=n,{added:a.map(function(u){return c[u]}),removed:s.map(function(u){return l[u]}),beforeSelected:e,selected:n}},r.setSelectedTargetsByPoints=function(n,e){var o=Math.min(n[0],e[0]),a=Math.min(n[1],e[1]),s=Math.max(n[0],e[0]),l=Math.max(n[1],e[1]),c={left:o,top:a,right:s,bottom:l,width:s-o,height:l-a},u={ignoreClick:!0};this.findSelectableTargets(u);var v=this.hitTest(c,u,!0,null),f=this.setSelectedTargets(v);return Z(Z({},f),{rect:c})},r.selectTargetsByPoints=function(n,e){var o=new MouseEvent("mousedown",{clientX:n[0],clientY:n[1],cancelable:!0,bubbles:!0}),a=new MouseEvent("mousemove",{clientX:e[0],clientY:e[1],cancelable:!0,bubbles:!0}),s=new MouseEvent("mousemove",{clientX:e[0],clientY:e[1],cancelable:!0,bubbles:!0}),l=this.gesto,c=l.onDragStart(o);c!==!1&&(l.onDrag(a),l.onDragEnd(s))},r.getSelectedTargets=function(){return this.selectedTargets},r.triggerDragStart=function(n){return this.gesto.triggerDragStart(n),this},r.destroy=function(){var n;this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),this.dragScroll.dragEnd(),U(document,"selectstart",this._onDocumentSelectStart),this.options.portalContainer||(n=this.target.parentElement)===null||n===void 0||n.removeChild(this.target),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},r.getElementPoints=function(n){var e=this.getElementRect||Le,o=e(n),a=[o.pos1,o.pos2,o.pos4,o.pos3];if(e!==Le){var s=n.getBoundingClientRect();return Io(a,s)}return a},r.getSelectableElements=function(){var n=this.container,e=[];return this.options.selectableTargets.forEach(function(o){if(On(o)){var a=o();a&&e.push.apply(e,[].slice.call(a))}else if(Zn(o))e.push(o);else if(bt(o))e.push(o.value||o.current);else{var s=[].slice.call(mt(n).querySelectorAll(o));e.push.apply(e,s)}}),e},r.checkScroll=function(){if(this.gesto.isFlag()){var n=this.scrollOptions,e=this.gesto.getEventData().innerScrollOptions,o=e||(n==null?void 0:n.container);o&&this.dragScroll.checkScroll(Z({inputEvent:this.gesto.getCurrentEvent()},e||n))}},r.findSelectableTargets=function(n){var e=this;n===void 0&&(n=this.gesto.getEventData());var o=this.getSelectableElements(),a=o.map(function(v){return e.getElementPoints(v)});n.selectableTargets=o,n.selectablePoints=a,n.selectableParentMap=null;var s=this.options,l=s.checkOverflow||s.innerScrollOptions,c=mt(this.container);if(l){var u=new Map;n.selectableInnerScrollParentMap=u,n.selectableInnerScrollPathsList=o.map(function(v,f){for(var h=v.parentElement,m=[],d=[],y=function(){var _=u.get(h);if(!_){var g=getComputedStyle(h).overflow!=="visible";if(g){var C=Le(h);_={parentElement:h,indexes:[],points:[C.pos1,C.pos2,C.pos4,C.pos3],paths:ve([],d)},m.push(h),m.forEach(function(b){u.set(b,_)}),m=[]}}_?(h=_.parentElement,u.get(h).indexes.push(f),d.push(h)):m.push(h),h=h.parentElement};h&&h!==c.body;)y();return d})}return s.checkOverflow||(n.selectableInners=o.map(function(){return!0})),this._refreshGroups(n),o},r.clickTarget=function(n,e){var o=na(n),a=o.clientX,s=o.clientY,l={data:{selectFlag:!1},clientX:a,clientY:s,inputEvent:n,isClick:!0,isTrusted:!1,stop:function(){return!1}};return this._onDragStart(l,e)&&this._onDragEnd(l),this},r.setKeyController=function(){var n=this.options,e=n.keyContainer,o=n.toggleContinueSelect,a=n.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(o||a)&&(this.keycon=new Mo(e||Et(this.container)),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},r.setClassName=function(n){this.options.className=n,this.target.setAttribute("class","".concat(Tn," ").concat(n||""))},r.setKeyEvent=function(){var n=this.options,e=n.toggleContinueSelect,o=n.toggleContinueSelectWithoutDeselect;!e&&!o||this.keycon||this.setKeyController()},r.setKeyContainer=function(n){var e=this,o=this.options;hn(o.keyContainer,n,function(){o.keyContainer=n,e.setKeyController()})},r.getContinueSelect=function(){var n=this.options,e=n.continueSelect,o=n.toggleContinueSelect;return!o||!this._keydownContinueSelect?e:!e},r.getContinueSelectWithoutDeselect=function(){var n=this.options,e=n.continueSelectWithoutDeselect,o=n.toggleContinueSelectWithoutDeselect;return!o||!this._keydownContinueSelectWithoutDeselection?e:!e},r.setToggleContinueSelect=function(n){var e=this,o=this.options;hn(o.toggleContinueSelect,n,function(){o.toggleContinueSelect=n,e.setKeyEvent()})},r.setToggleContinueSelectWithoutDeselect=function(n){var e=this,o=this.options;hn(o.toggleContinueSelectWithoutDeselect,n,function(){o.toggleContinueSelectWithoutDeselect=n,e.setKeyEvent()})},r.setPreventDefault=function(n){this.gesto.options.preventDefault=n},r.setCheckInput=function(n){this.gesto.options.checkInput=n},r.initElement=function(){var n=this.options,e=n.dragContainer,o=n.checkInput,a=n.preventDefault,s=n.preventClickEventOnDragStart,l=n.preventClickEventOnDrag,c=n.preventClickEventByCondition,u=n.preventRightClick,v=u===void 0?!0:u,f=n.className,h=this.container;this.target=wr(oa("div",{className:"".concat(Tn," ").concat(f||"")}),this.target,h);var m=this.target;this.dragContainer=typeof e=="string"?[].slice.call(mt(h).querySelectorAll(e)):e||this.target.parentNode,this.gesto=new lo(this.dragContainer,{checkWindowBlur:!0,container:Et(h),checkInput:o,preventDefault:a,preventClickEventOnDragStart:s,preventClickEventOnDrag:l,preventClickEventByCondition:c,preventRightClick:v}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),J(document,"selectstart",this._onDocumentSelectStart),this.injectResult=Mr.inject(m,{nonce:this.options.cspNonce})},r.hitTest=function(n,e,o,a){var s=this.options,l=s.hitRate,c=s.selectByClick,u=n.left,v=n.top,f=n.right,h=n.bottom,m=e.innerGroups,d=e.innerWidth,y=e.innerHeight,_=a==null?void 0:a.clientX,g=a==null?void 0:a.clientY,C=e.ignoreClick,b=[[u,v],[f,v],[f,h],[u,h]],j=function(X,Y){var V=Ne(typeof l=="function"?"".concat(l(Y)):"".concat(l)),K=C?!1:kn([_,g],X);if(!o&&c&&K)return!0;var F=or(b,X);if(!F.length)return!1;var z=un(F),$=0;if(z===0&&un(X)===0?($=lr(X),z=lr(F)):$=un(X),V.unit==="px")return z>=V.value;var L=yr(Math.round(z/$*100),0,100);return L>=Math.min(100,V.value)},P=e.selectableTargets,x=e.selectablePoints,E=e.selectableInners;if(!m)return P.filter(function(X,Y){return E[Y]?j(x[Y],P[Y]):!1});for(var T=[],B=Math.floor(u/d),O=Math.floor(f/d),I=Math.floor(v/y),w=Math.floor(h/y),A=B;A<=O;++A){var R=m[A];if(R)for(var D=I;D<=w;++D){var H=R[D];H&&H.forEach(function(X){var Y=x[X],V=E[X],K=P[X];V&&j(Y,K)&&T.push(K)})}}return ra(T)},r.initDragScroll=function(){var n=this;this.dragScroll.on("scrollDrag",function(e){var o=e.next;o(n.gesto.getCurrentEvent())}).on("scroll",function(e){var o=e.container,a=e.direction,s=n.gesto.getEventData().innerScrollOptions;s?n.emit("innerScroll",{container:o,direction:a}):n.emit("scroll",{container:o,direction:a})}).on("move",function(e){var o=e.offsetX,a=e.offsetY,s=e.inputEvent,l=n.gesto;if(!(!l||!l.isFlag())){var c=n.gesto.getEventData(),u=c.boundArea;c.startX-=o,c.startY-=a;var v=n.gesto.getEventData().innerScrollOptions,f=v==null?void 0:v.container,h=!1;if(f){var m=c.selectableInnerScrollParentMap,d=m.get(f);d&&(d.paths.forEach(function(y){var _=m.get(y);_.points.forEach(function(g){g[0]-=o,g[1]-=a})}),d.indexes.forEach(function(y){c.selectablePoints[y].forEach(function(_){_[0]-=o,_[1]-=a})}),h=!0)}h||c.selectablePoints.forEach(function(y){y.forEach(function(_){_[0]-=o,_[1]-=a})}),n._refreshGroups(c),u.left-=o,u.right-=o,u.top-=a,u.bottom-=a,n.gesto.scrollBy(o,a,s.inputEvent),n._checkSelected(n.gesto.getCurrentEvent())}})},r._select=function(n,e,o,a,s){s===void 0&&(s=!1);var l=o.inputEvent,c=o.data,u=this.setSelectedTargets(n),v=ce(c.startSelectedTargets,n),f=v.added,h=v.removed,m=v.prevList,d=v.list,y={startSelected:m,startAdded:f.map(function(_){return d[_]}),startRemoved:h.map(function(_){return m[_]})};a&&this.emit("selectStart",Z(Z(Z({},u),y),{rect:e,inputEvent:l,data:c.data,isTrusted:o.isTrusted,isDragStartEnd:s})),(u.added.length||u.removed.length)&&this.emit("select",Z(Z(Z({},u),y),{rect:e,inputEvent:l,data:c.data,isTrusted:o.isTrusted,isDragStartEnd:s}))},r._selectEnd=function(n,e,o,a,s){s===void 0&&(s=!1);var l=a.inputEvent,c=a.isDouble,u=a.data,v=l&&l.type,f=v==="mousedown"||v==="touchstart",h=ce(n,this.selectedTargets),m=h.added,d=h.removed,y=h.prevList,_=h.list,g=ce(e,this.selectedTargets),C=g.added,b=g.removed,j=g.prevList,P=g.list;this.emit("selectEnd",{startSelected:n,beforeSelected:e,selected:this.selectedTargets,added:m.map(function(x){return _[x]}),removed:d.map(function(x){return y[x]}),afterAdded:C.map(function(x){return P[x]}),afterRemoved:b.map(function(x){return j[x]}),isDragStart:f&&s,isDragStartEnd:f&&s,isClick:!!a.isClick,isDouble:!!c,rect:o,inputEvent:l,data:u.data,isTrusted:a.isTrusted})},r._checkSelected=function(n,e){e===void 0&&(e=ar(n,this.options.ratio));var o=n.data,a=e.top,s=e.left,l=e.width,c=e.height,u=o.selectFlag,v=o.containerX,f=o.containerY,h=o.scaleMatrix,m=vn(h,[s-v,a-f]),d=vn(h,[l,c]),y=[];if(u){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(m[0],"px, ").concat(m[1],"px);")+"width:".concat(d[0],"px;height:").concat(d[1],"px;");var _=this.hitTest(e,o,!0,n);y=sr(o.startPassedTargets,_,this.continueSelect&&this.continueSelectWithoutDeselect)}var g=this.emit("drag",Z(Z({},n),{data:o.data,isSelect:u,rect:e}));if(g===!1){this.target.style.cssText+="display: none;",n.stop();return}u&&this._select(y,e,n)},r._sameCombiKey=function(n,e,o){if(!e)return!1;var a=Cr(n.inputEvent,n.key),s=[].concat(e),l=$e(s[0])?s:[s];if(o){var c=n.key;return l.some(function(u){return u.some(function(v){return v===c})})}return l.some(function(u){return u.every(function(v){return a.indexOf(v)>-1})})},r._findElement=function(n,e){for(var o=n;o&&!(e.indexOf(o)>-1);)o=o.parentElement;return o},r._refreshGroups=function(n){var e,o=n.innerWidth,a=n.innerHeight,s=n.selectablePoints;if(this.options.checkOverflow){var l=(e=this.gesto.getEventData().innerScrollOptions)===null||e===void 0?void 0:e.container,c=n.selectableInnerScrollParentMap,u=n.selectableInnerScrollPathsList;n.selectableInners=u.map(function(h,m){var d=!1;return h.every(function(y){if(d)return!0;if(y===l)return d=!0,!0;var _=c.get(y);if(_){var g=s[m],C=_.points,b=or(g,C);if(!b.length)return!1}return!0})})}if(!o||!a)n.innerGroups=null;else{var v=n.selectablePoints,f={};v.forEach(function(h,m){var d=1/0,y=-1/0,_=1/0,g=-1/0;h.forEach(function(j){var P=Math.floor(j[0]/o),x=Math.floor(j[1]/a);d=Math.min(P,d),y=Math.max(P,y),_=Math.min(x,_),g=Math.max(x,g)});for(var C=d;C<=y;++C)for(var b=_;b<=g;++b)f[C]=f[C]||{},f[C][b]=f[C][b]||[],f[C][b].push(m)}),n.innerGroups=f}},t=ea([uo(Yn,function(n,e){var o={enumerable:!0,configurable:!0,get:function(){return this.options[e]}},a=_n("get ".concat(e));n[a]?o.get=function(){return this[a]()}:o.get=function(){return this.options[e]};var s=_n("set ".concat(e));n[s]?o.set=function(l){this[s](l)}:o.set=function(l){this.options[e]=l},Object.defineProperty(n,e,o)})],t),t}(Ge),ca=function(i){kr(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t}(la),jn=function(i,t){return jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])},jn(i,t)};function ua(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jn(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ze=function(){return ze=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ze.apply(this,arguments)};function fa(i,t,r,n){var e=arguments.length,o=e<3?t:n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,r,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(e<3?a(o):e>3?a(t,r,o):a(t,r))||o);return e>3&&o&&Object.defineProperty(t,r,o),o}var cr=Pr.map(function(i){return _n("on ".concat(i))}),va=function(i){ua(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){return W.createElement("div",{className:Tn,ref:co(this,"selectionElement")})},r.componentDidMount=function(){var n=this,e=this.props,o={};aa.forEach(function(a){a in e&&(o[a]=e[a])}),this.selecto=new ca(ze(ze({},o),{portalContainer:this.selectionElement})),Pr.forEach(function(a,s){n.selecto.on(a,function(l){var c=n.props,u=c[cr[s]]&&c[cr[s]](l);u===!1&&l.stop()})})},r.componentDidUpdate=function(n){var e=this.props,o=this.selecto;Yn.forEach(function(a){n[a]!==e[a]&&(o[a]=e[a])})},r.componentWillUnmount=function(){this.selecto.destroy()},fa([fo(sa)],t.prototype,"selecto",void 0),t}(W.PureComponent);const ha=i=>{const t=ft.c(11);let r,n,e;t[0]!==i?({itemId:r,title:e,...n}=i,t[0]=i,t[1]=r,t[2]=n,t[3]=e):(r=t[1],n=t[2],e=t[3]);const o=e===void 0?"Copy Link":e;let a;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=p.jsx(si,{}),t[4]=a):a=t[4];let s;t[5]!==r?(s=()=>{Nr(window.location.host+fr(r))},t[5]=r,t[6]=s):s=t[6];let l;return t[7]!==n||t[8]!==s||t[9]!==o?(l=p.jsx(lt,{icon:a,onClick:s,title:o,...n}),t[7]=n,t[8]=s,t[9]=o,t[10]=l):l=t[10],l},da=i=>{const t=ft.c(195);let r;t[0]!==i?({...r}=i,t[0]=i,t[1]=r):r=t[1];const[n,e]=Hr(),[o,a]=W.useState(!1);let s;t[2]!==n?(s=n.get("id")?parseInt(n.get("id")||""):null,t[2]=n,t[3]=s):s=t[3];const l=s;let c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=Vr.create(),t[4]=c):c=t[4];const[u,v]=W.useState(c),[f,h]=W.useState(!0);let m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m=[],t[5]=m):m=t[5];const[d,y]=W.useState(m);let _;t[6]===Symbol.for("react.memo_cache_sentinel")?(_=[],t[6]=_):_=t[6];const[g,C]=W.useState(_),[b,j]=W.useState(!1),[P,x]=W.useState("name"),[E,T]=W.useState("/");let B;t[7]===Symbol.for("react.memo_cache_sentinel")?(B=[],t[7]=B):B=t[7];const[O,I]=W.useState(B),[w,A]=W.useState(void 0),R=zr(w==null?void 0:w.id),{showAlert:D}=W.useContext(In),{t:H}=Ur(),[X,Y]=W.useState("stack"),[V,K]=W.useState(!1),[F,z]=W.useState(!1),$=W.useRef(null),L=g.length>0;let Q;t[8]!==l||t[9]!==P||t[10]!==D||t[11]!==b?(Q=()=>{Zr(l).then(S=>{var k;v(S),C([]),(k=$.current)==null||k.setSelectedTargets([]),S.isFolder?S.name!==""?T(S.path+S.name+"/"):T("/"):T(S.path+S.name),A(S.owner),h(S.isFolder),S.isFolder?y(S.children.sort((M,et)=>Vn(M,et,P,b))):y([S])}).catch(S=>{D(S.message,"error")})},t[8]=l,t[9]=P,t[10]=D,t[11]=b,t[12]=Q):Q=t[12];let nt;t[13]!==l||t[14]!==o?(nt=[l,o],t[13]=l,t[14]=o,t[15]=nt):nt=t[15],W.useEffect(Q,nt);let pt,gt;t[16]!==E?(pt=()=>{if(E==="/")I([]);else{const S=E.endsWith("/")?E.slice(0,E.length-1):E;if(S==="/"){I([]);return}const k=S.slice(1,S.lastIndexOf("/"));if(k===""){I([]);return}else I(k.split("/"))}},gt=[E],t[16]=E,t[17]=pt,t[18]=gt):(pt=t[17],gt=t[18]),W.useEffect(pt,gt);let vt,ot;t[19]!==P||t[20]!==b?(vt=()=>{y(S=>[...S].sort((k,M)=>Vn(k,M,P,b)))},ot=[P,b],t[19]=P,t[20]=b,t[21]=vt,t[22]=ot):(vt=t[21],ot=t[22]),W.useEffect(vt,ot);let rt;if(t[23]!==R||t[24]!==u.isFolder||t[25]!==u.isPublic||t[26]!==f||t[27]!==E||t[28]!==g||t[29]!==D||t[30]!==o){if(rt=[],u.isFolder&&R){const S=!f;let k,M,et;t[32]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{K(!0)},M=()=>{K(!1)},et=p.jsx(Jr,{}),t[32]=k,t[33]=M,t[34]=et):(k=t[32],M=t[33],et=t[34]);let N;t[35]!==u.isPublic||t[36]!==E||t[37]!==g||t[38]!==D?(N=st=>{st.stopPropagation(),on(g),oe("NewFolderDialog",{filePath:E,public:u.isPublic}).then(ct=>{ct.data&&(on(ct.data),y(ie=>[...ie,ct.data]))}).catch(ct=>{D(ct.message,"error")})},t[35]=u.isPublic,t[36]=E,t[37]=g,t[38]=D,t[39]=N):N=t[39];let G;t[40]!==S||t[41]!==N?(G=p.jsx(lt,{disabled:S,onMouseEnter:k,onMouseLeave:M,icon:et,title:"New Folder",onClick:N}),t[40]=S,t[41]=N,t[42]=G):G=t[42];const ht=!f;let tt;t[43]===Symbol.for("react.memo_cache_sentinel")?(tt=p.jsx(Si,{}),t[43]=tt):tt=t[43];let ne;t[44]!==u.isPublic||t[45]!==E||t[46]!==D?(ne=()=>{oe("NewLinkFileDialog",{filePath:E,public:u.isPublic}).then(st=>{st.data&&y(ct=>[...ct,st.data])}).catch(st=>{D(st.message,"error")})},t[44]=u.isPublic,t[45]=E,t[46]=D,t[47]=ne):ne=t[47];let Me;t[48]!==ht||t[49]!==ne?(Me=p.jsx(lt,{disabled:ht,icon:tt,title:"New Link File",onClick:ne}),t[48]=ht,t[49]=ne,t[50]=Me):Me=t[50];const en=!f;let Pe;t[51]===Symbol.for("react.memo_cache_sentinel")?(Pe=p.jsx(Qr,{}),t[51]=Pe):Pe=t[51];let re;t[52]!==u.isPublic||t[53]!==E||t[54]!==D||t[55]!==o?(re=()=>{oe("DriverUploadDialog",{path:E,public:u.isPublic}).then(()=>{a(!o)}).catch(st=>{D(st.message,"error")})},t[52]=u.isPublic,t[53]=E,t[54]=D,t[55]=o,t[56]=re):re=t[56];let Te;if(t[57]!==en||t[58]!==re?(Te=p.jsx(lt,{disabled:en,icon:Pe,title:"Upload",onClick:re}),t[57]=en,t[58]=re,t[59]=Te):Te=t[59],rt.push(G,Me,Te),g.length>=1){let st;t[60]===Symbol.for("react.memo_cache_sentinel")?(st=p.jsx(Kn,{}),t[60]=st):st=t[60];let ct,ie;t[61]===Symbol.for("react.memo_cache_sentinel")?(ct=()=>{K(!0)},ie=()=>{K(!1)},t[61]=ct,t[62]=ie):(ct=t[61],ie=t[62]);let je;t[63]!==E||t[64]!==g||t[65]!==o?(je=p.jsx(lt,{icon:st,title:"Move",onMouseEnter:ct,onMouseLeave:ie,onClick:()=>{oe("MoveDriverFileDialog",{fileId:g.map(pa),currentPath:E}).then(nn=>{nn&&a(!o)})}}),t[63]=E,t[64]=g,t[65]=o,t[66]=je):je=t[66],rt.push(je);let Ie;t[67]===Symbol.for("react.memo_cache_sentinel")?(Ie=p.jsx(dr,{}),t[67]=Ie):Ie=t[67];let Oe,Fe;t[68]===Symbol.for("react.memo_cache_sentinel")?(Oe=()=>{K(!0)},Fe=()=>{K(!1)},t[68]=Oe,t[69]=Fe):(Oe=t[68],Fe=t[69]);let Be;t[70]!==g||t[71]!==D||t[72]!==o?(Be=p.jsx(lt,{color:"error",icon:Ie,title:"Delete",onMouseEnter:Oe,onMouseLeave:Fe,onClick:()=>{vr(g.map(ga)).then(()=>{a(!o)}).catch(nn=>{D(nn.message,"error")})}}),t[70]=g,t[71]=D,t[72]=o,t[73]=Be):Be=t[73],rt.push(Be)}}t[23]=R,t[24]=u.isFolder,t[25]=u.isPublic,t[26]=f,t[27]=E,t[28]=g,t[29]=D,t[30]=o,t[31]=rt}else rt=t[31];let me;t[74]!==e?(me=S=>{S.isFolder?e({id:S.id+""}):window.open(ti(S),dn)},t[74]=e,t[75]=me):me=t[75];const St=me;let ye;t[76]!==d||t[77]!==g||t[78]!==F?(ye=(S,k)=>{var et;S.stopPropagation();let M;if(F)if(S.shiftKey)if(g.length===0)M=[k];else{const N=[];let G=!1;for(let ht=0;ht<d.length;ht++){const tt=d[ht];if((tt===g[g.length-1]||tt===k)&&(G=!G,!G)){g.includes(tt)||N.push(tt);break}G&&(g.includes(tt)||N.push(tt))}M=[...g,...N]}else g.includes(k)?M=g.filter(N=>N!==k):M=[...g,k];else if(S.ctrlKey)g.includes(k)?M=g.filter(N=>N!==k):M=[...g,k];else if(S.shiftKey)if(g.length===0)M=[k];else{const N=[];let G=!1;for(let ht=0;ht<d.length;ht++){const tt=d[ht];if((tt===g[g.length-1]||tt===k)&&(G=!G,!G)){g.includes(tt)||N.push(tt);break}G&&(g.includes(tt)||N.push(tt))}M=[...g,...N]}else g.includes(k)?M=g.filter(G=>G!==k):M=[k];(et=$.current)==null||et.setSelectedTargets(M.map(ma)),C(M)},t[76]=d,t[77]=g,t[78]=F,t[79]=ye):ye=t[79];const kt=ye;let _e;t[80]!==R||t[81]!==D||t[82]!==o?(_e=S=>{const k=[];return S.isFolder&&k.push(p.jsx(Ii,{folderId:S.id,target:dn,sx:xt})),k.push(p.jsx(ha,{itemId:S.id,sx:xt})),R&&(k.push(p.jsx(Oi,{fileId:S.id,isPublic:S.isPublic,sx:xt,onVisibilityChange:()=>{D("Success","success"),a(!o)}})),k.push(p.jsx(Bi,{fileId:S.id,existingName:S.name,sx:xt,onRename:()=>{D("Success","success"),a(!o)}})),k.push(p.jsx(lt,{sx:xt,icon:p.jsx(Kn,{}),title:"Move",onClick:()=>{oe("MoveDriverFileDialog",{fileId:[S.id],currentPath:S.path}).then(M=>{M&&a(!o)})}})),k.push(p.jsx(Fi,{fileId:S.id,sx:xt,onDelete:()=>{D("Success","success"),a(!o)}}))),k},t[80]=R,t[81]=D,t[82]=o,t[83]=_e):_e=t[83];const wt=_e;let Se;t[84]!==g||t[85]!==D||t[86]!==o?(Se=S=>{if(S.isFolder){const k=g.filter(M=>M!==S).map(ya);rn(k,S.path+S.name+"/",S.isPublic).then(()=>{S.isPublic?D("Items are moved to a public folder","success"):D("Items are moved to a private folder","success"),a(!o)}).catch(M=>{D(M.message,"error")})}},t[84]=g,t[85]=D,t[86]=o,t[87]=Se):Se=t[87];const Mt=Se;let Pt;t[88]!==L||t[89]!==F?(Pt=()=>{var S;(F||L)&&(C([]),(S=$.current)==null||S.setSelectedTargets([]))},t[88]=L,t[89]=F,t[90]=Pt):Pt=t[90];let Ce;t[91]===Symbol.for("react.memo_cache_sentinel")?(Ce={paddingX:1},t[91]=Ce):Ce=t[91];let Tt;t[92]!==e?(Tt=()=>{e({})},t[92]=e,t[93]=Tt):Tt=t[93];let jt;t[94]!==g||t[95]!==D||t[96]!==o?(jt=S=>{const k=g.map(Sa);rn(k,"/").then(()=>{D("Items are moved to the root folder","success"),a(!o)}).catch(M=>{D(M.message,"error")})},t[94]=g,t[95]=D,t[96]=o,t[97]=jt):jt=t[97];let It;t[98]!==Tt||t[99]!==jt?(It=p.jsx(We,{onClick:Tt,onDragOver:_a,onDrop:jt,children:"Home:"}),t[98]=Tt,t[99]=jt,t[100]=It):It=t[100];let Ot;t[101]!==(w==null?void 0:w.id)||t[102]!==O||t[103]!==g||t[104]!==e||t[105]!==D||t[106]!==o?(Ot=O.length>0&&O.map((S,k)=>p.jsx(We,{onClick:()=>{const M="/"+O.slice(0,k).join("/")+S;Gr(M,w==null?void 0:w.id).then(et=>{e({id:et})}).catch(et=>{D(et.message,"error")})},onDragOver:Ca,onDrop:M=>{const et=g.map(ba),N="/"+O.slice(0,k).join("/")+S+"/";rn(et,N).then(()=>{D("Items are moved to "+N,"success"),a(!o)}).catch(G=>{D(G.message,"error")})},children:S},k)),t[101]=w==null?void 0:w.id,t[102]=O,t[103]=g,t[104]=e,t[105]=D,t[106]=o,t[107]=Ot):Ot=t[107];let Ft;t[108]!==u.name?(Ft=u.name&&u.name!==""&&p.jsx(We,{children:u.name}),t[108]=u.name,t[109]=Ft):Ft=t[109];let Bt;t[110]!==It||t[111]!==Ot||t[112]!==Ft?(Bt=p.jsxs(_i,{sx:Ce,children:[It,Ot,Ft]}),t[110]=It,t[111]=Ot,t[112]=Ft,t[113]=Bt):Bt=t[113];let Xt;t[114]!==rt?(Xt=p.jsx(Ke,{up:"md",children:p.jsx(an,{data:rt,renderItem:xa})}),t[114]=rt,t[115]=Xt):Xt=t[115];const qe=rt.length>0;let be;t[116]===Symbol.for("react.memo_cache_sentinel")?(be=p.jsx(ei,{}),t[116]=be):be=t[116];let Yt;t[117]!==rt?(Yt=p.jsx(Ue,{icon:be,menuAlign:"left",menuItems:rt,stopPropagation:!0}),t[117]=rt,t[118]=Yt):Yt=t[118];let Rt;t[119]!==qe||t[120]!==Yt?(Rt=p.jsx(Ke,{down:"md",children:p.jsx(ni,{show:qe,children:Yt})}),t[119]=qe,t[120]=Yt,t[121]=Rt):Rt=t[121];let At;t[122]!==X?(At=p.jsx(Xi,{currentLayout:X,size:Ct.isMobile?"small":"large",variant:"outlined",color:"primary",onLayoutChange:Y,stopPropagation:!0}),t[122]=X,t[123]=At):At=t[123];let xe;t[124]===Symbol.for("react.memo_cache_sentinel")?(xe=p.jsx(wi,{}),t[124]=xe):xe=t[124];let Lt;t[125]!==b?(Lt=S=>{x(S),j(!b)},t[125]=b,t[126]=Lt):Lt=t[126];let Wt;t[127]!==P||t[128]!==Lt?(Wt=p.jsx(Yi,{currentSorter:P,stopPropagation:!0,size:Ct.isMobile?"small":"large",variant:"outlined",color:"primary",icon:xe,onSorterChange:Lt}),t[127]=P,t[128]=Lt,t[129]=Wt):Wt=t[129];let Kt;t[130]!==F?(Kt=Ct.isMobile&&p.jsx(Ln,{value:"selecting",sx:{paddingX:-3,marginX:-3},control:p.jsx(ri,{color:"primary",checked:F,onClick:Ea,sx:{marginX:"-10px"},onChange:S=>{z(!F)}}),label:p.jsx(it,{style:{marginBottom:"-10px",fontSize:"small"},children:"Select"}),labelPlacement:"top"}),t[130]=F,t[131]=Kt):Kt=t[131];let $t;t[132]!==d||t[133]!==g.length||t[134]!==F?($t=Ct.isMobile&&F&&p.jsx(Ln,{sx:{paddingX:-3,marginX:-3},value:"selectAll",control:p.jsx(qr,{color:"primary",checked:g.length===d.length,onClick:Da,sx:{marginX:"-10px"},onChange:S=>{var k,M;if(g.length===d.length){C([]),(k=$.current)==null||k.setSelectedTargets([]);return}else C([...d]),(M=$.current)==null||M.setSelectedTargets(d.map(ka))}}),label:p.jsx(it,{style:{marginBottom:"-10px",fontSize:"small"},children:"All"}),labelPlacement:"top"}),t[132]=d,t[133]=g.length,t[134]=F,t[135]=$t):$t=t[135];let Nt;t[136]!==Xt||t[137]!==Rt||t[138]!==At||t[139]!==Wt||t[140]!==Kt||t[141]!==$t?(Nt=p.jsxs(yt,{direction:"row",justifyContent:"start",marginY:2,spacing:1,alignItems:"center",children:[Xt,Rt,At,Wt,Kt,$t]}),t[136]=Xt,t[137]=Rt,t[138]=At,t[139]=Wt,t[140]=Kt,t[141]=$t,t[142]=Nt):Nt=t[142];let Ee;t[143]===Symbol.for("react.memo_cache_sentinel")?(Ee=[".target"],t[143]=Ee):Ee=t[143];let De,ke;t[144]===Symbol.for("react.memo_cache_sentinel")?(De=[["shift"],["ctrl"]],ke=window.document.querySelector(".select-zone"),t[144]=De,t[145]=ke):(De=t[144],ke=t[145]);let Ht;t[146]!==L?(Ht=S=>!L,t[146]=L,t[147]=Ht):Ht=t[147];let Vt;t[148]!==d||t[149]!==F?(Vt=S=>{if(F)return;const k=[];for(const M of S.selected){const et=parseInt(M.id),N=d.find(G=>G.id===et);N&&k.push(N)}C(k)},t[148]=d,t[149]=F,t[150]=Vt):Vt=t[150];let zt;t[151]!==V||t[152]!==Ht||t[153]!==Vt?(zt=p.jsx(va,{ref:$,container:document.body,dragContainer:window,selectableTargets:Ee,selectByClick:!1,selectFromInside:!0,preventClickEventOnDrag:!0,continueSelect:V,toggleContinueSelect:De,keyContainer:ke,dragCondition:Ht,hitRate:1,onSelect:Vt}),t[151]=V,t[152]=Ht,t[153]=Vt,t[154]=zt):zt=t[154];const Ze=X==="stack"?0:1;let Ut;t[155]!==L||t[156]!==wt||t[157]!==Mt||t[158]!==St||t[159]!==kt||t[160]!==g?(Ut=(S,k)=>p.jsxs(yt,{direction:"column",children:[p.jsx(Ti,{fileItem:S,id:S.id+"",selected:g.includes(S),className:"target",openAction:St,onClick:M=>{kt(M,S)},onDoubleClick:()=>{St(S)},menuItems:wt(S),draggable:L,onDragStart:wa,onDragOver:S.isFolder?Ma:void 0,onDrop:M=>{M.stopPropagation(),Mt(S)}}),p.jsx(ii,{})]},S.id),t[155]=L,t[156]=wt,t[157]=Mt,t[158]=St,t[159]=kt,t[160]=g,t[161]=Ut):Ut=t[161];let Gt;t[162]!==d||t[163]!==Ut?(Gt=p.jsx(yt,{direction:"column",children:p.jsx(an,{data:d,renderItem:Ut})}),t[162]=d,t[163]=Ut,t[164]=Gt):Gt=t[164];let qt;t[165]!==L||t[166]!==wt||t[167]!==Mt||t[168]!==St||t[169]!==kt||t[170]!==g?(qt=(S,k)=>p.jsx(ji,{fileItem:S,id:S.id+"",className:"target",selected:g.includes(S),onClick:M=>{M.stopPropagation(),kt(M,S)},onDoubleClick:()=>{St(S)},openAction:St,menuItems:wt(S),draggable:L,onDragStart:Pa,onDragOver:S.isFolder?Ta:void 0,onDrop:M=>{on("onDrop",M),M.stopPropagation(),Mt(S)}},S.id),t[165]=L,t[166]=wt,t[167]=Mt,t[168]=St,t[169]=kt,t[170]=g,t[171]=qt):qt=t[171];let Zt;t[172]!==d||t[173]!==qt?(Zt=p.jsx(oi,{container:!0,alignItems:"center",width:"fit-content",justifyContent:"start",children:p.jsx(an,{data:d,renderItem:qt})}),t[172]=d,t[173]=qt,t[174]=Zt):Zt=t[174];let Jt;t[175]!==Ze||t[176]!==Gt||t[177]!==Zt?(Jt=p.jsxs($n,{index:Ze,children:[Gt,Zt]}),t[175]=Ze,t[176]=Gt,t[177]=Zt,t[178]=Jt):Jt=t[178];const Je=g.length>0?0:1,Qe=g.length+" "+H("selected")+", "+se(Wn(g));let Qt;t[179]!==Qe?(Qt=p.jsx(it,{variant:"body1",color:"textSecondary",textAlign:"center",enableTranslate:!1,children:Qe}),t[179]=Qe,t[180]=Qt):Qt=t[180];const tn=d.length+" "+H("items")+", "+se(Wn(d));let te;t[181]!==tn?(te=p.jsx(it,{variant:"body1",color:"textSecondary",textAlign:"center",enableTranslate:!1,children:tn}),t[181]=tn,t[182]=te):te=t[182];let ee;t[183]!==Je||t[184]!==Qt||t[185]!==te?(ee=p.jsx(yt,{direction:"column",justifyContent:"center",alignItems:"flex-start",marginTop:2,children:p.jsxs($n,{index:Je,children:[Qt,te]})}),t[183]=Je,t[184]=Qt,t[185]=te,t[186]=ee):ee=t[186];let we;return t[187]!==r||t[188]!==Pt||t[189]!==Bt||t[190]!==Nt||t[191]!==zt||t[192]!==Jt||t[193]!==ee?(we=p.jsxs(yt,{direction:"column",minHeight:"78dvh",onClick:Pt,...r,children:[Bt,Nt,zt,Jt,ee]}),t[187]=r,t[188]=Pt,t[189]=Bt,t[190]=Nt,t[191]=zt,t[192]=Jt,t[193]=ee,t[194]=we):we=t[194],we},Xa=W.memo(da);function pa(i){return i.id}function ga(i){return i.id}function ma(i){return document.getElementById(i.id+"")}function ya(i){return i.id}function _a(i){i.preventDefault()}function Sa(i){return i.id}function Ca(i){i.preventDefault()}function ba(i){return i.id}function xa(i,t){return p.jsx(lt,{variant:"outlined",color:"primary",disableElevation:!0,...i.props},t)}function Ea(i){i.stopPropagation()}function Da(i){i.stopPropagation()}function ka(i){return document.getElementById(i.id+"")}function wa(i){}function Ma(i){i.preventDefault()}function Pa(i){}function Ta(i){i.preventDefault()}export{Xa as default};
