import{q as fe,j as s,c as Ee,R as Pe,S as g,T as we,r as j,aa as I,x as ke,bP as Ve,ao as Ue,bs as He,bQ as qe,bR as Ce,bS as Te,bH as Le,bD as Be,a3 as Qe,a2 as Ke,v as $e,w as Ge,bT as f,av as Ye,bU as Je,a5 as Xe,a7 as v,bI as Ze,b5 as me,bz as Re,ad as _e,ai as et,bV as tt,bB as st,bW as nt,aF as lt,bx as it}from"./index-ObzXdM8m.js";import{C as rt}from"./ContextMenu-B54zUvzI.js";const ot=fe(s.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),Me=fe(s.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),at=fe(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),ct=fe(s.jsx("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"})),ut={xs:"1rem",sm:"1rem",md:"1rem",lg:"1.2rem",xl:"1.2rem"},dt={xs:"0.8rem",sm:"0.8rem",md:"0.8rem",lg:"1rem",xl:"1rem"},xe=e=>{const t=Ee.c(19);let n,i,u,x;t[0]!==e?({icon:i,children:n,sx:x,...u}=e,t[0]=e,t[1]=n,t[2]=i,t[3]=u,t[4]=x):(n=t[1],i=t[2],u=t[3],x=t[4]);let p;if(t[5]!==i){const l=i;let h;t[7]!==l.props.sx?(h={sx:{...l.props.sx,fontSize:ut}},t[7]=l.props.sx,t[8]=h):h=t[8],p=Pe.cloneElement(i,h),t[5]=i,t[6]=p}else p=t[6];const o=p;let d;t[9]!==x?(d={...x},t[9]=x,t[10]=d):d=t[10];let c;t[11]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:dt},t[11]=c):c=t[11];let a;t[12]!==n?(a=s.jsx(we,{variant:"body1",sx:c,children:n}),t[12]=n,t[13]=a):a=t[13];let m;return t[14]!==o||t[15]!==u||t[16]!==d||t[17]!==a?(m=s.jsxs(g,{direction:"row",alignItems:"center",gap:.3,sx:d,...u,children:[o,a]}),t[14]=o,t[15]=u,t[16]=d,t[17]=a,t[18]=m):m=t[18],m},mt=({targetUrl:e,onClickRoute:t,owner:n,coverImageUrl:i,altImg:u,title:x,description:p,aspectRatio:o=16/9,radius:d=1,like:c=0,view:a=0,download:m=0,sx:l,SkeletonSx:h,...Q})=>{const[y,K]=j.useState(i===void 0),[pe,S]=j.useState(!1),$=I(c).length+I(a).length+I(m).length>14,w=c===0&&a===0&&m===0;return s.jsxs(g,{maxWidth:"auto",spacing:1,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),sx:{...l},...Q,children:[s.jsxs(ke,{style:{position:"relative",width:"auto",height:"auto"},children:[!y&&s.jsx(Ve,{variant:"rectangular",sx:{objectFit:"cover",width:"100%",height:"auto",aspectRatio:o,...h}}),s.jsx(Ue,{to:e,onClick:G=>{t&&t(G)},children:s.jsxs(He,{index:i===void 0?0:1,children:[u,s.jsx(ke,{component:"img",src:i,onLoad:()=>K(!0),borderRadius:d,sx:{display:y?"block":"none",objectFit:"cover",width:"100%",height:"auto",aspectRatio:o}})]})}),y&&!w&&s.jsxs(g,{direction:"row",borderRadius:d,sx:{position:"absolute",bottom:0,left:0,color:"white",background:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.8) 100%)",width:"100%",textAlign:"start",paddingY:"6px",opacity:pe?0:1},style:{transition:"opacity 0.5s ease"},children:[s.jsx(g,{direction:"row",justifySelf:"flex-start",alignItems:"center",flexGrow:1,spacing:1,paddingLeft:2,children:s.jsx(xe,{icon:s.jsx(ct,{}),children:I(c)})}),s.jsx(g,{direction:"row",spacing:1,children:s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,paddingRight:2,children:[s.jsx(xe,{sx:{display:{xs:"none",sm:"none",md:"none",lg:$?"none":"flex"}},icon:s.jsx(Me,{fontSize:"small"}),children:I(a)}),s.jsx(xe,{sx:{display:{xs:"none",sm:"none",md:"none",lg:$?"none":"flex"}},icon:s.jsx(ot,{fontSize:"small"}),children:I(m)}),s.jsx(xe,{sx:{display:{md:"flex",lg:$?"flex":"none"}},icon:s.jsx(Me,{}),children:I(a)})]})})]})]}),s.jsxs(g,{direction:"column",maxWidth:"100%",children:[s.jsx(we,{gutterBottom:!0,variant:"body1",textAlign:"left",fontWeight:{xs:"bold",sm:"bold",md:"bold",lg:"bold",xl:"bold"},sx:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:{xs:1,sm:1,md:1,lg:1,xl:1},lineHeight:"1em",fontSize:{xs:"12px",sm:"12px",md:"15px",lg:"15px",xl:"15px"},height:"2em",textOverflow:"ellipsis",color:"black"},children:x}),s.jsx(Ue,{to:"#",children:s.jsxs(we,{variant:"body2",color:"text.secondary",textAlign:"left",style:{cursor:n?"pointer":"default"},sx:{fontSize:{xs:"10px",md:"13px"}},children:[" ",p]})})]})]})},xt=e=>{const t=Ee.c(19),{profile:n}=e,i=n.name;let u;t[0]!==n.id?(u=qe(n.id),t[0]=n.id,t[1]=u):u=t[1];let x;t[2]!==n?(x=Ce(n),t[2]=n,t[3]=x):x=t[3];const p=Math.max(x,1);let o;t[4]!==n?(o=Te(n),t[4]=n,t[5]=o):o=t[5];let d;t[6]===Symbol.for("react.memo_cache_sentinel")?(d={width:200,height:200},t[6]=d):d=t[6];let c;t[7]!==n?(c=Le(n),t[7]=n,t[8]=c):c=t[8];let a;t[9]!==n.type?(a=s.jsx(Be,{type:n.type,radius:1,height:"auto",width:"100%",preserveAspectRatio:"1"}),t[9]=n.type,t[10]=a):a=t[10];let m;return t[11]!==n.avatarUrl||t[12]!==n.name||t[13]!==u||t[14]!==p||t[15]!==o||t[16]!==c||t[17]!==a?(m=s.jsx(mt,{title:i,targetUrl:u,aspectRatio:1,view:p,download:o,SkeletonSx:d,like:c,altImg:a,coverImageUrl:n.avatarUrl}),t[11]=n.avatarUrl,t[12]=n.name,t[13]=u,t[14]=p,t[15]=o,t[16]=c,t[17]=a,t[18]=m):m=t[18],m},Et=()=>{const e=Ee.c(92),t=Qe(),[n,i]=Ke();let u;e[0]!==n?(u=n.get("q")??"",e[0]=n,e[1]=u):u=e[1];const x=u;let p;e[2]!==n?(p=n.get("o")?parseInt(n.get("o")??""):void 0,e[2]=n,e[3]=p):p=e[3];const o=p,d=n.get("t")??"",c=n.get("e")??"";let a;e[4]!==n?(a=n.get("p")?parseInt(n.get("p")??"0"):0,e[4]=n,e[5]=a):a=e[5];const m=a,l=$e(Ge),[h,Q]=j.useState(x);let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=[],e[6]=y):y=e[6];const[K,pe]=j.useState(y),[S,$]=j.useState(1);let w;e[7]===Symbol.for("react.memo_cache_sentinel")?(w=[],e[7]=w):w=e[7];const[G,We]=j.useState(w);let J;e[8]===Symbol.for("react.memo_cache_sentinel")?(J=[],e[8]=J):J=e[8];const[he,Fe]=j.useState(J),[X,ge]=j.useState(f.DEFAULT),[C,Ne]=j.useState(null);let Z,R;e[9]!==o?(Z=()=>{o!==void 0&&et(o).then(r=>{Ne(r)}).catch(ft)},R=[o],e[9]=o,e[10]=Z,e[11]=R):(Z=e[10],R=e[11]),j.useEffect(Z,R);let ee,te;e[12]===Symbol.for("react.memo_cache_sentinel")?(ee=()=>{tt().then(r=>{We(r.engines),Fe(r.types)})},te=[],e[12]=ee,e[13]=te):(ee=e[12],te=e[13]),j.useEffect(ee,te),j.useEffect(()=>{const r=Ye.create();r.page=m,r.pageSize=40,Je(x,o,d,c,r,X).then(b=>{var Y;pe(Oe(b.nodeTrees)),$(((Y=b.pageResult)==null?void 0:Y.totalPage)??1)})},[n,x,c,d,o,m,X]);const Oe=r=>{switch(X){case f.DEFAULT:return r;case f.UPDATE:return r.sort(pt);case f.VIEW:return r.sort(ht);case f.LIKE:return r.sort(gt);case f.DOWNLOAD:return r.sort(jt);default:return r}},Ae=bt;let se;e[14]!==G||e[15]!==i?(se=()=>["",...G].map(r=>s.jsx(v,{title:Ae(r),onClick:()=>{i(b=>(b.set("e",r),b))}})),e[14]=G,e[15]=i,e[16]=se):se=e[16];const je=se,ze=yt;let ne;e[17]!==i||e[18]!==he?(ne=()=>["",...he].map(r=>s.jsx(v,{title:ze(r),onClick:()=>{i(b=>(b.set("t",r),b))}})),e[17]=i,e[18]=he,e[19]=ne):ne=e[19];const be=ne;let le;e[20]!==(l==null?void 0:l.userId)||e[21]!==o?(le=()=>o===(l==null?void 0:l.userId)?"Only Me":"All Users",e[20]=l==null?void 0:l.userId,e[21]=o,e[22]=le):le=e[22];const ye=le;let ie;e[23]!==(l==null?void 0:l.userId)||e[24]!==i?(ie=()=>[s.jsx(v,{title:"All Users",onClick:()=>{i(St)}}),s.jsx(v,{title:"Only Me",onClick:()=>{i(r=>(r.set("o",l!=null&&l.userId?(l==null?void 0:l.userId)+"":""),r))}})],e[23]=l==null?void 0:l.userId,e[24]=i,e[25]=ie):ie=e[25];const Se=ie,De=It;let re;e[26]!==ge?(re=()=>[f.DEFAULT,f.UPDATE,f.VIEW,f.LIKE,f.DOWNLOAD].map(r=>s.jsx(v,{title:De(r),onClick:()=>{ge(r)}})),e[26]=ge,e[27]=re):re=e[27];const Ie=re;let oe;e[28]===Symbol.for("react.memo_cache_sentinel")?(oe={width:{xs:"95%",sm:"90%",md:"80%",lg:"80%",xl:"80%"}},e[28]=oe):oe=e[28];let T;e[29]!==C||e[30]!==t||e[31]!==o||e[32]!==i?(T=o!==void 0&&C&&s.jsx(rt,{menuItems:[s.jsx(v,{title:"View Profile",onClick:()=>{t(Ze(C.id))}}),s.jsx(v,{title:"Remove Filter",onClick:()=>{i(vt)}})],children:s.jsx(Xe,{title:C.name,avatarUrl:C.avatarUrl,onClick:()=>{i(wt)}})}),e[29]=C,e[30]=t,e[31]=o,e[32]=i,e[33]=T):T=e[33];let L;e[34]!==h||e[35]!==i?(L=()=>{i(r=>(r.set("q",h),r))},e[34]=h,e[35]=i,e[36]=L):L=e[36];let ae;e[37]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(at,{}),e[37]=ae):ae=e[37];let E;e[38]!==h||e[39]!==Q||e[40]!==L?(E=s.jsx(st,{label:"Search",value:h,onSubmit:L,setValue:Q,endAdornment:ae}),e[38]=h,e[39]=Q,e[40]=L,e[41]=E):E=e[41];let A;e[42]!==T||e[43]!==E?(A=s.jsxs(g,{direction:"row",justifyContent:"center",alignItems:"center",width:"100%",spacing:2,children:[T,E]}),e[42]=T,e[43]=E,e[44]=A):A=e[44];let z;e[45]!==c?(z=Ae(c),e[45]=c,e[46]=z):z=e[46];let D;e[47]!==je?(D=je(),e[47]=je,e[48]=D):D=e[48];let k;e[49]!==z||e[50]!==D?(k=s.jsx(me,{title:z,menuItems:D,size:"small"}),e[49]=z,e[50]=D,e[51]=k):k=e[51];let U;e[52]!==d?(U=ze(d),e[52]=d,e[53]=U):U=e[53];let M;e[54]!==be?(M=be(),e[54]=be,e[55]=M):M=e[55];let _;e[56]!==U||e[57]!==M?(_=s.jsx(me,{title:U,menuItems:M,size:"small"}),e[56]=U,e[57]=M,e[58]=_):_=e[58];let W;e[59]!==Se||e[60]!==ye||e[61]!==(l==null?void 0:l.userId)?(W=(l==null?void 0:l.userId)&&s.jsx(me,{title:ye(),menuItems:Se(),size:"small"}),e[59]=Se,e[60]=ye,e[61]=l==null?void 0:l.userId,e[62]=W):W=e[62];let F;e[63]!==k||e[64]!==_||e[65]!==W?(F=s.jsxs(g,{direction:"row",justifyContent:"start",children:[k,_,W]}),e[63]=k,e[64]=_,e[65]=W,e[66]=F):F=e[66];const ve=De(X);let N;e[67]!==Ie?(N=Ie(),e[67]=Ie,e[68]=N):N=e[68];let O;e[69]!==ve||e[70]!==N?(O=s.jsx(g,{direction:"row",justifyContent:"end",children:s.jsx(me,{title:ve,menuItems:N,size:"small"})}),e[69]=ve,e[70]=N,e[71]=O):O=e[71];let P;e[72]!==F||e[73]!==O?(P=s.jsxs(g,{direction:"row",justifyContent:"space-between",children:[F,O]}),e[72]=F,e[73]=O,e[74]=P):P=e[74];let V;e[75]!==A||e[76]!==P?(V=s.jsxs(g,{direction:"column",spacing:1,sx:oe,children:[A,P]}),e[75]=A,e[76]=P,e[77]=V):V=e[77];let ce,ue;e[78]===Symbol.for("react.memo_cache_sentinel")?(ce={xs:1.5,sm:1.5,md:1,lg:1,xl:1},ue={xs:1,sm:1,md:2,lg:2,xl:2},e[78]=ce,e[79]=ue):(ce=e[78],ue=e[79]);let H;e[80]!==K?(H=K.map(Ct),e[80]=K,e[81]=H):H=e[81];let q;e[82]!==H?(q=s.jsx(_e,{container:!0,rowSpacing:ce,columnSpacing:ue,width:"100%",marginTop:"0px",children:H}),e[82]=H,e[83]=q):q=e[83];let B;e[84]!==m||e[85]!==i||e[86]!==S?(B=S>1&&s.jsx(nt,{count:S,page:m+1,onChange:(r,b)=>{i(Y=>(Y.set("p",""+(b-1)),Y))}}),e[84]=m,e[85]=i,e[86]=S,e[87]=B):B=e[87];let de;return e[88]!==V||e[89]!==q||e[90]!==B?(de=s.jsxs(g,{direction:"column",width:"100%",alignItems:"center",children:[V,q,B]}),e[88]=V,e[89]=q,e[90]=B,e[91]=de):de=e[91],de};function ft(e){lt(e)}function pt(e,t){return(t.updateAt??0)-(e.updateAt??0)}function ht(e,t){return Ce(t)-Ce(e)}function gt(e,t){return Le(t)-Le(e)}function jt(e,t){return Te(t)-Te(e)}function bt(e){return e===""?"All Engines":Re(e)}function yt(e){return e===""?"All Node Types":it(e)}function St(e){return e.set("o",""),e}function It(e){switch(e){case f.DEFAULT:return"Default";case f.UPDATE:return"Update Time";case f.VIEW:return"View Count";case f.LIKE:return"Like Count";case f.DOWNLOAD:return"Download Count";default:return"Default"}}function vt(e){return e.set("o",""),e}function wt(e){return e.set("o",""),e}function Ct(e,t){return s.jsx(_e,{size:{xs:6,sm:6,md:3,lg:3,xl:2.4},children:s.jsx(xt,{profile:e})},e.id)}export{Et as default};
