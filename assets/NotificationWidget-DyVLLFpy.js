import{q as E,j as s,c as M,a3 as _,r as w,Z as H,a5 as T,bu as z,T as U,b1 as V,bv as O,S as N,a4 as q,bw as D,bx as F,t as P,aK as W,aL as $,D as B,aI as G}from"./index-D4hwrPHJ.js";const K=E(s.jsx("path",{d:"m17.34 20-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 14.34zM12 17c0-3.87 3.13-7 7-7 1.08 0 2.09.25 3 .68V4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v18l4-4h6c0-.17.01-.33.03-.5-.02-.16-.03-.33-.03-.5"})),X=E([s.jsx("circle",{cx:"19",cy:"3",r:"3"},"0"),s.jsx("path",{d:"M6 8V6h9.03c-1.21-1.6-1.08-3.21-.92-4H4.01c-1.1 0-2 .89-2 2L2 22l4-4h14c1.1 0 2-.9 2-2V6.97C21.16 7.61 20.13 8 19 8zm8 6H6v-2h8zm4-3H6V9h12z"},"1")]),Z=m=>{const e=M.c(53);let t,r,i;e[0]!==m?({notification:t,onRead:r,...i}=m,e[0]=m,e[1]=t,e[2]=r,e[3]=i):(t=e[1],r=e[2],i=e[3]);const b=_(),[a,y]=w.useState(t.read),{t:I}=H();let l;e[4]!==r||e[5]!==a?(l=()=>{a?y(!0):r().then(()=>{y(!0)})},e[4]=r,e[5]=a,e[6]=l):l=e[6];const g=l;let j;e[7]!==g||e[8]!==b||e[9]!==t.link||e[10]!==a?(j=()=>{a||g(),t.link&&b(t.link)},e[7]=g,e[8]=b,e[9]=t.link,e[10]=a,e[11]=j):j=e[11];const R=j;let o;e[12]!==t.sender?(o=t.sender&&s.jsx(T,{title:t.sender.name,avatarUrl:t.sender.avatarUrl,sx:{width:60,height:60},profileLink:z(t.sender.id)}),e[12]=t.sender,e[13]=o):o=e[13];let A;e[14]!==g?(A=()=>{g()},e[14]=g,e[15]=A):A=e[15];let p;e[16]!==R?(p=()=>{R()},e[16]=R,e[17]=p):p=e[17];let v;e[18]!==t.title?(v=t.title.length>0&&s.jsx(U,{variant:"h6",children:t.title}),e[18]=t.title,e[19]=v):v=e[19];let c;e[20]!==t.count?(c=t.count>1&&s.jsx(U,{variant:"body1",children:" + "+t.count}),e[20]=t.count,e[21]=c):c=e[21];let f;e[22]!==a?(f=a?s.jsx(K,{color:"success"}):s.jsx(X,{color:"warning"}),e[22]=a,e[23]=f):f=e[23];let k;e[24]!==v||e[25]!==c||e[26]!==f?(k=s.jsxs(N,{direction:"row",alignItems:"center",spacing:2,children:[v,c,f]}),e[24]=v,e[25]=c,e[26]=f,e[27]=k):k=e[27];let d;e[28]!==t.content?(d=t.content.length>0&&s.jsx(U,{variant:"body1",enableTranslate:!1,children:t.content}),e[28]=t.content,e[29]=d):d=e[29];let h;e[30]!==t.createAt?(h=V(t.createAt),e[30]=t.createAt,e[31]=h):h=e[31];let u;e[32]!==a||e[33]!==I?(u=I(a?"has read":"un read"),e[32]=a,e[33]=I,e[34]=u):u=e[34];let x;e[35]!==h||e[36]!==u?(x=s.jsxs(U,{variant:"caption",children:[h,", ",u]}),e[35]=h,e[36]=u,e[37]=x):x=e[37];let C;e[38]!==d||e[39]!==x||e[40]!==A||e[41]!==p||e[42]!==k?(C=s.jsxs(N,{direction:"column",flexGrow:1,alignItems:"start",className:"pointer",onMouseEnter:A,onClick:p,children:[k,d,x]}),e[38]=d,e[39]=x,e[40]=A,e[41]=p,e[42]=k,e[43]=C):C=e[43];let n;e[44]!==g||e[45]!==t.avatarUrl||e[46]!==R?(n=t.avatarUrl&&s.jsx(O,{className:"pointer",src:t.avatarUrl,onMouseEnter:()=>{g()},onClick:()=>{R()},sx:{maxWidth:80,maxHeight:80}}),e[44]=g,e[45]=t.avatarUrl,e[46]=R,e[47]=n):n=e[47];let S;return e[48]!==i||e[49]!==C||e[50]!==n||e[51]!==o?(S=s.jsxs(N,{justifyContent:"flex-start",direction:"row",spacing:2,...i,children:[o,C,n]}),e[48]=i,e[49]=C,e[50]=n,e[51]=o,e[52]=S):S=e[52],S},ee=m=>{const e=M.c(36);let t,r;e[0]!==m?({sx:r,...t}=m,e[0]=m,e[1]=t,e[2]=r):(t=e[1],r=e[2]);const{showAlert:i}=w.useContext(q),{ack:b}=w.useContext(D);let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[3]=a):a=e[3];const[y,I]=w.useState(a),[l,g]=w.useState(!0),[j,R]=w.useState(!1),[o]=w.useState(0),[,A]=w.useState(1);let p;e[4]!==o||e[5]!==i||e[6]!==l?(p=()=>{F(l,100,o).then(n=>{var S;I(n.notifications),A(((S=n.pageResult)==null?void 0:S.totalPage)||1)}).catch(n=>{i(n.message,"error")})},e[4]=o,e[5]=i,e[6]=l,e[7]=p):p=e[7];let v;e[8]!==o||e[9]!==j||e[10]!==l?(v=[l,j,o],e[8]=o,e[9]=j,e[10]=l,e[11]=v):v=e[11],w.useEffect(p,v);let c;e[12]!==r?(c={marginX:1,...r},e[12]=r,e[13]=c):c=e[13];let f;e[14]!==b||e[15]!==y||e[16]!==j||e[17]!==i?(f=s.jsx(P,{variant:"contained",disableElevation:!0,onClick:()=>{const n=y.filter(J).map(Q);n.length!==0&&b(n).then(()=>{R(!j)}).catch(S=>{i(S.message,"error")})},children:"Mark All As Read"}),e[14]=b,e[15]=y,e[16]=j,e[17]=i,e[18]=f):f=e[18];let k;e[19]===Symbol.for("react.memo_cache_sentinel")?(k=n=>{g(n.target.checked)},e[19]=k):k=e[19];let d;e[20]!==l?(d=s.jsx(W,{control:s.jsx($,{checked:l,onChange:k}),label:"Show Unread Only"}),e[20]=l,e[21]=d):d=e[21];let h;e[22]!==f||e[23]!==d?(h=s.jsxs(N,{direction:"row",spacing:1,justifyContent:"space-between",children:[f,d]}),e[22]=f,e[23]=d,e[24]=h):h=e[24];let u;e[25]!==b||e[26]!==i?(u=(n,S)=>s.jsxs(N,{direction:"column",spacing:1,children:[s.jsx(Z,{notification:n,onRead:()=>b([n.id]).catch(L=>{i(L.message,"error")})}),s.jsx(B,{})]},n.id),e[25]=b,e[26]=i,e[27]=u):u=e[27];let x;e[28]!==y||e[29]!==u?(x=s.jsx(G,{data:y,renderItem:u}),e[28]=y,e[29]=u,e[30]=x):x=e[30];let C;return e[31]!==t||e[32]!==x||e[33]!==c||e[34]!==h?(C=s.jsxs(N,{direction:"column",spacing:1,sx:c,...t,children:[h,x]}),e[31]=t,e[32]=x,e[33]=c,e[34]=h,e[35]=C):C=e[35],C};function J(m){return!m.read}function Q(m){return m.id}export{ee as default};
