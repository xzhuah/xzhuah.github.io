import{r as C,c as k,j as h,b4 as U,R as _,S as R,bX as Y,aI as D,bY as B}from"./index-ObzXdM8m.js";var L=(n=>(n.Mouse="mouse",n.Touch="touch",n.Pointer="pointer",n))(L||{}),X=(n=>(n.CancelledByMovement="cancelled-by-movement",n.CancelledByRelease="cancelled-by-release",n.CancelledOutsideElement="cancelled-outside-element",n))(X||{});const $=["mousedown","mousemove","mouseup","mouseleave","mouseout"],W=["touchstart","touchmove","touchend","touchcancel"],q=["pointerdown","pointermove","pointerup","pointerleave","pointerout"];function z(n){return typeof n=="object"&&n!==null&&"pageX"in n&&typeof n.pageX=="number"&&"pageY"in n&&typeof n.pageY=="number"}function A(n){var e;return $.includes((e=n==null?void 0:n.nativeEvent)==null?void 0:e.type)}function O(n){var e;return W.includes((e=n==null?void 0:n.nativeEvent)==null?void 0:e.type)||"touches"in n}function F(n){const{nativeEvent:e}=n;return e?q.includes(e==null?void 0:e.type)||"pointerId"in e:!1}function S(n){return A(n)||O(n)||F(n)}function T(n){var e;const o=O(n)?(e=n==null?void 0:n.touches)==null?void 0:e[0]:n;return z(o)?{x:o.pageX,y:o.pageY}:null}function G(n){return{target:n.target,currentTarget:n.currentTarget,nativeEvent:n,persist:()=>{}}}function H(n,{threshold:e=400,captureEvent:o=!1,detect:c=L.Pointer,cancelOnMovement:l=!1,cancelOutsideElement:r=!0,filterEvents:y,onStart:i,onMove:E,onFinish:g,onCancel:P}={}){const M=C.useRef(!1),p=C.useRef(!1),b=C.useRef(),f=C.useRef(),d=C.useRef(n),m=C.useRef(null),u=C.useCallback(s=>t=>{p.current||S(t)&&(y!==void 0&&!y(t)||(o&&t.persist(),i==null||i(t,{context:s}),m.current=T(t),p.current=!0,b.current=t.currentTarget,f.current=setTimeout(()=>{d.current&&(d.current(t,{context:s}),M.current=!0)},e)))},[o,y,i,e]),a=C.useCallback(s=>(t,v)=>{S(t)&&p.current&&(m.current=null,o&&t.persist(),M.current?g==null||g(t,{context:s}):p.current&&(P==null||P(t,{context:s,reason:v??X.CancelledByRelease})),M.current=!1,p.current=!1,f.current!==void 0&&clearTimeout(f.current))},[o,g,P]),x=C.useCallback(s=>t=>{if(S(t)&&(E==null||E(t,{context:s}),l!==!1&&m.current)){const v=T(t);if(v){const j=l===!0?25:l,I={x:Math.abs(v.x-m.current.x),y:Math.abs(v.y-m.current.y)};(I.x>j||I.y>j)&&a(s)(t,X.CancelledByMovement)}}},[a,l,E]),w=C.useCallback(s=>{if(n===null)return{};switch(c){case L.Mouse:{const t={onMouseDown:u(s),onMouseMove:x(s),onMouseUp:a(s)};return r&&(t.onMouseLeave=v=>{a(s)(v,X.CancelledOutsideElement)}),t}case L.Touch:return{onTouchStart:u(s),onTouchMove:x(s),onTouchEnd:a(s)};case L.Pointer:{const t={onPointerDown:u(s),onPointerMove:x(s),onPointerUp:a(s)};return r&&(t.onPointerLeave=v=>a(s)(v,X.CancelledOutsideElement)),t}}},[n,a,r,c,x,u]);return C.useEffect(()=>{function s(t){const v=G(t);a()(v)}return window.addEventListener("mouseup",s),window.addEventListener("touchend",s),window.addEventListener("pointerup",s),()=>{window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s),window.removeEventListener("pointerup",s)}},[a]),C.useEffect(()=>()=>{f.current!==void 0&&clearTimeout(f.current)},[]),C.useEffect(()=>{d.current=n},[n]),w}const J=n=>{const e=k.c(30);let o,c,l;e[0]!==n?({menuItems:c,children:o,...l}=n,e[0]=n,e[1]=o,e[2]=c,e[3]=l):(o=e[1],c=e[2],l=e[3]);const[r,y]=_.useState(null);let i;e[4]!==r?(i=t=>{t.preventDefault(),t.stopPropagation(),y(r===null?{mouseX:t.clientX+2,mouseY:t.clientY-6}:null)},e[4]=r,e[5]=i):i=e[5];const E=i;let g;e[6]!==r?(g=t=>{t.preventDefault(),t.stopPropagation(),y(r===null?{mouseX:t.clientX>window.screen.width/2?t.clientX-200:t.clientX+100,mouseY:t.clientY-6}:null)},e[6]=r,e[7]=g):g=e[7];const P=g;let M;e[8]===Symbol.for("react.memo_cache_sentinel")?(M={threshold:500},e[8]=M):M=e[8];const p=H(P,M);let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{y(null)},e[9]=b):b=e[9];const f=b;if(c.length===0){let t;return e[10]!==o||e[11]!==l?(t=h.jsx(R,{...l,children:o}),e[10]=o,e[11]=l,e[12]=t):t=e[12],t}let d;e[13]!==p?(d=p(),e[13]=p,e[14]=d):d=e[14];const m=r!==null;let u;e[15]!==r?(u=r!==null?{top:r.mouseY,left:r.mouseX}:void 0,e[15]=r,e[16]=u):u=e[16];let a;e[17]===Symbol.for("react.memo_cache_sentinel")?(a=(t,v)=>t.type==="a"?h.jsx("a",{href:t.props.href,style:t.props.style,target:t.props.target,download:t.props.download,rel:t.props.rel,onClick:j=>{f(),j.stopPropagation()},onContextMenu:N,children:h.jsx(Y,{sx:{padding:0,margin:0},children:t.props.children},v)}):h.jsx(Y,{onClick:j=>{f()},sx:{padding:0,margin:0},children:t},v),e[17]=a):a=e[17];let x;e[18]!==c?(x=h.jsx(D,{data:c,renderItem:a}),e[18]=c,e[19]=x):x=e[19];let w;e[20]!==m||e[21]!==u||e[22]!==x?(w=h.jsx(B,{open:m,onClose:f,anchorReference:"anchorPosition",anchorPosition:u,children:x}),e[20]=m,e[21]=u,e[22]=x,e[23]=w):w=e[23];let s;return e[24]!==o||e[25]!==E||e[26]!==l||e[27]!==w||e[28]!==d?(s=h.jsxs(R,{onContextMenu:E,...d,...l,children:[o,w]}),e[24]=o,e[25]=E,e[26]=l,e[27]=w,e[28]=d,e[29]=s):s=e[29],s},K=n=>{const e=k.c(24);let o,c,l;e[0]!==n?({menuItems:c,children:o,...l}=n,e[0]=n,e[1]=o,e[2]=c,e[3]=l):(o=e[1],c=e[2],l=e[3]);const[r,y]=_.useState(null);let i;e[4]!==r?(i=u=>{u.preventDefault(),u.stopPropagation(),y(r===null?{mouseX:u.clientX+2,mouseY:u.clientY-6}:null)},e[4]=r,e[5]=i):i=e[5];const E=i;let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{y(null)},e[6]=g):g=e[6];const P=g;if(c.length===0){let u;return e[7]!==o||e[8]!==l?(u=h.jsx(R,{...l,children:o}),e[7]=o,e[8]=l,e[9]=u):u=e[9],u}const M=r!==null;let p;e[10]!==r?(p=r!==null?{top:r.mouseY,left:r.mouseX}:void 0,e[10]=r,e[11]=p):p=e[11];let b;e[12]===Symbol.for("react.memo_cache_sentinel")?(b=(u,a)=>u.type==="a"?h.jsx("a",{href:u.props.href,style:u.props.style,target:u.props.target,download:u.props.download,rel:u.props.rel,onClick:x=>{P(),x.stopPropagation()},onContextMenu:V,children:h.jsx(Y,{children:u.props.children},a)}):h.jsx(Y,{sx:{padding:0,margin:0},onClick:x=>{P()},children:u},a),e[12]=b):b=e[12];let f;e[13]!==c?(f=h.jsx(D,{data:c,renderItem:b}),e[13]=c,e[14]=f):f=e[14];let d;e[15]!==M||e[16]!==p||e[17]!==f?(d=h.jsx(B,{open:M,onClose:P,anchorReference:"anchorPosition",anchorPosition:p,children:f}),e[15]=M,e[16]=p,e[17]=f,e[18]=d):d=e[18];let m;return e[19]!==o||e[20]!==E||e[21]!==l||e[22]!==d?(m=h.jsxs(R,{onContextMenu:E,...l,children:[o,d]}),e[19]=o,e[20]=E,e[21]=l,e[22]=d,e[23]=m):m=e[23],m},Z=n=>{const e=k.c(13);let o,c,l,r;if(e[0]!==n?({menuItems:c,enableLongPress:r,children:o,...l}=n,e[0]=n,e[1]=o,e[2]=c,e[3]=l,e[4]=r):(o=e[1],c=e[2],l=e[3],r=e[4]),r===void 0?U.isMobile:r){let i;return e[5]!==o||e[6]!==c||e[7]!==l?(i=h.jsx(J,{menuItems:c,children:o,...l}),e[5]=o,e[6]=c,e[7]=l,e[8]=i):i=e[8],i}else{let i;return e[9]!==o||e[10]!==c||e[11]!==l?(i=h.jsx(K,{menuItems:c,children:o,...l}),e[9]=o,e[10]=c,e[11]=l,e[12]=i):i=e[12],i}};function N(n){n.stopPropagation()}function V(n){n.stopPropagation()}export{Z as C};
