import{g as le,a as K,r as c,u as de,c6 as $,j as e,s as Z,i as q,k as me,c7 as Se,h as we,c8 as je,m as Le,q as E,a2 as ke,Z as Ae,a3 as Re,c9 as Fe,v as Pe,w as Te,e as Ue,a4 as Ee,ca as Me,bH as Y,T as u,cb as Ne,x as b,ac as U,p as ee,S as x,bv as re,cc as T,cd as ze,ce as te,cf as Be,aM as De,cg as We,af as Ge,ch as se,ci as ye,D as ne,a5 as Ve,bn as $e,bU as He,ak as fe,aG as Oe,cj as Ye,ck as _e,ag as qe,cl as Ke,cm as Ze}from"./index-CuMhGs3H.js";import{G as B,S as Je}from"./ShoppingCart-BqLPgVAh.js";import{E as Qe}from"./Edit-CW1YKlr3.js";import{D as Xe}from"./Download-EA6wIOY1.js";import{D as be,F as et}from"./FileIcon-Doa9pI_k.js";import{C as oe}from"./Container-CP4ZttHh.js";import{C as ie,a as tt}from"./CardContent-C5hCWalE.js";import{C as ae}from"./Chip-s59dnIfP.js";function st(o){return le("MuiListItem",o)}K("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const nt=K("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function ot(o){return le("MuiListItemSecondaryAction",o)}K("MuiListItemSecondaryAction",["root","disableGutters"]);const it=o=>{const{disableGutters:s,classes:t}=o;return me({root:["root",s&&"disableGutters"]},ot,t)},at=Z("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:t}=o;return[s.root,t.disableGutters&&s.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:o})=>o.disableGutters,style:{right:0}}]}),Ie=c.forwardRef(function(s,t){const d=de({props:s,name:"MuiListItemSecondaryAction"}),{className:g,...m}=d,j=c.useContext($),l={...d,disableGutters:j.disableGutters},i=it(l);return e.jsx(at,{className:q(i.root,g),ownerState:l,ref:t,...m})});Ie.muiName="ListItemSecondaryAction";const rt=(o,s)=>{const{ownerState:t}=o;return[s.root,t.dense&&s.dense,t.alignItems==="flex-start"&&s.alignItemsFlexStart,t.divider&&s.divider,!t.disableGutters&&s.gutters,!t.disablePadding&&s.padding,t.hasSecondaryAction&&s.secondaryAction]},ct=o=>{const{alignItems:s,classes:t,dense:d,disableGutters:g,disablePadding:m,divider:j,hasSecondaryAction:l}=o;return me({root:["root",d&&"dense",!g&&"gutters",!m&&"padding",j&&"divider",s==="flex-start"&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"]},st,t)},lt=Z("div",{name:"MuiListItem",slot:"Root",overridesResolver:rt})(Le(({theme:o})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:s})=>!s.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:s})=>!s.disablePadding&&s.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:s})=>!s.disablePadding&&!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>!s.disablePadding&&!!s.secondaryAction,style:{paddingRight:48}},{props:({ownerState:s})=>!!s.secondaryAction,style:{[`& > .${nt.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>s.button,style:{transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:s})=>s.hasSecondaryAction,style:{paddingRight:48}}]}))),dt=Z("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),mt=c.forwardRef(function(s,t){const d=de({props:s,name:"MuiListItem"}),{alignItems:g="center",children:m,className:j,component:l,components:i={},componentsProps:v={},ContainerComponent:p="li",ContainerProps:{className:A,...C}={},dense:R=!1,disableGutters:S=!1,disablePadding:w=!1,divider:J=!1,secondaryAction:F,slotProps:D={},slots:H={},...W}=d,M=c.useContext($),N=c.useMemo(()=>({dense:R||M.dense||!1,alignItems:g,disableGutters:S}),[g,M.dense,R,S]),G=c.useRef(null),L=c.Children.toArray(m),z=L.length&&Se(L[L.length-1],["ListItemSecondaryAction"]),y={...d,alignItems:g,dense:N.dense,disableGutters:S,disablePadding:w,divider:J,hasSecondaryAction:z},V=ct(y),O=we(G,t),f=H.root||i.Root||lt,k=D.root||v.root||{},P={className:q(V.root,k.className,j),...W};let a=l||"li";return z?(a=!P.component&&!l?"div":a,p==="li"&&(a==="li"?a="div":P.component==="li"&&(P.component="div")),e.jsx($.Provider,{value:N,children:e.jsxs(dt,{as:p,className:q(V.container,A),ref:O,ownerState:y,...C,children:[e.jsx(f,{...k,...!je(f)&&{as:a,ownerState:{...y,...k.ownerState}},...P,children:L}),L.pop()]})})):e.jsx($.Provider,{value:N,children:e.jsxs(f,{...k,as:a,ref:O,...!je(f)&&{ownerState:{...y,...k.ownerState}},...P,children:[L,F&&e.jsx(Ie,{children:F})]})})});function xt(o){return le("MuiListItemAvatar",o)}K("MuiListItemAvatar",["root","alignItemsFlexStart"]);const ut=o=>{const{alignItems:s,classes:t}=o;return me({root:["root",s==="flex-start"&&"alignItemsFlexStart"]},xt,t)},pt=Z("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:t}=o;return[s.root,t.alignItems==="flex-start"&&s.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),ht=c.forwardRef(function(s,t){const d=de({props:s,name:"MuiListItemAvatar"}),{className:g,...m}=d,j=c.useContext($),l={...d,alignItems:j.alignItems},i=ut(l);return e.jsx(pt,{className:q(i.root,g),ownerState:l,ref:t,...m})}),ve=E(e.jsx("path",{d:"M18.6 6.62c-1.44 0-2.8.56-3.77 1.53L12 10.66 10.48 12h.01L7.8 14.39c-.64.64-1.49.99-2.4.99-1.87 0-3.39-1.51-3.39-3.38S3.53 8.62 5.4 8.62c.91 0 1.76.35 2.44 1.03l1.13 1 1.51-1.34L9.22 8.2C8.2 7.18 6.84 6.62 5.4 6.62 2.42 6.62 0 9.04 0 12s2.42 5.38 5.4 5.38c1.44 0 2.8-.56 3.77-1.53l2.83-2.5.01.01L13.52 12h-.01l2.69-2.39c.64-.64 1.49-.99 2.4-.99 1.87 0 3.39 1.51 3.39 3.38s-1.52 3.38-3.39 3.38c-.9 0-1.76-.35-2.44-1.03l-1.14-1.01-1.51 1.34 1.27 1.12c1.02 1.01 2.37 1.57 3.82 1.57 2.98 0 5.4-2.41 5.4-5.38s-2.42-5.37-5.4-5.37"})),ce=E(e.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),Ce=E(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),gt=E(e.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),jt=E(e.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9zM18 20H6V10h12z"})),ft=E(e.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75M9.1 17H7v-2.14l5.96-5.96 2.12 2.12zm7.75-7.73-1.06 1.06-2.12-2.12 1.06-1.06c.2-.2.51-.2.71 0l1.41 1.41c.2.2.2.51 0 .71"})),bt=E([e.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),e.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),vt=(o,s=2)=>{if(!+o)return"0 Bytes";const t=1024,d=s<0?0:s,g=["Bytes","KB","MB","GB","TB"],m=Math.floor(Math.log(o)/Math.log(t));return`${parseFloat((o/Math.pow(t,m)).toFixed(d))} ${g[m]}`},_=({value:o,label:s,canEdit:t,type:d="text",onSave:g,typographyProps:m,prefix:j="",suffix:l})=>{const[i,v]=c.useState(!1),[p,A]=c.useState(o),[C,R]=c.useState(!1);c.useEffect(()=>{A(o)},[o]);const S=async()=>{if(p===o){v(!1);return}R(!0);try{const w=d==="number"?Number(p):p;await g(w),v(!1)}catch(w){console.error("Save failed:",w)}finally{R(!1)}};return i?e.jsxs(x,{direction:"row",spacing:1,alignItems:"flex-start",width:"100%",children:[e.jsx(re,{fullWidth:!0,multiline:d==="multiline",rows:d==="multiline"?4:1,label:s,type:d==="number"?"number":"text",value:p,setValue:A,disabled:C,onSubmit:S,autoFocus:!0}),e.jsxs(x,{direction:"row",children:[e.jsx(U,{onClick:S,color:"success",disabled:C,children:e.jsx(ce,{})}),e.jsx(U,{onClick:()=>{v(!1),A(o)},color:"error",disabled:C,children:e.jsx(Ce,{})})]})]}):e.jsxs(x,{direction:"row",alignItems:"center",spacing:1,sx:{position:"relative","&:hover .edit-icon":{opacity:1}},children:[j&&e.jsx(u,{...m,component:"span",children:j}),e.jsx(u,{...m,sx:{wordBreak:"break-word",whiteSpace:"pre-wrap",...m==null?void 0:m.sx},children:o}),l,t&&e.jsx(ye,{title:`Edit ${s}`,children:e.jsx(U,{className:"edit-icon",size:"small",onClick:()=>v(!0),sx:{opacity:.3,transition:"opacity 0.2s"},children:e.jsx(Qe,{fontSize:"small"})})})]})},Rt=()=>{var xe,ue,pe,he;const[o]=ke(),s=o.get("id")?parseInt(o.get("id")||"0"):0,{t}=Ae(),d=Re(),g=Fe(),m=Pe(Te),j=Ue(),{showAlert:l}=c.useContext(Ee),[i,v]=c.useState(null),[p,A]=c.useState(!1),[C,R]=c.useState(!1),[S,w]=c.useState(!1),[J,F]=c.useState(!1),[D,H]=c.useState(""),[W,M]=c.useState(!1),[N,G]=c.useState(""),[L,z]=c.useState(!1),[y,V]=c.useState(!1);c.useEffect(()=>{s>0&&O()},[s,g,m,y]),c.useEffect(()=>{i&&G(i.content||"")},[i,y]);const O=()=>{w(!0),Me(s).then(n=>{var I,ge;v(n);const r=g&&m?((ge=(I=n.product)==null?void 0:I.owner)==null?void 0:ge.id)===m.userId:!1;A(r);const h=g&&m?!!n.content||n.assetFiles.length>0||r:!1;R(h)}).catch(n=>{l(t("Failed to load asset details"),"error")}).finally(()=>{w(!1)})},f=async(n,r)=>{if(!(!i||!i.product)){try{switch(n){case"name":if(!r||String(r).trim()==="")throw new Error(t("Product name cannot be empty"));break;case"description":if(!r||String(r).trim()==="")throw new Error(t("Description cannot be empty"));break;case"price":{const h=Number(r);if(isNaN(h)||h<=0)throw new Error(t("Price must be greater than 0"));break}case"stockLimit":{const h=Number(r);if(isNaN(h)||h<0)throw new Error(t("Stock limit must be greater than or equal to 0"));break}case"coverImageUrl":if(!Ke(r))throw new Error(t("Please enter a valid Image URL"));break;case"active":if(r===!0){const h=i.content&&i.content.trim().length>0,I=i.assetFiles&&i.assetFiles.length>0;if(!h&&!I)throw new Error(t("Cannot list product without content or files. Please add content first."))}break}}catch(h){throw l(h.message,"error"),h}try{const h=await Ze(i.product.id,n==="name"?r:void 0,n==="description"?r:void 0,n==="coverImageUrl"?r:void 0,n==="active"?r:void 0,n==="price"?r:void 0,n==="stockLimit"?r:void 0,n==="content"?r:void 0,n==="fileIds"?r:void 0);v(h),l(t("Update successful"),"success")}catch(h){throw l(t("Update failed")+": "+h.message,"error"),h}}},k=async()=>{try{await f("content",N),M(!1)}catch{}},P=async n=>{if(!i)return;const h=i.assetFiles.map(I=>I.id).filter(I=>I!==n);try{await f("fileIds",h)}catch{}};if(S&&!i)return e.jsx(oe,{maxWidth:"lg",sx:{py:4},children:e.jsxs(B,{container:!0,spacing:4,children:[e.jsx(B,{size:{xs:12,md:5},children:e.jsx(Y,{variant:"rectangular",height:400,sx:{borderRadius:4}})}),e.jsxs(B,{size:{xs:12,md:7},children:[e.jsx(Y,{height:60,width:"80%"}),e.jsx(Y,{height:30,width:"40%"}),e.jsx(Y,{height:150,sx:{mt:2}})]})]})});if(!i||!i.product)return e.jsx(oe,{sx:{py:10,textAlign:"center"},children:e.jsx(u,{children:t("Asset not found")})});const{product:a}=i,Q=a.resourceType,X=a.id;return e.jsxs(oe,{maxWidth:"lg",sx:{py:6},children:[e.jsx(Ne,{resourceType:Q,resourceId:X}),e.jsxs(B,{container:!0,spacing:6,children:[e.jsxs(B,{size:{xs:12,md:5},sx:{position:{md:"sticky"},top:20,alignSelf:"flex-start"},children:[e.jsxs(ie,{elevation:0,sx:{borderRadius:4,overflow:"hidden",position:"relative",border:`1px solid ${j.palette.divider}`},children:[e.jsx(b,{component:"img",src:a.coverImageUrl,alt:a.name,sx:{width:"100%",height:"auto",aspectRatio:"1/1",objectFit:"cover",display:"block"}}),p&&e.jsx(b,{sx:{position:"absolute",bottom:0,right:0,p:1,bgcolor:"rgba(255,255,255,0.8)",borderTopLeftRadius:8},children:e.jsx(U,{onClick:()=>{F(!0),H(a.coverImageUrl)},children:e.jsx(bt,{color:"primary"})})})]}),p&&J&&e.jsx(ee,{sx:{p:2,mt:2},elevation:3,children:e.jsxs(x,{spacing:1,children:[e.jsx(u,{variant:"subtitle2",children:t("Update Cover Image URL")}),e.jsx(re,{value:D,setValue:H,label:"Image URL",onSubmit:()=>{f("coverImageUrl",D).then(()=>F(!1)).catch(()=>{})}}),e.jsxs(x,{direction:"row",justifyContent:"flex-end",spacing:1,children:[e.jsx(T,{size:"small",onClick:()=>F(!1),children:t("Cancel")}),e.jsx(T,{size:"small",variant:"contained",onClick:()=>{f("coverImageUrl",D).then(()=>F(!1)).catch(()=>{})},children:t("Save")})]})]})}),e.jsx(x,{direction:"row",justifyContent:"center",spacing:4,sx:{pt:3},children:e.jsx(ze,{resourceType:Q,resourceId:X,collectType:[te.COLLECTOR_TYPE_VIEW,te.COLLECTOR_TYPE_LIKE,te.COLLECTOR_TYPE_BUY]})})]}),e.jsx(B,{size:{xs:12,md:7},children:e.jsxs(x,{spacing:3,children:[p&&e.jsxs(ee,{variant:"outlined",sx:{p:1,px:2,bgcolor:"background.default",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(x,{direction:"row",alignItems:"center",spacing:1,children:[e.jsxs(u,{variant:"subtitle2",color:"text.secondary",children:[t("Product Status"),":"]}),e.jsx(ae,{label:a.active?t("Active"):t("Inactive"),color:a.active?"success":"default",size:"small"})]}),e.jsxs(x,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(Be,{control:e.jsx(De,{checked:a.active,onChange:n=>f("active",n.target.checked).catch(()=>{}),color:"success"}),label:t("On Shelf")}),e.jsx(U,{"aria-label":"delete",color:"error",onClick:()=>We(i.product.id).then(()=>{var n,r;l(t("Asset deleted successfully"),"success"),d(Ge((r=(n=i==null?void 0:i.product)==null?void 0:n.owner)==null?void 0:r.id))}).catch(n=>{l(t("Failed to delete asset")+": "+n.message,"error")}),children:e.jsx(be,{})})]})]}),e.jsxs(b,{children:[e.jsx(_,{canEdit:p,label:"Product Name",value:a.name,typographyProps:{variant:"h3",fontWeight:"bold",gutterBottom:!0},onSave:n=>f("name",n)}),e.jsxs(x,{direction:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2,children:[e.jsx(b,{children:e.jsx(_,{canEdit:p,label:"Price",type:"number",prefix:"$",value:a.price,typographyProps:{variant:"h4",color:"primary.main",fontWeight:"bold"},onSave:n=>f("price",n)})}),e.jsx(x,{direction:"row",alignItems:"center",children:p?e.jsxs(x,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(u,{variant:"body2",color:"text.secondary",children:t("Stock:")}),e.jsx(_,{canEdit:!0,label:"Stock",type:"number",value:se(a)?0:a.stockLimit,typographyProps:{variant:"body1",fontWeight:"bold"},onSave:n=>f("stockLimit",n),suffix:se(a)?e.jsx(ye,{title:"Unlimited Stock",children:e.jsx(ve,{color:"action",sx:{ml:1}})}):null})]}):se(a)?e.jsx(ae,{label:t("Unlimited Stock"),color:"success",variant:"outlined",icon:e.jsx(ve,{})}):a.stockLimit>0&&e.jsx(ae,{label:`${a.stockLimit} ${t("in stock")}`,color:"success",variant:"outlined"})})]})]}),e.jsx(ne,{}),e.jsxs(x,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(Ve,{title:(xe=a.owner)==null?void 0:xe.name,avatarUrl:(ue=a.owner)==null?void 0:ue.avatarUrl,sx:{width:48,height:48},profileLink:$e((pe=a.owner)==null?void 0:pe.id)}),e.jsxs(b,{children:[e.jsx(u,{variant:"caption",color:"text.secondary",children:t("Created by")}),e.jsx(u,{variant:"subtitle1",fontWeight:"bold",children:(he=a.owner)==null?void 0:he.name})]})]}),e.jsxs(b,{children:[e.jsx(u,{variant:"h6",gutterBottom:!0,color:"text.secondary",sx:{textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:1},children:t("Description")}),e.jsx(_,{canEdit:p,label:"Description",type:"multiline",value:a.description,typographyProps:{variant:"body1",color:"text.primary",sx:{lineHeight:1.8}},onSave:n=>f("description",n)})]}),e.jsx(ee,{elevation:0,sx:{p:3,bgcolor:"grey.50",borderRadius:3},children:C?e.jsxs(x,{spacing:2,justifyContent:"center",alignItems:"center",children:[e.jsx(ce,{color:"success",sx:{fontSize:40}}),e.jsx(u,{variant:"h6",color:"success.main",children:t("You own this asset")}),e.jsx(u,{variant:"body2",color:"text.secondary",children:t("Check the 'Purchased Content' section below to access your files.")})]}):e.jsx(T,{variant:"contained",size:"large",startIcon:e.jsx(Je,{}),fullWidth:!0,disabled:L||!a.active||a.stockLimit!==0&&a.stockLimit<=0,onClick:()=>{z(!0),He(s).then(n=>{fe("TransactionDialog",{transactionId:n.id,externalTransactionId:n.externalTransactionId,clientSecret:n.clientSecret||""}).then(r=>{r.success?(l(`Transaction ${r.data.id} completed successfully`,"success"),V(!y)):l(`Transaction ${r.data.id} failed`,"error")}).finally(()=>{z(!1)})}).catch(n=>{l(`Failed to create transaction: ${n}`,"error")}).finally(()=>{z(!1)})},sx:{py:2,borderRadius:2,fontSize:"1.2rem",boxShadow:j.shadows[4]},children:a.active?t("Buy Now"):t("Not Available")})}),e.jsxs(b,{sx:{mt:4},children:[e.jsxs(x,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsx(u,{variant:"h5",fontWeight:"bold",children:t("Purchased Content")}),p&&e.jsxs(x,{direction:"row",spacing:1,children:[e.jsx(T,{startIcon:e.jsx(ft,{}),size:"small",variant:"outlined",onClick:()=>{G(i.content||""),M(!0)},disabled:W,children:t("Edit Content")}),e.jsx(T,{startIcon:e.jsx(gt,{}),size:"small",variant:"outlined",onClick:()=>{fe("DigitalAssetUploadDialog",{assetId:s,existingFileId:i.assetFiles.map(n=>n.id)}).then(()=>{Oe("Upload dialog closed, reloading asset"),V(!y)})},children:t("Upload Files")})]})]}),C?e.jsx(ie,{variant:"outlined",sx:{borderRadius:2},children:e.jsxs(tt,{children:[e.jsxs(b,{mb:3,children:[e.jsx(u,{variant:"subtitle2",gutterBottom:!0,color:"text.secondary",children:t("Secret Content")}),W?e.jsxs(x,{spacing:1,children:[e.jsx(re,{fullWidth:!0,multiline:!0,rows:4,label:t("Content"),onSubmit:k,value:N,setValue:G,placeholder:t("Enter premium content, download links, or access codes here...")}),e.jsxs(x,{direction:"row",justifyContent:"flex-end",spacing:1,children:[e.jsx(T,{size:"small",color:"inherit",onClick:()=>M(!1),startIcon:e.jsx(Ce,{}),children:t("Cancel")}),e.jsx(T,{size:"small",variant:"contained",onClick:k,startIcon:e.jsx(ce,{}),children:t("Save")})]})]}):e.jsx(e.Fragment,{children:i.content?e.jsx(u,{variant:"body1",enableTranslate:!1,enableLinkify:!0,sx:{textAlign:"start",whiteSpace:"pre-wrap",fontFamily:"monospace",bgcolor:"grey.50",p:2,borderRadius:1},children:i.content}):p&&e.jsx(u,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic",p:1},children:t("No text content provided. Click 'Edit Note' to add info.")})})]}),i.assetFiles.length>0&&e.jsx(Ye,{children:i.assetFiles.map(n=>e.jsxs(c.Fragment,{children:[e.jsxs(mt,{disableGutters:!0,secondaryAction:e.jsxs(x,{direction:"row",spacing:.5,children:[e.jsx(U,{"aria-label":"download",href:n.url,target:"_blank",color:"primary",children:e.jsx(Xe,{})}),p&&e.jsx(U,{"aria-label":"delete",color:"error",onClick:()=>P(n.id),children:e.jsx(be,{})})]}),children:[e.jsx(ht,{children:e.jsx(b,{sx:{p:1,bgcolor:"primary.light",borderRadius:2,display:"flex",color:"white"},children:e.jsx(et,{contentType:n.contentType,isFolder:!1,isPublic:n.isPublic})})}),e.jsx(_e,{sx:{marginLeft:2},primary:n.name,slotProps:{primary:{fontWeight:"medium"}},secondary:e.jsxs(x,{direction:"row",spacing:1,component:"span",alignItems:"center",children:[e.jsx(u,{variant:"caption",component:"span",children:vt(n.sizeInBytes)}),e.jsx(u,{variant:"caption",component:"span",children:"â€¢"}),e.jsx(u,{variant:"caption",component:"span",children:new Date(Number(n.createTime)).toLocaleDateString()})]})})]}),e.jsx(ne,{variant:"inset",component:"li"})]},n.id))}),!W&&!i.content&&i.assetFiles.length===0&&e.jsx(u,{color:"text.secondary",align:"center",py:2,children:t(p?"Add content or upload files to start selling.":"No content available yet.")})]})}):e.jsx(ie,{variant:"outlined",sx:{borderRadius:2,bgcolor:"grey.50",borderStyle:"dashed"},children:e.jsxs(x,{justifyContent:"center",alignItems:"center",py:6,spacing:2,children:[e.jsx(jt,{sx:{fontSize:48,color:j.palette.text.disabled}}),e.jsx(u,{color:"text.secondary",children:t("Purchase to unlock content")})]})})]}),e.jsxs(b,{sx:{mt:2},children:[e.jsx(ne,{sx:{mb:4}}),e.jsx(qe,{objectId:X,targetType:Q,title:t("Reviews & Comments")})]})]})})]})]})};export{Rt as default};
