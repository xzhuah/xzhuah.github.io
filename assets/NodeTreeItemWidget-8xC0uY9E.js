import{q as Ye,j as i,c as be,Z as Qe,br as qe,bs as $e,bt as et,bu as tt,a2 as st,a3 as it,r as m,a4 as lt,b9 as nt,T as Je,ae as ie,aW as at,bv as ze,bw as rt,S as x,aJ as ot,bx as ct,by as dt,aa as ft,ag as ut,ah as pt,ap as Ge,bz as mt,bA as gt,bB as xt,a7 as Ke,bn as ht,a5 as bt,bC as Ct,bo as jt,bl as At,ak as yt,bD as vt,bE as wt,bF as St,bG as Et,y as It}from"./index-B0xRIY9c.js";import{E as Fe}from"./Edit-B9lZzqJG.js";import{C as kt}from"./CopyButton-BylHBzTj.js";import{C as _t}from"./ContextMenu-4n_ol0Xx.js";import{C as g}from"./Chip-dJduAUKD.js";import"./ContentCopy-B69ng2jT.js";const Dt=Ye(i.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),Tt=Ye(i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),Lt=e=>{const s=be.c(11);let n,r,l;s[0]!==e?({version:l,sx:r,...n}=e,s[0]=e,s[1]=n,s[2]=r,s[3]=l):(n=s[1],r=s[2],l=s[3]);let t;s[4]===Symbol.for("react.memo_cache_sentinel")?(t=i.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsSAAALEgHS3X78AAAC0ElEQVR4nOyWX0hTURzHNSEpKqUeCh+KXlYZ0p+XoqCHniLClwJjkeFDjxH1lpDlimKmMiT6Q2TW0nJrrISg1ZjlkP7YH6dRbiFl5Zqrbe7/n7b763fP7sbxdDe9biwCf/DhXu45fL/fc+45596iorn6n8txcnExshmp+FcBbiGAcIgSKSl0gNtCgBS9yPJCBliA3GFCjCPbCxZCCFIvvIZUiN/IsUKHqEZ8zGxokEWzEVuIdCKTSFwCHBOA5yNSKTXACRGhXAgg+6UE2IZ8ynMInnqpM1GCzBPgD50yRM8KOy+sAb9RAeEhLcS+viJX/5NGcDbJ2ACcpJlgwlQhtimCp8ohYDoHXCwEYsU/92O7o6GMDhFGtko1P4gE2ZEHzCpilOA4uNdrgVpFF+w8cplctaZBiCc40h7oa2Vnon+mxqXIFbH36emsSY4SPY63PQBZzfm/OKrSk3a+POp9rMba6cxXIQOZFlR4WEeEjQM2UfMUhpcjpF/YomE1mrOZ70JcGVdzwxLgwl4irGh/nDXA6euG5GsKulgdq5gxv9obkQTT2cNuy4R3nAi3ac1ZA6i6+0i/uGeMDWBnzZchj0RGPILIkIf08+iXfiJs+/YT1h9oEjWvlCvBOuYk/aKjT1ndUdp8KfJZxJwPVC70aaHbJjV16e3WY34PGw+1TDHfUNsM+mfD6T6eLjmrraMDdIiYtzqoHwy838Gug4jVkDb44fJBt/EdKNUmuItX+y9vui3yoUdsLcnpAPephihSl2Fx6miRibMVEHp9Q/QQSlXwxVWYOLOCNX+OFNPCmwTxS0hVlt2xGomwo3F3VEPozU2I2QeBi/gg9v0tCeZu3y02cv443pJxC05XjuTPRy4fpIuzNqdC7EXcEo35o/xwzuZUiJWIeYbmFmRd3sypEPzneg9yzZH8UvoFwxC/zxG1MFuleTfPEmp+wczmKh/1BwAA//+6kLAWAAAABklEQVQDAAGbexFZ49vVAAAAAElFTkSuQmCC",alt:"Blender",style:{width:24,height:24}}),s[4]=t):t=s[4];let o;s[5]!==r?(o={backgroundColor:"#214C93",color:"white",...r},s[5]=r,s[6]=o):o=s[6];let a;return s[7]!==n||s[8]!==o||s[9]!==l?(a=i.jsx(g,{label:l,avatar:t,sx:o,...n}),s[7]=n,s[8]=o,s[9]=l,s[10]=a):a=s[10],a},Ut=e=>{const s=be.c(16);let n,r,l;s[0]!==e?({type:l,sx:r,...n}=e,s[0]=e,s[1]=n,s[2]=r,s[3]=l):(n=s[1],r=s[2],l=s[3]);const{t}=Qe();let o;s[4]!==t||s[5]!==l?(o=t(qe(l)),s[4]=t,s[5]=l,s[6]=o):o=s[6];let a;s[7]!==l?(a=$e(l),s[7]=l,s[8]=a):a=s[8];let d;s[9]!==r||s[10]!==a?(d={backgroundColor:a,color:"white",...r},s[9]=r,s[10]=a,s[11]=d):d=s[11];let u;return s[12]!==n||s[13]!==o||s[14]!==d?(u=i.jsx(g,{label:o,sx:d,...n}),s[12]=n,s[13]=o,s[14]=d,s[15]=u):u=s[15],u},Nt=e=>{const s=be.c(15);let n,r,l;s[0]!==e?({engine:n,sx:l,...r}=e,s[0]=e,s[1]=n,s[2]=r,s[3]=l):(n=s[1],r=s[2],l=s[3]);let t;s[4]!==n?(t=et(n),s[4]=n,s[5]=t):t=s[5];let o;s[6]!==n?(o=tt(n),s[6]=n,s[7]=o):o=s[7];let a;s[8]!==l||s[9]!==o?(a={backgroundColor:o,color:"white",...l},s[8]=l,s[9]=o,s[10]=a):a=s[10];let d;return s[11]!==r||s[12]!==t||s[13]!==a?(d=i.jsx(g,{label:t,sx:a,...r}),s[11]=r,s[12]=t,s[13]=a,s[14]=d):d=s[14],d},Qt=()=>{var Ve,He,Oe,Be,Xe,Ze,Me,We;const e=be.c(147),[s]=st(),n=it(),{t:r}=Qe(),{showAlert:l}=m.useContext(lt),[t,o]=m.useState(void 0),[a,d]=m.useState(!1),[u,Ce]=m.useState(0),[je,Ae]=m.useState(!1),[ye,ve]=m.useState(!1),[le,we]=m.useState(""),[Se,Ee]=m.useState(!1),[ne,Ie]=m.useState(""),[p,ke]=m.useState(!1),f=nt((Ve=t==null?void 0:t.owner)==null?void 0:Ve.id),Re=Ft,Pe=Vt;let ae;e[0]!==(t==null?void 0:t.id)||e[1]!==(t==null?void 0:t.type)?(ae=()=>JSON.stringify({node_tree_id:`${t==null?void 0:t.id}`,node_tree_type:t==null?void 0:t.type}),e[0]=t==null?void 0:t.id,e[1]=t==null?void 0:t.type,e[2]=ae):ae=e[2];const b=ae;let re;e[3]!==s||e[4]!==l?(re=()=>{const c=parseInt(s.get("id")||"0");c&&mt(c).then(h=>{o(h),d(gt(h)),Ce(xt(h)),we(Re(h.tags)),Ie(h.description)}).catch(h=>{l(h.message,"error")})},e[3]=s,e[4]=l,e[5]=re):re=e[5];let oe;if(e[6]!==p||e[7]!==s?(oe=[s,p],e[6]=p,e[7]=s,e[8]=oe):oe=e[8],m.useEffect(re,oe),!t){let c;return e[9]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsx(x,{}),e[9]=c):c=e[9],c}let ce;e[10]===Symbol.for("react.memo_cache_sentinel")?(ce={xs:"column",md:"row"},e[10]=ce):ce=e[10];let C;e[11]!==t.name?(C=i.jsx(Je,{variant:"h4",children:t.name}),e[11]=t.name,e[12]=C):C=e[12];let j;e[13]!==t.engine?(j=ie("",void 0,"",t.engine),e[13]=t.engine,e[14]=j):j=e[14];let A;e[15]!==t.engine?(A=i.jsx(Nt,{engine:t.engine}),e[15]=t.engine,e[16]=A):A=e[16];let y;e[17]!==j||e[18]!==A?(y=i.jsxs(Ge,{to:j,children:[" ",A]}),e[17]=j,e[18]=A,e[19]=y):y=e[19];let v;e[20]!==t.type?(v=ie("",void 0,t.type,""),e[20]=t.type,e[21]=v):v=e[21];let w;e[22]!==t.type?(w=i.jsx(Ut,{type:t.type}),e[22]=t.type,e[23]=w):w=e[23];let S;e[24]!==v||e[25]!==w?(S=i.jsx(Ge,{to:v,children:w}),e[24]=v,e[25]=w,e[26]=S):S=e[26];let E;e[27]!==t.blenderVersion?(E=i.jsx(Lt,{version:t.blenderVersion}),e[27]=t.blenderVersion,e[28]=E):E=e[28];let I;e[29]!==n||e[30]!==((He=t.owner)==null?void 0:He.id)?(I=i.jsx(Ke,{title:"View Profile",onClick:()=>{var c;n(ht((c=t.owner)==null?void 0:c.id))}}),e[29]=n,e[30]=(Oe=t.owner)==null?void 0:Oe.id,e[31]=I):I=e[31];let k;e[32]!==n||e[33]!==((Be=t.owner)==null?void 0:Be.id)?(k=i.jsx(Ke,{title:"Search Owner's Work",onClick:()=>{var c;n(ie("",(c=t.owner)==null?void 0:c.id,"",""))}}),e[32]=n,e[33]=(Xe=t.owner)==null?void 0:Xe.id,e[34]=k):k=e[34];let _;e[35]!==I||e[36]!==k?(_=[I,k],e[35]=I,e[36]=k,e[37]=_):_=e[37];const _e=(Ze=t.owner)==null?void 0:Ze.avatarUrl,De=(Me=t.owner)==null?void 0:Me.name;let de;e[38]===Symbol.for("react.memo_cache_sentinel")?(de={width:32,height:32},e[38]=de):de=e[38];const Te=(We=t.owner)==null?void 0:We.id;let D;e[39]!==Te?(D=ie("",Te,"",""),e[39]=Te,e[40]=D):D=e[40];let T;e[41]!==_e||e[42]!==De||e[43]!==D?(T=i.jsx(bt,{avatarUrl:_e,title:De,sx:de,profileLink:D}),e[41]=_e,e[42]=De,e[43]=D,e[44]=T):T=e[44];let L;e[45]!==_||e[46]!==T?(L=i.jsx(_t,{menuItems:_,children:T}),e[45]=_,e[46]=T,e[47]=L):L=e[47];let U;e[48]!==t.updateAt?(U=at(t.updateAt),e[48]=t.updateAt,e[49]=U):U=e[49];let N;e[50]!==U?(N=i.jsx(g,{label:U,variant:"outlined"}),e[50]=U,e[51]=N):N=e[51];let z;e[52]!==f||e[53]!==n||e[54]!==t.id?(z=f&&i.jsx(g,{label:i.jsx(Dt,{fontSize:"small"}),title:"Delete",sx:{backgroundColor:"red",color:"white",borderRadius:0},onClick:()=>{Ct(t.id).then(()=>{n(ie())})},variant:"filled"}),e[52]=f,e[53]=n,e[54]=t.id,e[55]=z):z=e[55];let F;e[56]!==S||e[57]!==E||e[58]!==L||e[59]!==N||e[60]!==z||e[61]!==y?(F=i.jsxs(x,{direction:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",rowGap:1,spacing:1,children:[y,S,E,L,N,z]}),e[56]=S,e[57]=E,e[58]=L,e[59]=N,e[60]=z,e[61]=y,e[62]=F):F=e[62];let G;e[63]!==F||e[64]!==C?(G=i.jsxs(x,{direction:ce,spacing:1,justifyContent:"space-around",children:[C,F]}),e[63]=F,e[64]=C,e[65]=G):G=e[65];let R;e[66]!==f||e[67]!==ye||e[68]!==t.id||e[69]!==t.tags||e[70]!==p||e[71]!==l||e[72]!==le?(R=ye?i.jsx(ze,{value:le,clearAction:()=>{ve(!1),we(Re(t.tags))},placeholder:"#tag1 #tag2",setValue:we,onSubmit:()=>{rt(t.id,Pe(le)).then(()=>{ke(!p)}).catch(c=>{l(c.message,"error")}),ve(!1)}}):i.jsxs(x,{direction:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",rowGap:1,children:[i.jsx(ot,{data:[...t.tags],renderItem:Ht}),f&&i.jsx(g,{label:i.jsx(Fe,{fontSize:"small"}),onClick:()=>{ve(!0)},variant:"outlined"})]}),e[66]=f,e[67]=ye,e[68]=t.id,e[69]=t.tags,e[70]=p,e[71]=l,e[72]=le,e[73]=R):R=e[73];const Le=t.avatarUrl===void 0?0:1;let V;e[74]!==t.type?(V=i.jsx(ct,{type:t.type,height:"70dvh"}),e[74]=t.type,e[75]=V):V=e[75];const Ue=t.avatarUrl;let fe,ue;e[76]===Symbol.for("react.memo_cache_sentinel")?(fe={width:"100%",maxHeight:"70dvh",objectFit:"contain"},ue={height:"70dvh"},e[76]=fe,e[77]=ue):(fe=e[76],ue=e[77]);let H;e[78]!==Ue?(H=i.jsx(jt,{src:Ue,sx:fe,skeletonSx:ue}),e[78]=Ue,e[79]=H):H=e[79];let O;e[80]!==Le||e[81]!==V||e[82]!==H?(O=i.jsxs(At,{index:Le,children:[V,H]}),e[80]=Le,e[81]=V,e[82]=H,e[83]=O):O=e[83];let B;e[84]!==f||e[85]!==t.avatarUrl||e[86]!==t.id||e[87]!==t.type||e[88]!==p?(B=f&&i.jsx(g,{label:i.jsx(Fe,{fontSize:"small"}),onClick:async()=>{(await yt("EditNodeTreeAvatarDialog",{nodeTreeId:t.id,avatarUrl:t.avatarUrl,type:t==null?void 0:t.type})).success&&ke(!p)},variant:"outlined"}),e[84]=f,e[85]=t.avatarUrl,e[86]=t.id,e[87]=t.type,e[88]=p,e[89]=B):B=e[89];let X;e[90]!==O||e[91]!==B?(X=i.jsxs(x,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,children:[O,B]}),e[90]=O,e[91]=B,e[92]=X):X=e[92];let Z;e[93]!==f||e[94]!==ne||e[95]!==Se||e[96]!==t.description||e[97]!==t.id||e[98]!==p||e[99]!==l?(Z=Se?i.jsx(ze,{value:ne,placeholder:"Description about the node tree",setValue:Ie,onSubmit:()=>{dt(t.id,ne).then(()=>{ke(!p)}).catch(c=>{l(c.message,"error")}),Ee(!1)},clearAction:()=>{Ee(!1),Ie(t.description)}}):i.jsxs(x,{direction:"row",alignItems:"center",justifyContent:"start",children:[i.jsx(Je,{enableLinkify:!0,variant:"body1",flexGrow:1,textAlign:"start",children:t.description.length===0?"No Description about this NodeTree":t.description}),f&&i.jsx(g,{label:i.jsx(Fe,{fontSize:"small"}),title:"Edit Description",onClick:()=>{Ee(!0)},variant:"outlined"})]}),e[93]=f,e[94]=ne,e[95]=Se,e[96]=t.description,e[97]=t.id,e[98]=p,e[99]=l,e[100]=Z):Z=e[100];let M;e[101]!==a||e[102]!==u||e[103]!==je||e[104]!==t.id||e[105]!==l?(M=()=>{je||(Ae(!0),a?wt(t.id).then(()=>{d(!1),Ce(u-1)}).catch(c=>{l(c.message,"error")}).finally(()=>{Ae(!1)}):vt(t.id).then(()=>{d(!0),Ce(u+1)}).catch(c=>{l(c.message,"error")}).finally(()=>{Ae(!1)}))},e[101]=a,e[102]=u,e[103]=je,e[104]=t.id,e[105]=l,e[106]=M):M=e[106];const Ne=a?"primary":"default";let pe;e[107]===Symbol.for("react.memo_cache_sentinel")?(pe={borderRadius:0},e[107]=pe):pe=e[107];let W;e[108]!==a?(W=a?i.jsx(St,{}):i.jsx(Et,{}),e[108]=a,e[109]=W):W=e[109];let J;e[110]!==u?(J=ft(u),e[110]=u,e[111]=J):J=e[111];let K;e[112]!==M||e[113]!==Ne||e[114]!==W||e[115]!==J?(K=i.jsx(g,{onClick:M,variant:"filled",color:Ne,sx:pe,icon:W,label:J}),e[112]=M,e[113]=Ne,e[114]=W,e[115]=J,e[116]=K):K=e[116];let Y;e[117]!==b?(Y=b(),e[117]=b,e[118]=Y):Y=e[118];let me;e[119]===Symbol.for("react.memo_cache_sentinel")?(me={flexGrow:1},e[119]=me):me=e[119];let Q;e[120]!==b?(Q=b(),e[120]=b,e[121]=Q):Q=e[121];let P;e[122]!==Q?(P=i.jsx(kt,{text:Q}),e[122]=Q,e[123]=P):P=e[123];let q;e[124]!==Y||e[125]!==P?(q=i.jsx(ze,{value:Y,onSubmit:Ot,setValue:Bt,sx:me,disabled:!0,size:"small",variant:"standard",endAdornment:P}),e[124]=Y,e[125]=P,e[126]=q):q=e[126];let ge,xe;e[127]===Symbol.for("react.memo_cache_sentinel")?(ge=i.jsx(Tt,{}),xe={borderRadius:0},e[127]=ge,e[128]=xe):(ge=e[127],xe=e[128]);let $;e[129]!==r?($=r("How to use"),e[129]=r,e[130]=$):$=e[130];let ee;e[131]!==$?(ee=i.jsx(g,{onClick:Xt,variant:"filled",color:"info",icon:ge,sx:xe,label:$}),e[131]=$,e[132]=ee):ee=e[132];let te;e[133]!==K||e[134]!==q||e[135]!==ee?(te=i.jsxs(x,{direction:"row",alignItems:"center",spacing:1,children:[K,q,ee]}),e[133]=K,e[134]=q,e[135]=ee,e[136]=te):te=e[136];let se;e[137]!==f||e[138]!==t.id?(se=i.jsx(ut,{objectId:t.id,targetType:pt.RESOURCE_TYPE_NODE_TREE,canDelete:f,paddingTop:8}),e[137]=f,e[138]=t.id,e[139]=se):se=e[139];let he;return e[140]!==G||e[141]!==R||e[142]!==X||e[143]!==Z||e[144]!==te||e[145]!==se?(he=i.jsxs(x,{spacing:1,children:[G,R,X,Z,te,se]}),e[140]=G,e[141]=R,e[142]=X,e[143]=Z,e[144]=te,e[145]=se,e[146]=he):he=e[146],he};function zt(e){return"#"+e}function Ft(e){return e?e.map(zt).join(" "):""}function Gt(e){return e.trim().replace("#","")}function Rt(e){return e.length>0}function Vt(e){return e.split(" #").map(Gt).filter(Rt)}function Ht(e,s){return i.jsx(Ge,{to:ie(e,void 0,"",""),children:i.jsx(g,{label:e,sx:{margin:.5},variant:"outlined"})},s+e)}function Ot(){}function Bt(e){}function Xt(){It("NodeTreeHelperDialog")}export{Qt as default};
