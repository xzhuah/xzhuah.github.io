{"version":3,"file":"static/js/551.ce211359.chunk.js","mappings":"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","sources":["component/menu/ContextMenu.tsx","domain/driver/component/FileIcon.tsx","domain/driver/component/FileItemLink.tsx","domain/driver/component/FileItemRow.tsx","domain/driver/component/FileItemBlock.tsx","domain/driver/component/actions/OpenFolderButton.tsx","domain/driver/component/actions/ShareButton.tsx","domain/driver/component/actions/DeleteButton.tsx","domain/driver/component/actions/FileRenameButton.tsx","component/button/MultiStatusButton.tsx","domain/driver/component/actions/LayoutSwitchButton.tsx","component/container/OneOf.tsx","domain/driver/component/actions/SorterButton.tsx","domain/driver/component/actions/CopySiteLinkButton.tsx","domain/driver/DriverWidget.tsx"],"sourcesContent":["import React, {useCallback} from \"react\";\r\nimport {Menu, MenuItem, Stack, StackProps} from \"@mui/material\";\r\nimport ListComponent from \"../container/ListComponent\";\r\nimport {useLongPress} from 'use-long-press';\r\nimport {isMobile} from 'react-device-detect';\r\n\r\ntype ContextMenuProps = {\r\n  menuItems: React.ReactElement[],\r\n  enableLongPress?: boolean,\r\n} & StackProps;\r\nconst ContextMenuWithLongPres = ({\r\n                                   menuItems,\r\n                                   children,\r\n                                   ...rest\r\n                                 }: Omit<ContextMenuProps, \"enableLongPress\">) => {\r\n\r\n  const [contextMenu, setContextMenu] = React.useState<{\r\n    mouseX: number;\r\n    mouseY: number;\r\n  } | null>(null);\r\n\r\n  const handleContextMenu = useCallback((event: any) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setContextMenu(\r\n        contextMenu === null\r\n            ? {\r\n              mouseX: event.clientX + 2,\r\n              mouseY: event.clientY - 6,\r\n            }\r\n            : // repeated contextmenu when it is already open closes it with Chrome 84 on Ubuntu\r\n              // Other native context menus might behave different.\r\n              // With this behavior we prevent contextmenu from the backdrop to re-locale existing context menus.\r\n            null,\r\n    );\r\n  }, []);\r\n\r\n  const handleContextMenuLongPress = useCallback((event: any) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    setContextMenu(\r\n        contextMenu === null\r\n            ? {\r\n              mouseX: event.clientX > window.screen.width / 2 ? event.clientX - 200 : event.clientX + 100,\r\n              mouseY: event.clientY - 6,\r\n            }\r\n            : // repeated contextmenu when it is already open closes it with Chrome 84 on Ubuntu\r\n              // Other native context menus might behave different.\r\n              // With this behavior we prevent contextmenu from the backdrop to re-locale existing context menus.\r\n            null,\r\n    );\r\n  }, []);\r\n\r\n  const longPressEvent = useLongPress(handleContextMenuLongPress, {\r\n    threshold: 500,\r\n  });\r\n\r\n\r\n  const handleClose = () => {\r\n    setContextMenu(null);\r\n  };\r\n  if (menuItems.length === 0) {\r\n    return <Stack {...rest}>\r\n      {children}\r\n    </Stack>;\r\n  }\r\n\r\n\r\n  return <Stack onContextMenu={handleContextMenu}  {...longPressEvent()} {...rest}>\r\n    {children}\r\n    <Menu\r\n        open={contextMenu !== null}\r\n        onClose={handleClose}\r\n        anchorReference=\"anchorPosition\"\r\n        anchorPosition={\r\n          contextMenu !== null\r\n              ? {top: contextMenu.mouseY, left: contextMenu.mouseX}\r\n              : undefined\r\n        }\r\n    >\r\n      <ListComponent data={menuItems} renderItem={(item: React.ReactElement, index?: number) => {\r\n        // special handling for anchor tags\r\n        if (item.type === \"a\") {\r\n          return <a href={item.props.href}\r\n                    style={item.props.style}\r\n                    target={item.props.target}\r\n                    download={item.props.download}\r\n                    rel={item.props.rel}\r\n                    onClick={(e) => {\r\n                      handleClose();\r\n                      e.stopPropagation();\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                      // use browser context menu\r\n                      e.stopPropagation();\r\n                    }}><MenuItem key={index}\r\n          >{item.props.children}</MenuItem></a>;\r\n        }\r\n        return <MenuItem key={index} onClick={(e) => {\r\n          handleClose();\r\n        }}>{item}</MenuItem>;\r\n      }}/>\r\n    </Menu>\r\n  </Stack>;\r\n}\r\n\r\n\r\nconst ContextMenuWithoutLongPress = ({\r\n                                       menuItems,\r\n                                       children,\r\n                                       ...rest\r\n                                     }: Omit<ContextMenuProps, \"enableLongPress\">) => {\r\n\r\n  const [contextMenu, setContextMenu] = React.useState<{\r\n    mouseX: number;\r\n    mouseY: number;\r\n  } | null>(null);\r\n\r\n  const handleContextMenu = useCallback((event: any) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setContextMenu(\r\n        contextMenu === null\r\n            ? {\r\n              mouseX: event.clientX + 2,\r\n              mouseY: event.clientY - 6,\r\n            }\r\n            : // repeated contextmenu when it is already open closes it with Chrome 84 on Ubuntu\r\n              // Other native context menus might behave different.\r\n              // With this behavior we prevent contextmenu from the backdrop to re-locale existing context menus.\r\n            null,\r\n    );\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    setContextMenu(null);\r\n  };\r\n  if (menuItems.length === 0) {\r\n    return <Stack {...rest}>\r\n      {children}\r\n    </Stack>;\r\n  }\r\n  return <Stack onContextMenu={handleContextMenu} {...rest}>\r\n    {children}\r\n    <Menu\r\n        open={contextMenu !== null}\r\n        onClose={handleClose}\r\n        anchorReference=\"anchorPosition\"\r\n        anchorPosition={\r\n          contextMenu !== null\r\n              ? {top: contextMenu.mouseY, left: contextMenu.mouseX}\r\n              : undefined\r\n        }\r\n    >\r\n      <ListComponent data={menuItems} renderItem={(item: React.ReactElement, index?: number) => {\r\n        // special handling for anchor tags\r\n        if (item.type === \"a\") {\r\n          return <a href={item.props.href}\r\n                    style={item.props.style}\r\n                    target={item.props.target}\r\n                    download={item.props.download}\r\n                    rel={item.props.rel}\r\n                    onClick={(e) => {\r\n                      handleClose();\r\n                      e.stopPropagation();\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                      // use browser context menu\r\n                      e.stopPropagation();\r\n                    }}><MenuItem key={index}\r\n          >{item.props.children}</MenuItem></a>;\r\n        }\r\n        return <MenuItem key={index} onClick={(e) => {\r\n          handleClose();\r\n        }}>{item}</MenuItem>;\r\n      }}/>\r\n    </Menu>\r\n  </Stack>;\r\n}\r\n\r\nconst ContextMenu = ({menuItems, enableLongPress = isMobile, children, ...rest}: ContextMenuProps) => {\r\n  if (enableLongPress) {\r\n    return <ContextMenuWithLongPres menuItems={menuItems} children={children} {...rest}/>;\r\n  } else {\r\n    return <ContextMenuWithoutLongPress menuItems={menuItems} children={children} {...rest}/>;\r\n  }\r\n}\r\n\r\nexport default ContextMenu;","import {SvgIconProps} from '@mui/material/SvgIcon';\r\nimport * as React from 'react';\r\nimport FolderIcon from \"@mui/icons-material/Folder\";\r\nimport LanguageIcon from '@mui/icons-material/Language';\r\nimport InsertDriveFileIcon from \"@mui/icons-material/InsertDriveFile\";\r\nimport InsertPhotoIcon from '@mui/icons-material/InsertPhoto';\r\nimport DescriptionIcon from '@mui/icons-material/Description';\r\nimport VideoFileIcon from '@mui/icons-material/VideoFile';\r\nimport AudioFileIcon from '@mui/icons-material/AudioFile';\r\nimport FontDownloadIcon from '@mui/icons-material/FontDownload';\r\nimport CssIcon from '@mui/icons-material/Css';\r\nimport JavascriptIcon from '@mui/icons-material/Javascript';\r\nimport HtmlIcon from '@mui/icons-material/Html';\r\n\r\n\r\ntype FileIconProp = {\r\n  isFolder: boolean;\r\n  contentType?: string;\r\n  isPublic: boolean;\r\n} & SvgIconProps;\r\n\r\nexport const FileIcon = ({\r\n                           contentType = void 0,\r\n                           isFolder = false,\r\n                           isPublic = false,\r\n                           ...rest\r\n                         }: FileIconProp) => {\r\n  if (isFolder) {\r\n    return <FolderIcon {...rest}/>\r\n  }\r\n  if (!contentType) {\r\n    return <LanguageIcon {...rest}/>;\r\n  }\r\n  const type = contentType.includes(\"/\") ? contentType.split(\"/\")[0] : contentType;\r\n  const subType = contentType.includes(\"/\") ? contentType.split(\"/\")[1] : \"\";\r\n  switch (type) {\r\n    case \"image\":\r\n      return <InsertPhotoIcon {...rest}/>\r\n    case \"text\":\r\n      switch (subType) {\r\n        case \"css\":\r\n          return <CssIcon {...rest}/>\r\n        case \"javascript\":\r\n          return <JavascriptIcon {...rest}/>\r\n        case \"html\":\r\n          return <HtmlIcon {...rest}/>\r\n        default:\r\n          return <DescriptionIcon {...rest}/>\r\n      }\r\n    case \"video\":\r\n      return <VideoFileIcon {...rest}/>\r\n    case \"audio\":\r\n      return <AudioFileIcon {...rest}/>\r\n    case \"font\":\r\n      return <FontDownloadIcon {...rest}/>\r\n    default:\r\n      return <InsertDriveFileIcon {...rest}/>\r\n  }\r\n};\r\n","// @flow\r\nimport * as React from 'react';\r\nimport {Link} from \"@mui/material\";\r\nimport {DriverFileProfile} from \"../../../proto/application/driver/DriverMessage\";\r\nimport {isMobile} from \"react-device-detect\";\r\ntype FileItemLinkProps = {\r\n  fileItem: DriverFileProfile;\r\n  openAction?: (fileItem: DriverFileProfile) => void;\r\n};\r\nexport const FileItemLink = ({fileItem, openAction}: FileItemLinkProps) => {\r\n  return <Link\r\n      target={fileItem.isFolder ? void 0 : (isMobile ? \"_self\" : \"_blank\")}\r\n      onContextMenu={(e) => {\r\n        if (!fileItem.isFolder) {\r\n          e.stopPropagation();\r\n        }\r\n      }}\r\n      href={fileItem.url || fileItem.fileMetaData?.url || void 0}\r\n      component={\"a\"}\r\n      onClick={(e) => {\r\n        if (fileItem.isFolder) {\r\n          e.stopPropagation();\r\n          openAction?.(fileItem);\r\n        }\r\n      }}\r\n  >{fileItem.name}</Link>;\r\n};","// @flow\r\nimport * as React from 'react';\r\nimport {DriverFileProfile} from \"../../../proto/application/driver/DriverMessage\";\r\nimport ContextMenu from \"../../../component/menu/ContextMenu\";\r\nimport {Stack, StackProps, Link} from \"@mui/material\";\r\nimport BreakpointContainer from \"../../../component/container/BreakpointContainer\";\r\nimport {FileIcon} from \"./FileIcon\";\r\nimport {Typography} from \"../../../component/wrapper/MuiWrappers\";\r\nimport {getFileType, getReadableFileSize, toDisplayTime, toVisibility} from \"../util/Utils\";\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport MenuButton from \"../../../component/button/MenuButton\";\r\nimport {isMobile} from 'react-device-detect';\r\nimport {FileItemLink} from \"./FileItemLink\";\r\n\r\ntype FileItemRowProps = {\r\n  fileItem: DriverFileProfile;\r\n  selected: boolean;\r\n  menuItems?: React.ReactElement[];\r\n  openAction?: (fileItem: DriverFileProfile) => void;\r\n} & StackProps;\r\nexport const FileItemRow = ({\r\n                              fileItem,\r\n                              selected,\r\n                              menuItems,\r\n                              openAction,\r\n                              ...rest\r\n                            }: FileItemRowProps) => {\r\n  const isFolder = fileItem.isFolder;\r\n  const isPublic = fileItem.isPublic;\r\n  return <ContextMenu direction={\"row\"} spacing={1} alignItems={\"center\"} textAlign={\"start\"}\r\n                      menuItems={menuItems ?? []}\r\n                      enableLongPress={isMobile}\r\n                      sx={{\r\n                        backgroundColor: selected ? \"rgba(194, 231, 255,1)\" : \"transparent\",\r\n                        paddingY: 1.5,\r\n                        paddingX: 2,\r\n                        '&:hover': {\r\n                          backgroundColor: selected ? \"rgba(194, 231, 255,1)\" : \"rgba(0, 0, 0, 0.1)\",\r\n                        }\r\n                      }}\r\n                      {...rest}>\r\n    <BreakpointContainer up={\"md\"}>\r\n      <Stack direction={\"row\"} spacing={1} alignItems={\"center\"} className={\"pointer\"} flexGrow={1}>\r\n        <FileIcon isFolder={isFolder} contentType={fileItem.fileMetaData?.contentType}\r\n                  isPublic={isPublic} color={selected ? \"primary\" : \"inherit\"}/>\r\n        <Typography variant={\"body1\"} enableTranslate={false}\r\n                    flexGrow={1}>\r\n          <FileItemLink fileItem={fileItem} openAction={openAction}/>\r\n        </Typography>\r\n        <Typography variant={\"body1\"} enableTranslate={false}\r\n                    flexBasis={\"100px\"}>{getFileType(fileItem)}</Typography>\r\n        <Typography variant={\"body1\"}\r\n                    enableTranslate={false}\r\n                    flexBasis={\"200px\"}>{toDisplayTime(fileItem.lastModifiedDate)}</Typography>\r\n        <Typography variant={\"body1\"}\r\n                    enableTranslate={false}\r\n                    flexBasis={\"100px\"}>{getReadableFileSize(fileItem.fileMetaData?.sizeInBytes)}</Typography>\r\n        <Typography variant={\"body1\"}\r\n                    enableTranslate={false}\r\n                    flexBasis={\"100px\"}>{toVisibility(fileItem.isPublic)}</Typography>\r\n      </Stack>\r\n    </BreakpointContainer>\r\n    <BreakpointContainer down={\"md\"}>\r\n      <Stack direction={\"row\"} spacing={2} alignItems={\"center\"} className={\"pointer\"} flexGrow={1}>\r\n        <FileIcon isFolder={isFolder} contentType={fileItem.fileMetaData?.contentType}\r\n                  isPublic={isPublic} fontSize={\"large\"} color={selected ? \"primary\" : \"inherit\"}/>\r\n        <Stack direction={\"column\"} spacing={1} flexGrow={1}>\r\n          <Typography variant={\"body1\"} enableTranslate={false}\r\n                      flexGrow={1}> <FileItemLink fileItem={fileItem}\r\n                                                  openAction={openAction}/></Typography>\r\n          <Stack direction={\"row\"} spacing={1} alignItems={\"center\"}>\r\n            <Typography variant={\"caption\"}\r\n                        enableTranslate={false}>{toDisplayTime(fileItem.lastModifiedDate)}</Typography>\r\n            <Typography variant={\"caption\"}\r\n                        enableTranslate={false}>{getReadableFileSize(fileItem.fileMetaData?.sizeInBytes)}</Typography>\r\n            <Typography variant={\"caption\"}\r\n                        enableTranslate={false}>{toVisibility(fileItem.isPublic)}</Typography>\r\n          </Stack>\r\n        </Stack>\r\n      </Stack>\r\n    </BreakpointContainer>\r\n    {(menuItems && menuItems.length > 0 && isMobile) &&\r\n        <MenuButton icon=<MoreVertIcon/> sx={{borderRadius: \"500px\"}} menuAlign={\"right\"}\r\n                    stopPropagation={true}\r\n                    menuItems={menuItems}/>}\r\n\r\n  </ContextMenu>;\r\n}","import * as React from 'react';\r\nimport {DriverFileProfile} from \"../../../proto/application/driver/DriverMessage\";\r\nimport ContextMenu from \"../../../component/menu/ContextMenu\";\r\nimport {Badge, Box, StackProps, Link} from \"@mui/material\";\r\nimport {FileIcon} from \"./FileIcon\";\r\nimport {Typography} from \"../../../component/wrapper/MuiWrappers\";\r\nimport {getReadableFileSize, toDisplayTime, toVisibility} from \"../util/Utils\";\r\nimport LockIcon from '@mui/icons-material/Lock';\r\nimport DoneIcon from '@mui/icons-material/Done';\r\nimport MenuButton from \"../../../component/button/MenuButton\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport {isMobile} from 'react-device-detect';\r\nimport {FileItemLink} from \"./FileItemLink\";\r\n\r\ntype FileItemBlockProps = {\r\n  fileItem: DriverFileProfile;\r\n  selected: boolean;\r\n  menuItems?: React.ReactElement[];\r\n  iconSize?: number;\r\n  openAction?: (fileItem: DriverFileProfile) => void;\r\n} & StackProps;\r\nexport const FileItemBlock = ({\r\n                                fileItem,\r\n                                selected,\r\n                                menuItems,\r\n                                iconSize = 6,\r\n                                openAction,\r\n                                ...rest\r\n                              }: FileItemBlockProps) => {\r\n  const isFolder = fileItem.isFolder;\r\n  const isPublic = fileItem.isPublic;\r\n  return <ContextMenu direction={\"column\"} spacing={1} alignItems={\"center\"} textAlign={\"center\"}\r\n                      flexShrink={1}\r\n                      enableLongPress={isMobile}\r\n                      menuItems={menuItems ?? []}\r\n                      sx={{\r\n                        backgroundColor: selected ? \"rgba(194, 231, 255,1)\" : \"transparent\",\r\n                        paddingY: 1,\r\n                        paddingX: 1.5,\r\n                        borderRadius: 1,\r\n                        '&:hover': {\r\n                          backgroundColor: selected ? \"rgba(194, 231, 255,1)\" : \"rgba(0, 0, 0, 0.1)\",\r\n                        }\r\n                      }}\r\n                      title={`${toDisplayTime(fileItem.lastModifiedDate)}\\n${getReadableFileSize(fileItem.fileMetaData?.sizeInBytes)}\\n${toVisibility(fileItem.isPublic)}`}\r\n                      {...rest}>\r\n    <Box>\r\n      <Badge sx={{\r\n        \"& .MuiBadge-badge\": {height: iconSize * 4, minWidth: iconSize * 3}\r\n      }}\r\n             badgeContent={\r\n               (isMobile && menuItems && menuItems.length > 0) ?\r\n                   <MenuButton icon={<MoreVertIcon color={\"success\"}/>} menuAlign={\"right\"}\r\n                               stopPropagation={true}\r\n                               menuItems={menuItems}/> : void 0\r\n             }\r\n\r\n             overlap=\"circular\"\r\n             anchorOrigin={{\r\n               vertical: 'top',\r\n               horizontal: 'right',\r\n             }}>\r\n        <Badge sx={{\r\n          \"& .MuiBadge-badge\": {height: iconSize * 4, minWidth: iconSize * 3}\r\n        }}\r\n               badgeContent={isPublic ? <DoneIcon sx={{\r\n                 fontSize: `${iconSize / 5}rem`\r\n               }}/> : <LockIcon sx={{\r\n                 fontSize: `${iconSize / 5}rem`\r\n               }}/>}\r\n               color={isPublic ? \"success\" : \"warning\"}\r\n               overlap=\"circular\"\r\n\r\n               anchorOrigin={{\r\n                 vertical: 'bottom',\r\n                 horizontal: 'right',\r\n               }}>\r\n          <FileIcon isFolder={isFolder} contentType={fileItem.fileMetaData?.contentType}\r\n                    isPublic={isPublic} color={selected ? \"primary\" : \"inherit\"} sx={{\r\n            fontSize: `${iconSize}rem`\r\n          }}/>\r\n        </Badge>\r\n      </Badge>\r\n      <Typography variant={\"body1\"} enableTranslate={false} flexGrow={1}>\r\n        <FileItemLink fileItem={fileItem} openAction={openAction}/></Typography>\r\n      <Typography variant={\"caption\"}\r\n                  enableTranslate={false}>{getReadableFileSize(fileItem.fileMetaData?.sizeInBytes)}</Typography>\r\n    </Box>\r\n  </ContextMenu>;\r\n}","import * as React from 'react';\r\nimport ContentButton, {ContentButtonProps} from \"../../../../component/button/ContentButton\";\r\nimport {get_driver_url} from \"../../../../navigation/routerUtil\";\r\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\r\n\r\ntype OpenFolderButtonProps = {\r\n  folderId: string,\r\n  target?: string,\r\n} & ContentButtonProps;\r\nexport const OpenFolderButton = ({\r\n                                   folderId,\r\n                                   title = \"Open\",\r\n                                   target = \"_blank\",\r\n                                   ...rest\r\n                                 }: OpenFolderButtonProps) => {\r\n  return <ContentButton\r\n      icon={<OpenInNewIcon/>}\r\n      onClick={() => {\r\n    window.open(get_driver_url(folderId), target);\r\n  }}\r\n                        title={title} {...rest}\r\n  />;\r\n};","import * as React from 'react';\r\nimport ContentButton, {ContentButtonProps} from \"../../../../component/button/ContentButton\";\r\nimport {setVisibility} from \"../../service/DriverService\";\r\nimport ShareIcon from '@mui/icons-material/Share';\r\nimport LockIcon from '@mui/icons-material/Lock';\r\nimport AlertContext from \"../../../../context/AlertContext\";\r\n\r\ntype ShareButtonProps = {\r\n  fileId: string,\r\n  isPublic: boolean,\r\n  onVisibilityChange: () => void,\r\n} & ContentButtonProps;\r\nexport const ShareButton = ({\r\n                              fileId,\r\n                              isPublic,\r\n                              onVisibilityChange,\r\n                              ...rest\r\n                            }: ShareButtonProps) => {\r\n  const {showAlert} = React.useContext(AlertContext);\r\n  return <ContentButton\r\n      icon={isPublic ? <LockIcon/> : <ShareIcon/>}\r\n      onClick={() => {\r\n        setVisibility(fileId, !isPublic)\r\n        .then(() => {\r\n          onVisibilityChange();\r\n        })\r\n        .catch((e) => {\r\n              showAlert(\"Failed to change: \" + e.message);\r\n            }\r\n        )\r\n      }}\r\n      title={isPublic ? \"UnShare\" : \"Share\"} {...rest}\r\n  />;\r\n};","// @flow\r\nimport * as React from 'react';\r\nimport ContentButton, {ContentButtonProps} from \"../../../../component/button/ContentButton\";\r\nimport AlertContext from \"../../../../context/AlertContext\";\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport {deleteFile} from \"../../service/DriverService\";\r\n\r\ntype DeleteButtonProps = {\r\n  fileId: string;\r\n  onDelete: () => void;\r\n} & ContentButtonProps;\r\nexport const DeleteButton = ({\r\n                               fileId,\r\n                               onDelete,\r\n                               title = \"Delete\",\r\n                               color = \"error\",\r\n                               ...rest\r\n                             }: DeleteButtonProps) => {\r\n  const {showAlert} = React.useContext(AlertContext);\r\n  return <ContentButton\r\n      icon={<DeleteIcon color={color}/>}\r\n      color={color}\r\n      onClick={() => {\r\n        deleteFile(fileId)\r\n        .then(() => {\r\n          onDelete();\r\n        })\r\n        .catch((e) => {\r\n              showAlert(\"Failed to delete: \" + e.message);\r\n            }\r\n        )\r\n      }}\r\n      title={title} {...rest}\r\n  />;\r\n};","import * as React from 'react';\r\nimport ContentButton, {ContentButtonProps} from \"../../../../component/button/ContentButton\";\r\nimport {DialogNames, openDialogWithPromise} from \"../../../../component/dialog/DialogManager\";\r\nimport DriveFileRenameOutlineIcon from '@mui/icons-material/DriveFileRenameOutline';\r\n\r\ntype FileRenameButtonProps = {\r\n  fileId: string,\r\n  existingName: string,\r\n  onRename: () => void,\r\n\r\n} & ContentButtonProps;\r\nexport const FileRenameButton = ({\r\n                                   fileId,\r\n                                   existingName,\r\n                                   onRename,\r\n                                   title = \"Rename\",\r\n                                   ...rest\r\n                                 }: FileRenameButtonProps) => {\r\n  return <ContentButton\r\n      icon={<DriveFileRenameOutlineIcon/>}\r\n      onClick={async () => {\r\n        const result = await openDialogWithPromise(DialogNames.RenameDriverFileDialog, {\r\n          filename: existingName,\r\n          fileId: fileId\r\n        });\r\n        if (result.success) {\r\n          onRename();\r\n        }\r\n      }}\r\n      title={title}\r\n      {...rest}\r\n  ></ContentButton>;\r\n};","import * as React from 'react';\r\nimport ContentButton, {ContentButtonProps} from \"./ContentButton\";\r\nimport MenuButton, {MenuButtonProps} from \"./MenuButton\";\r\n\r\n// 可显示当前状态的菜单按钮，点击后执行按钮的函数并更新状态\r\nexport type MultiStatusButtonProps = {\r\n  currentStatus: string,\r\n  statusToContentButtonProps: {\r\n    [key: string]: ContentButtonProps,\r\n  }\r\n  onStatusChange: (newStatus: string) => void,\r\n} & Omit<MenuButtonProps, \"menuItems\">;\r\nexport const MultiStatusButton = ({\r\n                                    currentStatus,\r\n                                    statusToContentButtonProps,\r\n                                    onStatusChange,\r\n                                    ...rest\r\n                                  }: MultiStatusButtonProps) => {\r\n  return <MenuButton\r\n      title={statusToContentButtonProps[currentStatus].title}\r\n      menuItems={Object.keys(statusToContentButtonProps).map((status) => {\r\n        const {onClick, ...rest2} = statusToContentButtonProps[status];\r\n        return <ContentButton key={status}\r\n                              onClick={(e) => {\r\n                                if (onClick) {\r\n                                  onClick(e);\r\n                                }\r\n                                onStatusChange(status);\r\n                              }}\r\n                              {...rest2}/>;\r\n      })}\r\n      {...rest} />;\r\n};\r\n\r\n","// @flow\r\nimport * as React from 'react';\r\nimport {MultiStatusButton} from \"../../../../component/button/MultiStatusButton\";\r\nimport {MenuButtonProps} from \"../../../../component/button/MenuButton\";\r\nimport GridViewIcon from '@mui/icons-material/GridView';\r\nimport ViewListIcon from '@mui/icons-material/ViewList';\r\n\r\nexport type LayoutStatus = \"stack\" | \"grid\";\r\n\r\nconst statusToContentButtonProps = {\r\n  stack: {\r\n    title: \"List\",\r\n    icon: <ViewListIcon/>\r\n  },\r\n  grid: {\r\n    title: \"Grid\",\r\n    icon: <GridViewIcon/>\r\n  },\r\n}\r\n\r\nexport type LayoutSwitchButtonProps = {\r\n  currentLayout: LayoutStatus;\r\n  onLayoutChange: (layout: LayoutStatus) => void;\r\n} & Omit<MenuButtonProps, \"menuItems\">;\r\n\r\nexport const LayoutSwitchButton = ({\r\n                                     currentLayout,\r\n                                     onLayoutChange,\r\n                                     ...rest\r\n                                   }: LayoutSwitchButtonProps) => {\r\n  return <MultiStatusButton\r\n      currentStatus={currentLayout}\r\n      statusToContentButtonProps={statusToContentButtonProps}\r\n      onStatusChange={(status) => {\r\n        onLayoutChange(status as LayoutStatus);\r\n      }}\r\n      icon={statusToContentButtonProps[currentLayout].icon}\r\n      {...rest}\r\n  ></MultiStatusButton>\r\n};","import React, {ReactNode} from 'react';\r\n\r\ninterface OneOfProps {\r\n  index: number;\r\n  children: ReactNode[];\r\n}\r\n\r\nconst OneOf: React.FC<OneOfProps> = ({ index, children }) => {\r\n  // Ensure that the index is valid and children is not empty\r\n  if (index < 0 || index >= children.length) {\r\n    throw new Error('Invalid OneOf Index' + index + \" > \" + children.length);\r\n  }\r\n  if (!children || children.length === 0 ) {\r\n    return <></>;\r\n  }\r\n\r\n  // Render the child at the specified index\r\n  return <>{children[index]}</>;\r\n};\r\n\r\nexport default OneOf;","// @flow\r\nimport * as React from 'react';\r\nimport {MenuButtonProps} from \"../../../../component/button/MenuButton\";\r\nimport {MultiStatusButton} from \"../../../../component/button/MultiStatusButton\";\r\nimport FormatColorTextIcon from '@mui/icons-material/FormatColorText';\r\nimport CategoryIcon from '@mui/icons-material/Category';\r\nimport ViewInArIcon from '@mui/icons-material/ViewInAr';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\r\nimport {DriverFileProfile} from \"../../../../proto/application/driver/DriverMessage\";\r\n\r\nexport type SorterStatus = \"name\" | \"size\" | \"time\" | \"type\" | \"visibility\";\r\n\r\nconst statusToSorterButtonProps = {\r\n  name: {\r\n    title: \"Name\",\r\n    icon: <FormatColorTextIcon/>\r\n  },\r\n  type: {\r\n    title: \"Type\",\r\n    icon: <CategoryIcon/>\r\n  },\r\n  time: {\r\n    title: \"Last Modified\",\r\n    icon: <AccessTimeIcon/>\r\n  },\r\n  size: {\r\n    title: \"Size\",\r\n    icon: <ViewInArIcon/>\r\n  },\r\n  visibility: {\r\n    title: \"Visibility\",\r\n    icon: <VisibilityIcon/>\r\n  }\r\n}\r\n\r\ntype SorterButtonProps = {\r\n  currentSorter: SorterStatus,\r\n  onSorterChange: (newSorter: SorterStatus) => void,\r\n} & Omit<MenuButtonProps, \"menuItems\">;\r\n\r\nexport const SorterButton = ({\r\n                               currentSorter,\r\n                               onSorterChange,\r\n                               ...rest\r\n                             }: SorterButtonProps) => {\r\n  return <MultiStatusButton\r\n      currentStatus={currentSorter}\r\n      statusToContentButtonProps={statusToSorterButtonProps}\r\n      onStatusChange={(status) => {\r\n        onSorterChange(status as SorterStatus);\r\n      }}\r\n      icon={statusToSorterButtonProps[currentSorter].icon}\r\n      {...rest}\r\n  ></MultiStatusButton>\r\n};\r\n\r\nexport const fileComparator = (a: DriverFileProfile, b: DriverFileProfile, sorter: SorterStatus, reverse: boolean) => {\r\n  let result = 0;\r\n\r\n  // 文件夹排在前面\r\n  if (a.isFolder && !b.isFolder) {\r\n    result = 1;\r\n    return reverse ? -result : result;\r\n  } else if (!a.isFolder && b.isFolder) {\r\n    result = -1;\r\n    return reverse ? -result : result\r\n  }\r\n\r\n  switch (sorter) {\r\n    case \"size\":\r\n      result = (a.fileMetaData?.sizeInBytes || 0) - (b.fileMetaData?.sizeInBytes || 0);\r\n      break;\r\n    case \"time\":\r\n      result = a.lastModifiedDate - b.lastModifiedDate;\r\n      break;\r\n    case \"type\":\r\n      result = (a.fileMetaData?.contentType || \"\").localeCompare(b.fileMetaData?.contentType || \"\");\r\n      break;\r\n    case \"visibility\":\r\n      result = a.isPublic ? 1 : -1 - (b.isPublic ? 1 : -1);\r\n      break;\r\n    case \"name\":\r\n    default:\r\n      result = a.name.localeCompare(b.name);\r\n      break;\r\n  }\r\n\r\n  if (result === 0) {\r\n    // id must be unique\r\n    result = a.id.localeCompare(b.id);\r\n  }\r\n\r\n  return reverse ? -result : result;\r\n\r\n}","import * as React from 'react';\r\nimport ContentButton, {ContentButtonProps} from \"../../../../component/button/ContentButton\";\r\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\r\nimport copy from 'copy-to-clipboard';\r\nimport {get_driver_url} from \"../../../../navigation/routerUtil\";\r\ntype CopySiteLinkButtonProps = {\r\n  itemId: string,\r\n} & ContentButtonProps;\r\nconst CopySiteLinkButton = ({\r\n                                     itemId,\r\n                                     title = \"Copy Link\",\r\n                                     ...rest\r\n                                   }: CopySiteLinkButtonProps) => {\r\n  return <ContentButton\r\n      icon={<ContentCopyIcon/>}\r\n      onClick={() => {\r\n        copy(window.location.host + get_driver_url(itemId));\r\n      }}\r\n      title={title}\r\n      {...rest}\r\n  ></ContentButton>;\r\n};\r\n\r\nexport default CopySiteLinkButton;","import * as React from 'react';\r\nimport {useEffect, useRef, useState} from 'react';\r\nimport ListComponent from \"../../component/container/ListComponent\";\r\nimport {DriverFileProfile} from \"../../proto/application/driver/DriverMessage\";\r\nimport {FileItemRow} from \"./component/FileItemRow\";\r\nimport {FileItemBlock} from \"./component/FileItemBlock\";\r\nimport DriveFileMoveIcon from '@mui/icons-material/DriveFileMove';\r\nimport {\r\n  Breadcrumbs,\r\n  Checkbox,\r\n  Divider,\r\n  IconButton,\r\n  Link,\r\n  Stack,\r\n  StackProps,\r\n  Switch\r\n} from \"@mui/material\";\r\nimport HelpIcon from '@mui/icons-material/Help';\r\nimport {Grid} from \"@mui/system\";\r\nimport {useSearchParams} from \"react-router-dom\";\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport AlertContext from \"../../context/AlertContext\";\r\nimport {getLink, getReadableFileSize, getTotalSize} from \"./util/Utils\";\r\nimport {OpenFolderButton} from \"./component/actions/OpenFolderButton\";\r\nimport {FileSourceButton} from \"./component/actions/FileSourceButton\";\r\nimport {ShareButton} from \"./component/actions/ShareButton\";\r\nimport {DeleteButton} from \"./component/actions/DeleteButton\";\r\nimport {FileRenameButton} from \"./component/actions/FileRenameButton\";\r\nimport SortIcon from '@mui/icons-material/Sort';\r\nimport {LayoutStatus, LayoutSwitchButton} from \"./component/actions/LayoutSwitchButton\";\r\nimport OneOf from \"../../component/container/OneOf\";\r\nimport {CustomerProfile} from \"../../proto/framework/customer/CustomerInfo\";\r\nimport {deleteFile, getFile, getFileId, moveFile} from \"./service/DriverService\";\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport CreateNewFolderIcon from '@mui/icons-material/CreateNewFolder';\r\nimport {fileComparator, SorterButton, SorterStatus} from \"./component/actions/SorterButton\";\r\nimport ContentButton from \"../../component/button/ContentButton\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport BreakpointContainer from \"../../component/container/BreakpointContainer\";\r\nimport MenuButton from \"../../component/button/MenuButton\";\r\nimport {DialogNames, openDialog, openDialogWithPromise} from \"../../component/dialog/DialogManager\";\r\nimport {NewFolderDialogIType} from \"./component/dialogs/NewFolderDialog\";\r\nimport AddLinkIcon from '@mui/icons-material/AddLink';\r\nimport {NewLinkFileDialogIType} from \"./component/dialogs/NewLinkFileDialog\";\r\nimport Selecto from \"react-selecto\";\r\nimport {print} from \"../../api/util/Logging\";\r\nimport {FormControlLabel, Tooltip, Typography} from \"../../component/wrapper/MuiWrappers\";\r\nimport {isMobile} from \"react-device-detect\";\r\nimport FileUploadDialog from \"../../component/dialog/FileUploadDialog\";\r\nimport FileUploadIcon from \"@mui/icons-material/FileUpload\";\r\nimport {DriverUploadDialogIType} from \"./component/dialogs/DriverUploadDialog\";\r\nimport {Condition} from \"../../component/container/Condition\";\r\nimport {useIsUserOrAdmin} from \"../../hook/CommonUiHook\";\r\nimport CopyButton from \"../../component/button/CopyButton\";\r\nimport CopySiteLinkButton from \"./component/actions/CopySiteLinkButton\";\r\nimport ShareIcon from \"@mui/icons-material/Share\";\r\nimport {MoveDriverFileDialogIType} from \"./component/dialogs/MoveDriverFileDialog\";\r\n\r\ntype DriverWidgetProps = {} & StackProps;\r\n\r\nconst DriverWidget = ({\r\n                        ...rest\r\n                      }: DriverWidgetProps) => {\r\n\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [update, setUpdate] = React.useState(false);\r\n  const currentFileId = searchParams.get(\"id\");\r\n  const [currentRoot, setCurrentRoot] = React.useState<DriverFileProfile>(DriverFileProfile.create());\r\n  const [isFolder, setIsFolder] = React.useState(true);\r\n  const [currentFile, setCurrentFile] = React.useState<DriverFileProfile[]>([]);\r\n  const [selectedFile, setSelectedFile] = React.useState<DriverFileProfile[]>([]);\r\n  const [sortDirection, setSortDirection] = React.useState<boolean>(false);\r\n  const [currentSorter, setCurrentSorter] = React.useState<SorterStatus>(\"name\");\r\n\r\n  // raw path is the current path to the current folder, ends with \"/\"\r\n  // or the path to the current file, ends with the file name\r\n  const [rawPath, setRawPath] = React.useState<string>(\"/\");\r\n  // path is the array of path to the current folder / file. It does not include the root and the current folder\r\n  // it is calculated from rawPath\r\n  const [path, setPath] = React.useState<string[]>([]);\r\n  const [owner, setOwner] = React.useState<CustomerProfile | undefined>(void 0);\r\n  const canEdit = useIsUserOrAdmin(owner?.id);\r\n\r\n  const {showAlert} = React.useContext(AlertContext);\r\n  const {t} = useTranslation();\r\n  const [currentLayout, setCurrentLayout] = React.useState<LayoutStatus>(\"stack\");\r\n  const [continueSelect, setContinueSelect] = React.useState(false);\r\n  const [selectingMode, setSelectingMode] = React.useState(false);\r\n  const selectoRef = useRef<Selecto>(null);\r\n  const hasSelected = selectedFile.length > 0;\r\n\r\n  useEffect(() => {\r\n    // load data\r\n    getFile(currentFileId).then((response) => {\r\n      setCurrentRoot(response);\r\n      setSelectedFile([]);\r\n      selectoRef.current?.setSelectedTargets([]);\r\n      if (response.isFolder) {\r\n        if (response.name !== \"\") {\r\n          setRawPath(response.path + response.name + \"/\");\r\n        } else {\r\n          setRawPath(\"/\");\r\n        }\r\n      } else {\r\n        setRawPath(response.path + response.name);\r\n      }\r\n      setOwner(response.owner);\r\n      setIsFolder(response.isFolder);\r\n      if (response.isFolder) {\r\n        setCurrentFile(response.children.sort((a, b) => {\r\n          return fileComparator(a, b, currentSorter, sortDirection);\r\n        }));\r\n      } else {\r\n        setCurrentFile([response]);\r\n      }\r\n    }).catch((error) => {\r\n      showAlert(error.message, \"error\");\r\n    });\r\n  }, [currentFileId, update]);\r\n\r\n  useEffect(() => {\r\n    if (rawPath === \"/\") {\r\n      setPath([]);\r\n    } else {\r\n      const absPath = rawPath.endsWith(\"/\") ? rawPath.slice(0, rawPath.length - 1) : rawPath;\r\n      if (absPath === \"/\") {\r\n        setPath([]);\r\n        return\r\n      }\r\n      const finalPath = absPath.slice(1, absPath.lastIndexOf(\"/\"));\r\n      if (finalPath === \"\") {\r\n        setPath([]);\r\n        return;\r\n      } else {\r\n        setPath(finalPath.split(\"/\"));\r\n      }\r\n    }\r\n  }, [rawPath]);\r\n\r\n  useEffect(() => {\r\n    setCurrentFile((existing) => {\r\n      return [...existing].sort((a, b) => {\r\n        return fileComparator(a, b, currentSorter, sortDirection);\r\n      });\r\n    });\r\n  }, [currentSorter, sortDirection]);\r\n\r\n  const fileActions: React.ReactElement[] = [];\r\n  if (currentRoot.isFolder && canEdit) {\r\n    fileActions.push(\r\n        <ContentButton\r\n            disabled={!isFolder}\r\n            // a trick to avoid unselecting the selected file\r\n            onMouseEnter={() => {\r\n              setContinueSelect(true);\r\n            }}\r\n            onMouseLeave={() => {\r\n              setContinueSelect(false);\r\n            }\r\n            }\r\n            icon={<CreateNewFolderIcon/>} title={\"New Folder\"} onClick={(e) => {\r\n          e.stopPropagation();\r\n          print(selectedFile);\r\n          openDialogWithPromise<NewFolderDialogIType, DriverFileProfile>(DialogNames.NewFolderDialog, {\r\n            filePath: rawPath,\r\n            public: currentRoot.isPublic\r\n          })\r\n          .then((newFolderFile) => {\r\n            if (newFolderFile.data) {\r\n              print(newFolderFile.data);\r\n              setCurrentFile(existing => [...existing, newFolderFile.data as DriverFileProfile]);\r\n            }\r\n          }).catch((error) => {\r\n            showAlert(error.message, \"error\");\r\n          });\r\n        }}/>,\r\n        <ContentButton\r\n            disabled={!isFolder}\r\n            icon={<AddLinkIcon/>} title={\"New Link File\"} onClick={() => {\r\n          openDialogWithPromise<NewLinkFileDialogIType, DriverFileProfile>(DialogNames.NewLinkFileDialog, {\r\n            filePath: rawPath,\r\n            public: currentRoot.isPublic\r\n          })\r\n          .then((newLinkFile) => {\r\n            if (newLinkFile.data) {\r\n              setCurrentFile(existing => [...existing, (newLinkFile.data as DriverFileProfile)]);\r\n            }\r\n          }).catch((error) => {\r\n            showAlert(error.message, \"error\");\r\n          });\r\n        }}/>,\r\n        <ContentButton\r\n            disabled={!isFolder}\r\n            icon={<FileUploadIcon/>} title={\"Upload\"} onClick={() => {\r\n          openDialogWithPromise<DriverUploadDialogIType, void>(DialogNames.DriverUploadDialog, {\r\n            path: rawPath,\r\n            public: currentRoot.isPublic\r\n          })\r\n          .then(() => {\r\n            setUpdate(!update);\r\n          }).catch((error) => {\r\n            showAlert(error.message, \"error\");\r\n          });\r\n        }}/>\r\n    )\r\n    if (selectedFile.length >= 1) {\r\n      fileActions.push(<ContentButton\r\n          icon={<DriveFileMoveIcon/>} title={\"Move\"}\r\n          onMouseEnter={() => {\r\n            setContinueSelect(true);\r\n          }}\r\n          onMouseLeave={() => {\r\n            setContinueSelect(false);\r\n          }}\r\n          onClick={() => {\r\n            openDialogWithPromise<MoveDriverFileDialogIType, void>(DialogNames.MoveDriverFileDialog, {\r\n              fileId: selectedFile.map((value) => value.id),\r\n              currentPath: rawPath\r\n            }).then((result) => {\r\n              if (result) {\r\n                setUpdate(!update);\r\n              }\r\n            })\r\n          }}/>);\r\n\r\n      fileActions.push(<ContentButton\r\n          color={\"error\"}\r\n          icon={<DeleteIcon/>} title={\"Delete\"}\r\n          onMouseEnter={() => {\r\n            setContinueSelect(true);\r\n          }}\r\n          onMouseLeave={() => {\r\n            setContinueSelect(false);\r\n          }}\r\n          onClick={() => {\r\n            deleteFile(selectedFile.map((value) => value.id)).then\r\n            (() => {\r\n              setUpdate(!update);\r\n            }).catch((error) => {\r\n              showAlert(error.message, \"error\");\r\n            });\r\n          }}/>);\r\n\r\n\r\n    }\r\n  }\r\n\r\n  const openAction = (item: DriverFileProfile) => {\r\n    if (item.isFolder) {\r\n      setSearchParams({id: item.id});\r\n    } else {\r\n      window.open(getLink(item), isMobile ? \"_self\" : \"_blank\");\r\n    }\r\n  }\r\n\r\n  const selectAction = (e: React.MouseEvent<HTMLDivElement, MouseEvent>, fileItem: DriverFileProfile) => {\r\n    e.stopPropagation();\r\n    let newSelectedFileItems: DriverFileProfile[];\r\n    if (!selectingMode) {\r\n\r\n      if (e.ctrlKey) {\r\n        if (selectedFile.includes(fileItem)) {\r\n          newSelectedFileItems = selectedFile.filter((value) => value !== fileItem);\r\n        } else {\r\n          newSelectedFileItems = [...selectedFile, fileItem];\r\n        }\r\n      } else if (e.shiftKey) {\r\n        if (selectedFile.length === 0) {\r\n          newSelectedFileItems = [fileItem];\r\n        } else {\r\n          const newFileToSelect = [];\r\n          let founded = false;\r\n          for (let i = 0; i < currentFile.length; i++) {\r\n            const fileKey = currentFile[i];\r\n            if (fileKey === selectedFile[selectedFile.length - 1] || fileKey === fileItem) {\r\n              founded = !founded;\r\n              if (!founded) {\r\n                if (!selectedFile.includes(fileKey)) {\r\n                  newFileToSelect.push(fileKey);\r\n                }\r\n                break;\r\n              }\r\n            }\r\n            if (founded) {\r\n              if (!selectedFile.includes(fileKey)) {\r\n                newFileToSelect.push(fileKey);\r\n              }\r\n            }\r\n          }\r\n          newSelectedFileItems = [...selectedFile, ...newFileToSelect];\r\n        }\r\n      } else {\r\n        if (selectedFile.includes(fileItem)) {\r\n          const selected = selectedFile.filter((value) => value !== fileItem);\r\n          newSelectedFileItems = selected;\r\n        } else {\r\n          newSelectedFileItems = [fileItem];\r\n        }\r\n      }\r\n\r\n\r\n    } else {\r\n      // 加选\r\n      if (e.shiftKey) {\r\n        if (selectedFile.length === 0) {\r\n          newSelectedFileItems = [fileItem];\r\n        } else {\r\n          const newFileToSelect = [];\r\n          let founded = false;\r\n          for (let i = 0; i < currentFile.length; i++) {\r\n            const fileKey = currentFile[i];\r\n            if (fileKey === selectedFile[selectedFile.length - 1] || fileKey === fileItem) {\r\n              founded = !founded;\r\n              if (!founded) {\r\n                if (!selectedFile.includes(fileKey)) {\r\n                  newFileToSelect.push(fileKey);\r\n                }\r\n                break;\r\n              }\r\n            }\r\n            if (founded) {\r\n              if (!selectedFile.includes(fileKey)) {\r\n                newFileToSelect.push(fileKey);\r\n              }\r\n            }\r\n          }\r\n          newSelectedFileItems = [...selectedFile, ...newFileToSelect];\r\n        }\r\n      } else {\r\n        if (selectedFile.includes(fileItem)) {\r\n          newSelectedFileItems = selectedFile.filter((value) => value !== fileItem);\r\n        } else {\r\n          newSelectedFileItems = [...selectedFile, fileItem];\r\n        }\r\n      }\r\n    }\r\n    selectoRef.current?.setSelectedTargets(newSelectedFileItems.map((value) => document.getElementById(value.id) as HTMLElement));\r\n    setSelectedFile(newSelectedFileItems);\r\n  }\r\n\r\n  const menuItems = (item: DriverFileProfile) => {\r\n    const allItems: React.ReactElement[] = [];\r\n    if (item.isFolder) {\r\n      allItems.push(<OpenFolderButton folderId={item.id} target={isMobile ? \"_self\" : \"_blank\"}/>);\r\n    }\r\n    // else {\r\n    //   // copy link\r\n    //   allItems.push(<CopySiteLinkButton itemId={item.id} />);\r\n    //\r\n    //\r\n    //   // allItems.push(<a href={getLink(item)}\r\n    //   //                  target={isMobile ? \"_self\" : \"_blank\"}\r\n    //   //                  rel={\"noreferrer\"}\r\n    //   //                  style={{textDecoration: \"none\", color: \"inherit\"}}>\r\n    //   //   <FileSourceButton url={getLink(item)}  target={isMobile ? \"_self\" : \"_blank\"}/>\r\n    //   // </a>);\r\n    // }\r\n    allItems.push(<CopySiteLinkButton itemId={item.id}/>);\r\n    if (canEdit) {\r\n      allItems.push(<ShareButton fileId={item.id} isPublic={item.isPublic}\r\n\r\n                                 onVisibilityChange={() => {\r\n                                   showAlert(\"Success\", \"success\");\r\n                                   setUpdate(!update)\r\n                                 }}/>);\r\n      allItems.push(<FileRenameButton fileId={item.id} existingName={item.name}\r\n                                      onRename={() => {\r\n                                        showAlert(\"Success\", \"success\");\r\n                                        setUpdate(!update)\r\n                                      }}/>);\r\n\r\n      allItems.push(<ContentButton\r\n          icon={<DriveFileMoveIcon/>} title={\"Move\"}\r\n          onClick={() => {\r\n            openDialogWithPromise<MoveDriverFileDialogIType, void>(DialogNames.MoveDriverFileDialog, {\r\n              fileId: [item.id],\r\n              currentPath: item.path\r\n            }).then((result) => {\r\n              if (result) {\r\n                setUpdate(!update);\r\n              }\r\n            })\r\n          }}/>);\r\n\r\n      allItems.push(<DeleteButton fileId={item.id}\r\n                                  onDelete={() => {\r\n                                    showAlert(\"Success\", \"success\");\r\n                                    setUpdate(!update)\r\n                                  }}/>);\r\n\r\n    }\r\n    return allItems;\r\n  }\r\n\r\n  const moveFileToFolder = (item: DriverFileProfile) => {\r\n    if (item.isFolder) {\r\n      const fileIdToMove = selectedFile.filter((value) => {\r\n        return value !== item;\r\n      }).map((value) => value.id);\r\n      moveFile(fileIdToMove, item.path + item.name + \"/\", item.isPublic).then(() => {\r\n        if (item.isPublic) {\r\n          showAlert(\"Items are moved to a public folder\", \"success\");\r\n        } else {\r\n          showAlert(\"Items are moved to a private folder\", \"success\");\r\n        }\r\n        setUpdate(!update);\r\n      }).catch((error) => {\r\n        showAlert(error.message, \"error\");\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  return <Stack direction={\"column\"} minHeight={\"78dvh\"}\r\n                onClick={() => {\r\n                  if (selectingMode || hasSelected) {\r\n                    setSelectedFile([]);\r\n                    selectoRef.current?.setSelectedTargets([]);\r\n                  }\r\n                }}\r\n                {...rest}>\r\n    <Breadcrumbs sx={{paddingX: 1}}>\r\n      <Link onClick={\r\n        () => {\r\n          setSearchParams({});\r\n        }\r\n      }\r\n            onDragOver={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n            onDrop={(e) => {\r\n              const fileIdToMove = selectedFile.map((value) => value.id);\r\n              moveFile(fileIdToMove, \"/\").then(() => {\r\n                showAlert(\"Items are moved to the root folder\", \"success\");\r\n                setUpdate(!update);\r\n              }).catch((error) => {\r\n                showAlert(error.message, \"error\");\r\n              });\r\n            }}\r\n\r\n      >Home:</Link>\r\n      {\r\n          path.length > 0 && path.map((item, index) => {\r\n            return <Link\r\n                key={index}\r\n                onClick={\r\n                  () => {\r\n                    const newPath = \"/\" + path.slice(0, index).join(\"/\") + item;\r\n                    getFileId(newPath, owner?.id || \"\").then((response) => {\r\n                      setSearchParams({id: response});\r\n                    }).catch((error) => {\r\n                      showAlert(error.message, \"error\");\r\n                    });\r\n                  }\r\n                }\r\n                onDragOver={(e) => {\r\n                  e.preventDefault();\r\n                }}\r\n                onDrop={(e) => {\r\n                  const fileIdToMove = selectedFile.map((value) => value.id);\r\n                  const newPath = \"/\" + path.slice(0, index).join(\"/\") + item + \"/\";\r\n                  moveFile(fileIdToMove, newPath).then(() => {\r\n                    showAlert(\"Items are moved to \" + newPath, \"success\");\r\n                    setUpdate(!update);\r\n                  }).catch((error) => {\r\n                    showAlert(error.message, \"error\");\r\n                  });\r\n                }}\r\n            >{item}</Link>\r\n          })\r\n      }\r\n      {currentRoot.name && currentRoot.name !== \"\" && <Link>{currentRoot.name}</Link>}\r\n    </Breadcrumbs>\r\n    <Stack direction={\"row\"} justifyContent={\"start\"} marginY={2} spacing={1} alignItems={\"center\"}>\r\n      <BreakpointContainer up={\"md\"}>\r\n        <ListComponent data={fileActions} renderItem={(item, index) => {\r\n          return <ContentButton key={index}\r\n                                variant={\"outlined\"}\r\n                                color={\"primary\"}\r\n                                disableElevation={true}  {...item.props} />\r\n        }}/>\r\n      </BreakpointContainer>\r\n      <BreakpointContainer down={\"md\"}>\r\n        <Condition show={fileActions.length > 0}>\r\n          <MenuButton icon=<MenuIcon/> menuAlign={\"left\"} menuItems={fileActions}\r\n                      stopPropagation={true}/>\r\n        </Condition>\r\n      </BreakpointContainer>\r\n      <LayoutSwitchButton currentLayout={currentLayout}\r\n                          size={isMobile ? \"small\" : \"large\"}\r\n                          variant={\"outlined\"} color={\"primary\"}\r\n                          onLayoutChange={setCurrentLayout}\r\n                          stopPropagation={true}\r\n      />\r\n      <SorterButton currentSorter={currentSorter}\r\n                    stopPropagation={true}\r\n                    size={isMobile ? \"small\" : \"large\"}\r\n                    variant={\"outlined\"} color={\"primary\"}\r\n                    icon={<SortIcon/>}\r\n                    onSorterChange={(newSorter) => {\r\n                      setCurrentSorter(newSorter);\r\n                      setSortDirection(!sortDirection);\r\n                    }}/>\r\n      {isMobile && <FormControlLabel\r\n          value=\"selecting\"\r\n          sx={{\r\n            paddingX: -3,\r\n            marginX: -3\r\n          }}\r\n          control={<Switch color=\"primary\" checked={selectingMode}\r\n                           onClick={(e) => {\r\n                             e.stopPropagation();\r\n                           }}\r\n                           sx={{\r\n                             marginX: \"-10px\"\r\n                           }}\r\n                           onChange={(e) => {\r\n                             setSelectingMode(!selectingMode)\r\n                           }}/>}\r\n          label={<Typography\r\n              style={{marginBottom: \"-10px\", fontSize: \"small\"}}>{\"Select\"}</Typography>}\r\n          labelPlacement=\"top\"\r\n      />}\r\n\r\n\r\n      {isMobile && selectingMode && <FormControlLabel\r\n          sx={{\r\n            paddingX: -3,\r\n            marginX: -3\r\n          }}\r\n          value=\"selectAll\"\r\n          control={<Checkbox color=\"primary\" checked={selectedFile.length === currentFile.length}\r\n                             onClick={(e) => {\r\n                               e.stopPropagation();\r\n                             }}\r\n                             sx={{\r\n                               marginX: \"-10px\"\r\n                             }}\r\n                             onChange={(e) => {\r\n                               if (selectedFile.length === currentFile.length) {\r\n                                 setSelectedFile([]);\r\n                                 selectoRef.current?.setSelectedTargets([]);\r\n                                 return;\r\n                               } else {\r\n                                 setSelectedFile([...currentFile]);\r\n                                 selectoRef.current?.setSelectedTargets(currentFile.map((value) => document.getElementById(value.id) as HTMLElement));\r\n                               }\r\n                             }}/>}\r\n          label={<Typography\r\n              style={{marginBottom: \"-10px\", fontSize: \"small\"}}>{\"All\"}</Typography>}\r\n          labelPlacement=\"top\"\r\n      />}\r\n\r\n    </Stack>\r\n\r\n    <Selecto\r\n        ref={selectoRef}\r\n\r\n        // The container to add a selection element\r\n        container={document.body}\r\n        // The area to drag selection element (default: container)\r\n        dragContainer={window}\r\n        // Targets to select. You can register a queryselector or an Element.\r\n        selectableTargets={[\".target\"]}\r\n        // Whether to select by click (default: true)\r\n        selectByClick={false}\r\n        // Whether to select from the target inside (default: true)\r\n        selectFromInside={true}\r\n        preventClickEventOnDrag={true}\r\n        // After the select, whether to select the next target with the selected target (deselected if the target is selected again).\r\n        continueSelect={continueSelect}\r\n        // Determines which key to continue selecting the next target via keydown and keyup.\r\n        toggleContinueSelect={[[\"shift\"], [\"ctrl\"]]}\r\n        // The container for keydown and keyup events\r\n        keyContainer={window.document.querySelector(\".select-zone\") as HTMLElement}\r\n\r\n        dragCondition={e => {\r\n          return !hasSelected;\r\n        }}\r\n\r\n        // The rate at which the target overlaps the drag area to be selected. (default: 100)\r\n        hitRate={1}\r\n\r\n        onSelect={e => {\r\n          if (selectingMode) {\r\n            return;\r\n          }\r\n\r\n          const newSelectedFileItems: DriverFileProfile[] = [];\r\n          for (const target of e.selected) {\r\n            const id = target.id;\r\n            const fileItem = currentFile.find((value) => value.id === id);\r\n            if (fileItem) {\r\n              newSelectedFileItems.push(fileItem);\r\n            }\r\n          }\r\n          setSelectedFile(newSelectedFileItems);\r\n        }}\r\n    />\r\n    <OneOf index={currentLayout === \"stack\" ? 0 : 1}>\r\n      <Stack direction={\"column\"}>\r\n        <ListComponent data={currentFile} renderItem={(item, index) => {\r\n          return <Stack direction={\"column\"} key={item.id}>\r\n            <FileItemRow fileItem={item}\r\n                         id={item.id}\r\n                         selected={selectedFile.includes(item)}\r\n                         className={\"target\"}\r\n                         openAction={openAction}\r\n                         onClick={(e) => {\r\n                           selectAction(e, item);\r\n                         }}\r\n                         onDoubleClick={() => {\r\n                           openAction(item);\r\n                         }\r\n                         }\r\n                         menuItems={menuItems(item)}\r\n                         draggable={hasSelected}\r\n                         onDragStart={(e: React.DragEvent) => {\r\n                         }}\r\n                         onDragOver={item.isFolder ? (e: React.DragEvent) => {\r\n                           e.preventDefault();\r\n                         } : void 0}\r\n                         onDrop={(e: React.DragEvent) => {\r\n                           e.stopPropagation()\r\n                           moveFileToFolder(item);\r\n                         }}\r\n            />\r\n            <Divider/></Stack>\r\n        }}/>\r\n      </Stack>\r\n      <Grid container alignItems={\"center\"}\r\n            width={\"fit-content\"}\r\n            justifyContent={\"start\"}>\r\n        <ListComponent data={currentFile} renderItem={(item, index) => {\r\n          return <FileItemBlock key={item.id} fileItem={item}\r\n                                id={item.id}\r\n                                className={\"target\"}\r\n                                selected={selectedFile.includes(item)}\r\n                                onClick={(e) => {\r\n                                  e.stopPropagation();\r\n                                  selectAction(e, item);\r\n                                }}\r\n                                onDoubleClick={() => {\r\n                                  openAction(item);\r\n                                }}\r\n                                openAction={openAction}\r\n                                menuItems={menuItems(item)}\r\n                                draggable={hasSelected}\r\n                                onDragStart={(e: React.DragEvent) => {\r\n                                }}\r\n                                onDragOver={item.isFolder ? (e: React.DragEvent) => {\r\n                                  e.preventDefault();\r\n                                } : void 0}\r\n                                onDrop={(e: React.DragEvent) => {\r\n                                  print(\"onDrop\", e);\r\n                                  e.stopPropagation()\r\n                                  moveFileToFolder(item);\r\n                                }}\r\n          />\r\n        }}/>\r\n      </Grid>\r\n    </OneOf>\r\n    <Stack direction={\"column\"} justifyContent={\"center\"} alignItems={\"flex-start\"} marginTop={2}>\r\n      <OneOf index={selectedFile.length > 0 ? 0 : 1}>\r\n        <Typography variant={\"body1\"} color={\"textSecondary\"} textAlign={\"center\"}\r\n                    enableTranslate={false}>{\r\n            selectedFile.length + \" \" + t(\"selected\") + \", \" + getReadableFileSize(getTotalSize(selectedFile))\r\n        }</Typography>\r\n        <Typography variant={\"body1\"} color={\"textSecondary\"} textAlign={\"center\"}\r\n                    enableTranslate={false}>{\r\n            currentFile.length + \" \" + t(\"items\") + \", \" + getReadableFileSize(getTotalSize(currentFile))\r\n        }</Typography>\r\n      </OneOf>\r\n    </Stack>\r\n\r\n  </Stack>;\r\n};\r\n\r\nexport default React.memo(DriverWidget);"],"names":["ContextMenuWithLongPres","_ref","menuItems","children","rest","contextMenu","setContextMenu","React","handleContextMenu","useCallback","event","preventDefault","stopPropagation","mouseX","clientX","mouseY","clientY","handleContextMenuLongPress","window","screen","width","longPressEvent","useLongPress","threshold","handleClose","length","_jsx","Stack","_jsxs","onContextMenu","Menu","open","onClose","anchorReference","anchorPosition","top","left","undefined","ListComponent","data","renderItem","item","index","type","href","props","style","target","download","rel","onClick","e","MenuItem","ContextMenuWithoutLongPress","_ref2","_ref3","enableLongPress","isMobile","FileIcon","contentType","isFolder","isPublic","FolderIcon","LanguageIcon","includes","split","subType","InsertPhotoIcon","CssIcon","JavascriptIcon","HtmlIcon","DescriptionIcon","VideoFileIcon","AudioFileIcon","FontDownloadIcon","InsertDriveFileIcon","FileItemLink","_fileItem$fileMetaDat","fileItem","openAction","Link","url","fileMetaData","component","name","FileItemRow","_fileItem$fileMetaDat2","_fileItem$fileMetaDat3","_fileItem$fileMetaDat4","selected","ContextMenu","direction","spacing","alignItems","textAlign","sx","backgroundColor","paddingY","paddingX","BreakpointContainer","up","className","flexGrow","color","Typography","variant","enableTranslate","flexBasis","getFileType","toDisplayTime","lastModifiedDate","getReadableFileSize","sizeInBytes","toVisibility","down","fontSize","MenuButton","icon","MoreVertIcon","borderRadius","menuAlign","FileItemBlock","iconSize","flexShrink","title","Box","Badge","height","minWidth","badgeContent","overlap","anchorOrigin","vertical","horizontal","DoneIcon","LockIcon","OpenFolderButton","folderId","ContentButton","OpenInNewIcon","get_driver_url","ShareButton","fileId","onVisibilityChange","showAlert","AlertContext","ShareIcon","setVisibility","then","catch","message","DeleteButton","onDelete","DeleteIcon","deleteFile","FileRenameButton","existingName","onRename","DriveFileRenameOutlineIcon","async","openDialogWithPromise","DialogNames","RenameDriverFileDialog","filename","success","MultiStatusButton","currentStatus","statusToContentButtonProps","onStatusChange","Object","keys","map","status","rest2","stack","ViewListIcon","grid","GridViewIcon","LayoutSwitchButton","currentLayout","onLayoutChange","Error","_Fragment","statusToSorterButtonProps","FormatColorTextIcon","CategoryIcon","time","AccessTimeIcon","size","ViewInArIcon","visibility","VisibilityIcon","SorterButton","currentSorter","onSorterChange","fileComparator","a","b","sorter","reverse","_a$fileMetaData","_b$fileMetaData","_a$fileMetaData2","_b$fileMetaData2","result","localeCompare","id","itemId","ContentCopyIcon","copy","location","host","DriverWidget","searchParams","setSearchParams","useSearchParams","update","setUpdate","currentFileId","get","currentRoot","setCurrentRoot","DriverFileProfile","create","setIsFolder","currentFile","setCurrentFile","selectedFile","setSelectedFile","sortDirection","setSortDirection","setCurrentSorter","rawPath","setRawPath","path","setPath","owner","setOwner","canEdit","useIsUserOrAdmin","t","useTranslation","setCurrentLayout","continueSelect","setContinueSelect","selectingMode","setSelectingMode","selectoRef","useRef","hasSelected","useEffect","getFile","response","_selectoRef$current","current","setSelectedTargets","sort","error","absPath","endsWith","slice","finalPath","lastIndexOf","existing","fileActions","push","disabled","onMouseEnter","onMouseLeave","CreateNewFolderIcon","print","NewFolderDialog","filePath","public","newFolderFile","AddLinkIcon","NewLinkFileDialog","newLinkFile","FileUploadIcon","DriverUploadDialog","DriveFileMoveIcon","MoveDriverFileDialog","value","currentPath","getLink","selectAction","_selectoRef$current2","newSelectedFileItems","shiftKey","newFileToSelect","founded","i","fileKey","filter","ctrlKey","document","getElementById","allItems","CopySiteLinkButton","moveFileToFolder","fileIdToMove","moveFile","minHeight","_selectoRef$current3","Breadcrumbs","onDragOver","onDrop","newPath","join","getFileId","justifyContent","marginY","disableElevation","Condition","show","MenuIcon","SortIcon","newSorter","FormControlLabel","marginX","control","Switch","checked","onChange","label","marginBottom","labelPlacement","Checkbox","_selectoRef$current4","_selectoRef$current5","Selecto","ref","container","body","dragContainer","selectableTargets","selectByClick","selectFromInside","preventClickEventOnDrag","toggleContinueSelect","keyContainer","querySelector","dragCondition","hitRate","onSelect","find","OneOf","onDoubleClick","draggable","onDragStart","Divider","Grid","marginTop","getTotalSize"],"sourceRoot":""}