"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[979],{14979:(e,t,s)=>{s.r(t),s.d(t,{default:()=>H});var n=s(65043),i=s(67807),l=s(59135),o=s(35475),r=s(68957),a=s(59662),d=s(70579);const c=(0,a.A)((0,d.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var x=s(61310),u=s(78436),m=s(68640),h=s(60790),p=s(94516),g=s(78185);const j=(0,a.A)((0,d.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),A=(0,a.A)((0,d.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"RemoveRedEye"),v=(0,a.A)((0,d.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");var f=s(67649),w=s(28079);const y=e=>{let{icon:t,children:s,sx:l,...o}=e;const r=n.cloneElement(t,{sx:{...t.props.sx,fontSize:{xs:"1rem",sm:"1rem",md:"1rem",lg:"1.2rem",xl:"1.2rem"}}});return(0,d.jsxs)(i.A,{direction:"row",alignItems:"center",gap:.3,sx:{...l},...o,children:[r,(0,d.jsx)(w.o5,{variant:"body1",sx:{fontSize:{xs:"0.8rem",sm:"0.8rem",md:"0.8rem",lg:"1rem",xl:"1rem"}},children:s})]})};var b=s(52945);const S=e=>{let{targetUrl:t,onClickRoute:s,owner:l,coverImageUrl:r,altImg:a,title:c,description:x,aspectRatio:u=16/9,radius:m=1,like:h=0,view:S=0,download:k=0,sx:C,SkeletonSx:I,...D}=e;const[E,U]=(0,n.useState)(void 0===r),[z,L]=(0,n.useState)(!1),M=(0,f.Hd)(h).length+(0,f.Hd)(S).length+(0,f.Hd)(k).length>14,R=0===h&&0===S&&0===k;return(0,d.jsxs)(i.A,{maxWidth:"auto",spacing:1,onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),sx:{...C},...D,children:[(0,d.jsxs)(p.A,{style:{position:"relative",width:"auto",height:"auto"},children:[!E&&(0,d.jsx)(g.A,{variant:"rectangular",sx:{objectFit:"cover",width:"100%",height:"auto",aspectRatio:u,...I}}),(0,d.jsx)(o.N_,{to:t,onClick:e=>{s&&s(e)},children:(0,d.jsxs)(b.A,{index:void 0===r?0:1,children:[a,(0,d.jsx)(p.A,{component:"img",src:r,onLoad:()=>U(!0),borderRadius:m,sx:{display:E?"block":"none",objectFit:"cover",width:"100%",height:"auto",aspectRatio:u}})]})}),E&&!R&&(0,d.jsxs)(i.A,{direction:"row",borderRadius:m,sx:{position:"absolute",bottom:0,left:0,color:"white",background:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.8) 100%)",width:"100%",textAlign:"start",paddingY:"6px",opacity:z?0:1},style:{transition:"opacity 0.5s ease"},children:[(0,d.jsx)(i.A,{direction:"row",justifySelf:"flex-start",alignItems:"center",flexGrow:1,spacing:1,paddingLeft:2,children:(0,d.jsx)(y,{icon:(0,d.jsx)(j,{}),children:(0,f.Hd)(h)})}),(0,d.jsx)(i.A,{direction:"row",spacing:1,children:(0,d.jsxs)(i.A,{direction:"row",alignItems:"center",spacing:1,paddingRight:2,children:[(0,d.jsx)(y,{sx:{display:{xs:"none",sm:"none",md:"none",lg:M?"none":"flex"}},icon:(0,d.jsx)(A,{fontSize:"small"}),children:(0,f.Hd)(S)}),(0,d.jsx)(y,{sx:{display:{xs:"none",sm:"none",md:"none",lg:M?"none":"flex"}},icon:(0,d.jsx)(v,{fontSize:"small"}),children:(0,f.Hd)(k)}),(0,d.jsx)(y,{sx:{display:{md:"flex",lg:M?"flex":"none"}},icon:(0,d.jsx)(A,{}),children:(0,f.Hd)(S)})]})})]})]}),(0,d.jsxs)(i.A,{direction:"column",maxWidth:"100%",children:[(0,d.jsx)(w.o5,{gutterBottom:!0,variant:"body1",textAlign:"left",fontWeight:{xs:"bold",sm:"bold",md:"bold",lg:"bold",xl:"bold"},sx:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:{xs:1,sm:1,md:1,lg:1,xl:1},lineHeight:"1em",fontSize:{xs:"12px",sm:"12px",md:"15px",lg:"15px",xl:"15px"},height:"2em",textOverflow:"ellipsis",color:"black"},children:c}),(0,d.jsx)(o.N_,{to:"#",children:(0,d.jsxs)(w.o5,{variant:"body2",color:"text.secondary",textAlign:"left",style:{cursor:l?"pointer":"default"},sx:{fontSize:{xs:"10px",md:"13px"}},children:[" ",x]})})]})]})};var k=s(24548),C=s(53700),I=s(44123);const D=e=>{let{profile:t}=e;return(0,d.jsx)(S,{title:t.name,targetUrl:(0,k.tf)(t.id),aspectRatio:1,view:Math.max((0,C.Bi)(t),1),download:(0,C.kc)(t),SkeletonSx:{width:200,height:200},like:(0,C.D_)(t),altImg:(0,d.jsx)(I.j,{type:t.type,radius:1,height:"auto",width:"100%",preserveAspectRatio:"1"}),coverImageUrl:t.avatarUrl})};var E=s(21888),U=s(26033),z=s(31103),L=s(52792),M=s(44843),R=s(74672),T=s(7399);const H=e=>{var t,s,a,p,g;const[j,A]=(0,o.ok)(),v=null!==(t=j.get("q"))&&void 0!==t?t:"",f=null!==(s=j.get("o"))&&void 0!==s?s:"",w=null!==(a=j.get("t"))&&void 0!==a?a:"",y=null!==(p=j.get("e"))&&void 0!==p?p:"",b=j.get("p")?parseInt(null!==(g=j.get("p"))&&void 0!==g?g:"0"):0,S=(0,R.G)(T.bX),[k,I]=(0,n.useState)(v),[H,O]=n.useState([]),[W,_]=n.useState(1),[N,V]=n.useState([]),[F,B]=n.useState([]),[G,P]=n.useState(x.r3.DEFAULT),[K,q]=n.useState(null);(0,n.useEffect)((()=>{""!==f&&(0,z.Oy)(f).then((e=>{q(e)})).catch((e=>{(0,M.yy)(e)}))}),[f]),(0,n.useEffect)((()=>{(0,r.bq)().then((e=>{V(e.engines),B(e.types)}))}),[]),(0,n.useEffect)((()=>{const e=U.K3.create();e.page=b,e.pageSize=40,(0,r.fS)(v,f,w,y,e,G).then((e=>{var t,s;O(X(e.nodeTrees)),_(null!==(t=null===(s=e.pageResult)||void 0===s?void 0:s.totalPage)&&void 0!==t?t:1)}))}),[j,v,y,w,f,b,G]);const X=e=>{switch(G){case x.r3.DEFAULT:return e;case x.r3.UPDATE:return e.sort(((e,t)=>{var s,n;return(null!==(s=t.updateAt)&&void 0!==s?s:0)-(null!==(n=e.updateAt)&&void 0!==n?n:0)}));case x.r3.VIEW:return e.sort(((e,t)=>(0,C.Bi)(t)-(0,C.Bi)(e)));case x.r3.LIKE:return e.sort(((e,t)=>(0,C.D_)(t)-(0,C.D_)(e)));case x.r3.DOWNLOAD:return e.sort(((e,t)=>(0,C.kc)(t)-(0,C.kc)(e)));default:return e}},Y=e=>""===e?"All Engines":(0,C.$f)(e),Z=e=>""===e?"All Node Types":(0,C.mZ)(e),$=e=>{switch(e){case x.r3.DEFAULT:return"Default";case x.r3.UPDATE:return"Update Time";case x.r3.VIEW:return"View Count";case x.r3.LIKE:return"Like Count";case x.r3.DOWNLOAD:return"Download Count";default:return"Default"}};return(0,d.jsxs)(i.A,{direction:"column",width:"100%",alignItems:"center",children:[(0,d.jsxs)(i.A,{direction:"column",spacing:1,sx:{width:{xs:"95%",sm:"90%",md:"80%",lg:"80%",xl:"80%"}},children:[(0,d.jsxs)(i.A,{direction:"row",justifyContent:"center",alignItems:"center",width:"100%",spacing:2,children:[""!==f&&K&&(0,d.jsx)(L.A,{title:K.name,avatarUrl:K.avatarUrl,onClick:()=>{A((e=>(e.set("o",""),e)))}}),(0,d.jsx)(u.A,{label:"Search",value:k,onSubmit:()=>{A((e=>(e.set("q",k),e)))},setValue:I,endAdornment:(0,d.jsx)(c,{})})]}),(0,d.jsxs)(i.A,{direction:"row",justifyContent:"space-between",children:[(0,d.jsxs)(i.A,{direction:"row",justifyContent:"start",children:[(0,d.jsx)(m.A,{title:Y(y),menuItems:["",...N].map((e=>(0,d.jsx)(h.A,{title:Y(e),onClick:()=>{A((t=>(t.set("e",e),t)))}}))),size:"small"}),(0,d.jsx)(m.A,{title:Z(w),menuItems:["",...F].map((e=>(0,d.jsx)(h.A,{title:Z(e),onClick:()=>{A((t=>(t.set("t",e),t)))}}))),size:"small"}),(null===S||void 0===S?void 0:S.userId)&&(0,d.jsx)(m.A,{title:f===(null===S||void 0===S?void 0:S.userId)?"Only Me":"All Users",menuItems:[(0,d.jsx)(h.A,{title:"All Users",onClick:()=>{A((e=>(e.set("o",""),e)))}}),(0,d.jsx)(h.A,{title:"Only Me",onClick:()=>{A((e=>{var t;return e.set("o",null!==(t=null===S||void 0===S?void 0:S.userId)&&void 0!==t?t:""),e}))}})],size:"small"})]}),(0,d.jsx)(i.A,{direction:"row",justifyContent:"end",children:(0,d.jsx)(m.A,{title:$(G),menuItems:[x.r3.DEFAULT,x.r3.UPDATE,x.r3.VIEW,x.r3.LIKE,x.r3.DOWNLOAD].map((e=>(0,d.jsx)(h.A,{title:$(e),onClick:()=>{P(e)}}))),size:"small"})})]})]}),(0,d.jsx)(E.A,{container:!0,rowSpacing:{xs:1.5,sm:1.5,md:1,lg:1,xl:1},columnSpacing:{xs:1,sm:1,md:2,lg:2,xl:2},width:"100%",marginTop:"0px",children:H.map(((e,t)=>(0,d.jsx)(E.A,{size:{xs:6,sm:6,md:3,lg:3,xl:2.4},children:(0,d.jsx)(D,{profile:e})},e.id)))}),W>1&&(0,d.jsx)(l.A,{count:W,page:b+1,onChange:(e,t)=>{A((e=>(e.set("p",""+(t-1)),e)))}})]})}},21888:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(1666),i=s(34535),l=s(72876);const o=(0,n.A)({createStyledComponent:(0,i.Ay)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>t.root}),componentName:"MuiGrid2",useThemeProps:e=>(0,l.A)({props:e,name:"MuiGrid2"})})}}]);
//# sourceMappingURL=979.5ed47081.chunk.js.map