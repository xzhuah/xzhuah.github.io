"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[754],{20754:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ye});var i=n(65043),s=n(29479),o=n(6964),l=n(67807),r=n(45424),a=n(91449),c=n(6970),d=n(8738),u=n(70579);const p=e=>{let{menuItems:t,children:n,...o}=e;const[d,p]=i.useState(null),h=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),p(null===d?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}),[]),x=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),p(null===d?{mouseX:e.clientX>window.screen.width/2?e.clientX-200:e.clientX+100,mouseY:e.clientY-6}:null)}),[]),m=(0,c.HZ)(x,{threshold:500}),g=()=>{p(null)};return 0===t.length?(0,u.jsx)(l.A,{...o,children:n}):(0,u.jsxs)(l.A,{onContextMenu:h,...m(),...o,children:[n,(0,u.jsx)(r.A,{open:null!==d,onClose:g,anchorReference:"anchorPosition",anchorPosition:null!==d?{top:d.mouseY,left:d.mouseX}:void 0,children:(0,u.jsx)(s.A,{data:t,renderItem:(e,t)=>"a"===e.type?(0,u.jsx)("a",{href:e.props.href,style:e.props.style,target:e.props.target,download:e.props.download,rel:e.props.rel,onClick:e=>{g(),e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},children:(0,u.jsx)(a.A,{sx:{padding:0,margin:0},children:e.props.children},t)}):(0,u.jsx)(a.A,{onClick:e=>{g()},sx:{padding:0,margin:0},children:e},t)})})]})},h=e=>{let{menuItems:t,children:n,...o}=e;const[c,d]=i.useState(null),p=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),d(null===c?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}),[]),h=()=>{d(null)};return 0===t.length?(0,u.jsx)(l.A,{...o,children:n}):(0,u.jsxs)(l.A,{onContextMenu:p,...o,children:[n,(0,u.jsx)(r.A,{open:null!==c,onClose:h,anchorReference:"anchorPosition",anchorPosition:null!==c?{top:c.mouseY,left:c.mouseX}:void 0,children:(0,u.jsx)(s.A,{data:t,renderItem:(e,t)=>"a"===e.type?(0,u.jsx)("a",{href:e.props.href,style:e.props.style,target:e.props.target,download:e.props.download,rel:e.props.rel,onClick:e=>{h(),e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},children:(0,u.jsx)(a.A,{children:e.props.children},t)}):(0,u.jsx)(a.A,{sx:{padding:0,margin:0},onClick:e=>{h()},children:e},t)})})]})},x=e=>{let{menuItems:t,enableLongPress:n=d.Fr,children:i,...s}=e;return n?(0,u.jsx)(p,{menuItems:t,children:i,...s}):(0,u.jsx)(h,{menuItems:t,children:i,...s})};var m=n(99820),g=n(28400),j=n(41954),f=n(14571),v=n(99017),A=n(43360),b=n(43859),y=n(43654),C=n(30409),I=n(18725),k=n(16863),P=n(37669);const S=e=>{let{contentType:t,isFolder:n=!1,isPublic:i=!1,...s}=e;if(n)return(0,u.jsx)(g.A,{...s});if(!t)return(0,u.jsx)(j.A,{...s});const o=t.includes("/")?t.split("/")[0]:t,l=t.includes("/")?t.split("/")[1]:"";switch(o){case"image":return(0,u.jsx)(v.A,{...s});case"text":switch(l){case"css":return(0,u.jsx)(I.A,{...s});case"javascript":return(0,u.jsx)(k.A,{...s});case"html":return(0,u.jsx)(P.A,{...s});default:return(0,u.jsx)(A.A,{...s})}case"video":return(0,u.jsx)(b.A,{...s});case"audio":return(0,u.jsx)(y.A,{...s});case"font":return(0,u.jsx)(C.A,{...s});default:return(0,u.jsx)(f.A,{...s})}};var w=n(28079),D=n(8346),F=n(58558),M=n(68640),T=n(88446),z=n(1799);const B=e=>{var t;let{fileItem:n,openAction:i}=e;return(0,u.jsx)(T.A,{target:n.isFolder?void 0:z.ow,onContextMenu:e=>{n.isFolder||e.stopPropagation()},href:n.url||(null===(t=n.fileMetaData)||void 0===t?void 0:t.url)||void 0,component:"a",onClick:e=>{n.isFolder&&(e.stopPropagation(),null===i||void 0===i||i(n))},children:n.name})};var L=n(15189);const X=e=>{var t,n,i,s;let{fileItem:o,selected:r,menuItems:a,openAction:c,...p}=e;const h=o.isFolder,g=o.isPublic;return(0,u.jsxs)(x,{direction:"row",spacing:1,alignItems:"center",textAlign:"start",menuItems:null!==a&&void 0!==a?a:[],enableLongPress:d.Fr,sx:{backgroundColor:r?"rgba(194, 231, 255,1)":"transparent",paddingY:1.5,paddingX:2,"&:hover":{backgroundColor:r?"rgba(194, 231, 255,1)":"rgba(0, 0, 0, 0.1)"}},...p,children:[(0,u.jsx)(m.A,{up:"md",children:(0,u.jsxs)(l.A,{direction:"row",spacing:1,alignItems:"center",className:"pointer",flexGrow:1,children:[(0,u.jsx)(S,{isFolder:h,contentType:null===(t=o.fileMetaData)||void 0===t?void 0:t.contentType,isPublic:g,color:r?"primary":"inherit"}),(0,u.jsx)(w.o5,{variant:"body1",enableTranslate:!1,flexGrow:1,children:(0,u.jsx)(B,{fileItem:o,openAction:c})}),(0,u.jsx)(w.o5,{variant:"body1",enableTranslate:!1,flexBasis:"100px",children:(0,D.ti)(o)}),(0,u.jsx)(w.o5,{variant:"body1",enableTranslate:!1,flexBasis:"200px",children:(0,L.FL)(o.lastModifiedDate)}),(0,u.jsx)(w.o5,{variant:"body1",enableTranslate:!1,flexBasis:"100px",children:(0,D.Uh)(null===(n=o.fileMetaData)||void 0===n?void 0:n.sizeInBytes)}),(0,u.jsx)(w.o5,{variant:"body1",enableTranslate:!1,flexBasis:"100px",children:(0,D.Ze)(o.isPublic)})]})}),(0,u.jsx)(m.A,{down:"md",children:(0,u.jsxs)(l.A,{direction:"row",spacing:2,alignItems:"center",className:"pointer",flexGrow:1,children:[(0,u.jsx)(S,{isFolder:h,contentType:null===(i=o.fileMetaData)||void 0===i?void 0:i.contentType,isPublic:g,fontSize:"large",color:r?"primary":"inherit"}),(0,u.jsxs)(l.A,{direction:"column",spacing:1,flexGrow:1,children:[(0,u.jsxs)(w.o5,{variant:"body1",enableTranslate:!1,flexGrow:1,children:[" ",(0,u.jsx)(B,{fileItem:o,openAction:c})]}),(0,u.jsxs)(l.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,u.jsx)(w.o5,{variant:"caption",enableTranslate:!1,children:(0,L.FL)(o.lastModifiedDate)}),(0,u.jsx)(w.o5,{variant:"caption",enableTranslate:!1,children:(0,D.Uh)(null===(s=o.fileMetaData)||void 0===s?void 0:s.sizeInBytes)}),(0,u.jsx)(w.o5,{variant:"caption",enableTranslate:!1,children:(0,D.Ze)(o.isPublic)})]})]})]})}),a&&a.length>0&&d.Fr&&(0,u.jsx)(M.A,{icon:(0,u.jsx)(F.A,{}),sx:{borderRadius:"500px"},menuAlign:"right",stopPropagation:!0,menuItems:a})]})};var Y=n(94516),E=n(93933),N=n(71007),O=n(18584);const R=e=>{var t,n,i;let{fileItem:s,selected:o,menuItems:l,iconSize:r=6,openAction:a,...c}=e;const p=s.isFolder,h=s.isPublic;return(0,u.jsx)(x,{direction:"column",spacing:1,alignItems:"center",textAlign:"center",flexShrink:1,enableLongPress:d.Fr,menuItems:null!==l&&void 0!==l?l:[],sx:{backgroundColor:o?"rgba(194, 231, 255,1)":"transparent",paddingY:1,paddingX:1.5,borderRadius:1,"&:hover":{backgroundColor:o?"rgba(194, 231, 255,1)":"rgba(0, 0, 0, 0.1)"}},title:`${(0,L.FL)(s.lastModifiedDate)}\n${(0,D.Uh)(null===(t=s.fileMetaData)||void 0===t?void 0:t.sizeInBytes)}\n${(0,D.Ze)(s.isPublic)}`,...c,children:(0,u.jsxs)(Y.A,{children:[(0,u.jsx)(E.A,{sx:{"& .MuiBadge-badge":{height:4*r,minWidth:3*r}},badgeContent:d.Fr&&l&&l.length>0?(0,u.jsx)(M.A,{icon:(0,u.jsx)(F.A,{color:"success"}),menuAlign:"right",stopPropagation:!0,menuItems:l}):void 0,overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,u.jsx)(E.A,{sx:{"& .MuiBadge-badge":{height:4*r,minWidth:3*r}},badgeContent:h?(0,u.jsx)(O.A,{sx:{fontSize:r/5+"rem"}}):(0,u.jsx)(N.A,{sx:{fontSize:r/5+"rem"}}),color:h?"success":"warning",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,u.jsx)(S,{isFolder:p,contentType:null===(n=s.fileMetaData)||void 0===n?void 0:n.contentType,isPublic:h,color:o?"primary":"inherit",sx:{fontSize:`${r}rem`}})})}),(0,u.jsx)(w.o5,{variant:"body1",enableTranslate:!1,flexGrow:1,children:(0,u.jsx)(B,{fileItem:s,openAction:a})}),(0,u.jsx)(w.o5,{variant:"caption",enableTranslate:!1,children:(0,D.Uh)(null===(i=s.fileMetaData)||void 0===i?void 0:i.sizeInBytes)})]})})};var U=n(50893),G=n(22698),V=n(4598),H=n(51962),W=n(39336),_=n(41210),K=n(35475),Z=n(51387),$=n(17481),q=n(60790),J=n(24548),Q=n(2081);const ee=e=>{let{folderId:t,title:n="Open",target:i="_blank",...s}=e;return(0,u.jsx)(q.A,{icon:(0,u.jsx)(Q.A,{}),onClick:()=>{window.open((0,J.y6)(t),i)},title:n,...s})};var te=n(66947),ne=n(43817);const ie=e=>{let{fileId:t,isPublic:n,onVisibilityChange:s,...o}=e;const{showAlert:l}=i.useContext($.A);return(0,u.jsx)(q.A,{icon:n?(0,u.jsx)(N.A,{}):(0,u.jsx)(ne.A,{}),onClick:()=>{(0,te.bo)(t,!n).then((()=>{s()})).catch((e=>{l("Failed to change: "+e.message)}))},title:n?"UnShare":"Share",...o})},se=e=>{let{fileId:t,onDelete:n,title:s="Delete",color:o="error",...l}=e;const{showAlert:r}=i.useContext($.A);return(0,u.jsx)(q.A,{icon:(0,u.jsx)(Z.A,{color:o}),color:o,onClick:()=>{(0,te.Ww)(t).then((()=>{n()})).catch((e=>{r("Failed to delete: "+e.message)}))},title:s,...l})};var oe=n(46189),le=n(13850);const re=e=>{let{fileId:t,existingName:n,onRename:i,title:s="Rename",...o}=e;return(0,u.jsx)(q.A,{icon:(0,u.jsx)(le.A,{}),onClick:async()=>{(await(0,oe.Ye)("RenameDriverFileDialog",{filename:n,fileId:t})).success&&i()},title:s,...o})};var ae=n(82236);const ce=e=>{let{currentStatus:t,statusToContentButtonProps:n,onStatusChange:i,...s}=e;return(0,u.jsx)(M.A,{title:n[t].title,menuItems:Object.keys(n).map((e=>{const{onClick:t,...s}=n[e];return(0,u.jsx)(q.A,{sx:z.As,onClick:n=>{t&&t(n),i(e)},...s},e)})),...s})};var de=n(70465),ue=n(10529);const pe={stack:{title:"List",icon:(0,u.jsx)(ue.A,{})},grid:{title:"Grid",icon:(0,u.jsx)(de.A,{})}},he=e=>{let{currentLayout:t,onLayoutChange:n,...i}=e;return(0,u.jsx)(ce,{currentStatus:t,statusToContentButtonProps:pe,onStatusChange:e=>{n(e)},icon:pe[t].icon,...i})};var xe=n(52945),me=n(93287),ge=n(87248),je=n(40263),fe=n(48304),ve=n(95701),Ae=n(3632),be=n(69131);const ye={name:{title:"Name",icon:(0,u.jsx)(je.A,{})},type:{title:"Type",icon:(0,u.jsx)(fe.A,{})},time:{title:"Last Modified",icon:(0,u.jsx)(be.A,{})},size:{title:"Size",icon:(0,u.jsx)(ve.A,{})},visibility:{title:"Visibility",icon:(0,u.jsx)(Ae.A,{})}},Ce=e=>{let{currentSorter:t,onSorterChange:n,...i}=e;return(0,u.jsx)(ce,{currentStatus:t,statusToContentButtonProps:ye,onStatusChange:e=>{n(e)},icon:ye[t].icon,...i})},Ie=(e,t,n,i)=>{var s,o,l,r;let a=0;if(e.isFolder&&!t.isFolder)return a=1,i?-a:a;if(!e.isFolder&&t.isFolder)return a=-1,i?-a:a;switch(n){case"size":a=((null===(s=e.fileMetaData)||void 0===s?void 0:s.sizeInBytes)||0)-((null===(o=t.fileMetaData)||void 0===o?void 0:o.sizeInBytes)||0);break;case"time":a=e.lastModifiedDate-t.lastModifiedDate;break;case"type":a=((null===(l=e.fileMetaData)||void 0===l?void 0:l.contentType)||"").localeCompare((null===(r=t.fileMetaData)||void 0===r?void 0:r.contentType)||"");break;case"visibility":a=e.isPublic?1:-1-(t.isPublic?1:-1);break;default:a=e.name.localeCompare(t.name)}return 0===a&&(a=e.id.localeCompare(t.id)),i?-a:a};var ke=n(74117),Pe=n(7093),Se=n(79305),we=n(44843),De=n(51975),Fe=n(78053),Me=n(52966),Te=n(36910),ze=n(75270),Be=n.n(ze);const Le=e=>{let{itemId:t,title:n="Copy Link",...i}=e;return(0,u.jsx)(q.A,{icon:(0,u.jsx)(Te.A,{}),onClick:()=>{Be()(window.location.host+(0,J.y6)(t))},title:n,...i})},Xe=e=>{let{...t}=e;const[n,r]=(0,K.ok)(),[a,c]=i.useState(!1),p=n.get("id"),[h,x]=i.useState(o.Ee.create()),[g,j]=i.useState(!0),[f,v]=i.useState([]),[A,b]=i.useState([]),[y,C]=i.useState(!1),[I,k]=i.useState("name"),[P,S]=i.useState("/"),[F,B]=i.useState([]),[L,Y]=i.useState(void 0),E=(0,Me.LF)(null===L||void 0===L?void 0:L.id),{showAlert:N}=i.useContext($.A),{t:O}=(0,ke.Bd)(),[J,Q]=i.useState("stack"),[ne,le]=i.useState(!1),[ce,de]=i.useState(!1),ue=(0,i.useRef)(null),pe=A.length>0;(0,i.useEffect)((()=>{(0,te.ly)(p).then((e=>{var t;x(e),b([]),null===(t=ue.current)||void 0===t||t.setSelectedTargets([]),e.isFolder?""!==e.name?S(e.path+e.name+"/"):S("/"):S(e.path+e.name),Y(e.owner),j(e.isFolder),e.isFolder?v(e.children.sort(((e,t)=>Ie(e,t,I,y)))):v([e])})).catch((e=>{N(e.message,"error")}))}),[p,a]),(0,i.useEffect)((()=>{if("/"===P)B([]);else{const e=P.endsWith("/")?P.slice(0,P.length-1):P;if("/"===e)return void B([]);const t=e.slice(1,e.lastIndexOf("/"));if(""===t)return void B([]);B(t.split("/"))}}),[P]),(0,i.useEffect)((()=>{v((e=>[...e].sort(((e,t)=>Ie(e,t,I,y)))))}),[I,y]);const je=[];h.isFolder&&E&&(je.push((0,u.jsx)(q.A,{disabled:!g,onMouseEnter:()=>{le(!0)},onMouseLeave:()=>{le(!1)},icon:(0,u.jsx)(ge.A,{}),title:"New Folder",onClick:e=>{e.stopPropagation(),(0,we.yy)(A),(0,oe.Ye)("NewFolderDialog",{filePath:P,public:h.isPublic}).then((e=>{e.data&&((0,we.yy)(e.data),v((t=>[...t,e.data])))})).catch((e=>{N(e.message,"error")}))}}),(0,u.jsx)(q.A,{disabled:!g,icon:(0,u.jsx)(Pe.A,{}),title:"New Link File",onClick:()=>{(0,oe.Ye)("NewLinkFileDialog",{filePath:P,public:h.isPublic}).then((e=>{e.data&&v((t=>[...t,e.data]))})).catch((e=>{N(e.message,"error")}))}}),(0,u.jsx)(q.A,{disabled:!g,icon:(0,u.jsx)(De.A,{}),title:"Upload",onClick:()=>{(0,oe.Ye)("DriverUploadDialog",{path:P,public:h.isPublic}).then((()=>{c(!a)})).catch((e=>{N(e.message,"error")}))}})),A.length>=1&&(je.push((0,u.jsx)(q.A,{icon:(0,u.jsx)(U.A,{}),title:"Move",onMouseEnter:()=>{le(!0)},onMouseLeave:()=>{le(!1)},onClick:()=>{(0,oe.Ye)("MoveDriverFileDialog",{fileId:A.map((e=>e.id)),currentPath:P}).then((e=>{e&&c(!a)}))}})),je.push((0,u.jsx)(q.A,{color:"error",icon:(0,u.jsx)(Z.A,{}),title:"Delete",onMouseEnter:()=>{le(!0)},onMouseLeave:()=>{le(!1)},onClick:()=>{(0,te.Ww)(A.map((e=>e.id))).then((()=>{c(!a)})).catch((e=>{N(e.message,"error")}))}}))));const fe=e=>{e.isFolder?r({id:e.id}):window.open((0,D.TE)(e),z.ow)},ve=(e,t)=>{var n;let i;if(e.stopPropagation(),ce)if(e.shiftKey)if(0===A.length)i=[t];else{const e=[];let n=!1;for(let i=0;i<f.length;i++){const s=f[i];if((s===A[A.length-1]||s===t)&&(n=!n,!n)){A.includes(s)||e.push(s);break}n&&(A.includes(s)||e.push(s))}i=[...A,...e]}else i=A.includes(t)?A.filter((e=>e!==t)):[...A,t];else if(e.ctrlKey)i=A.includes(t)?A.filter((e=>e!==t)):[...A,t];else if(e.shiftKey)if(0===A.length)i=[t];else{const e=[];let n=!1;for(let i=0;i<f.length;i++){const s=f[i];if((s===A[A.length-1]||s===t)&&(n=!n,!n)){A.includes(s)||e.push(s);break}n&&(A.includes(s)||e.push(s))}i=[...A,...e]}else if(A.includes(t)){i=A.filter((e=>e!==t))}else i=[t];null===(n=ue.current)||void 0===n||n.setSelectedTargets(i.map((e=>document.getElementById(e.id)))),b(i)},Ae=e=>{const t=[];return e.isFolder&&t.push((0,u.jsx)(ee,{folderId:e.id,target:z.ow,sx:z.As})),t.push((0,u.jsx)(Le,{itemId:e.id,sx:z.As})),E&&(t.push((0,u.jsx)(ie,{fileId:e.id,isPublic:e.isPublic,sx:z.As,onVisibilityChange:()=>{N("Success","success"),c(!a)}})),t.push((0,u.jsx)(re,{fileId:e.id,existingName:e.name,sx:z.As,onRename:()=>{N("Success","success"),c(!a)}})),t.push((0,u.jsx)(q.A,{sx:z.As,icon:(0,u.jsx)(U.A,{}),title:"Move",onClick:()=>{(0,oe.Ye)("MoveDriverFileDialog",{fileId:[e.id],currentPath:e.path}).then((e=>{e&&c(!a)}))}})),t.push((0,u.jsx)(se,{fileId:e.id,sx:z.As,onDelete:()=>{N("Success","success"),c(!a)}}))),t},be=e=>{if(e.isFolder){const t=A.filter((t=>t!==e)).map((e=>e.id));(0,te.mV)(t,e.path+e.name+"/",e.isPublic).then((()=>{e.isPublic?N("Items are moved to a public folder","success"):N("Items are moved to a private folder","success"),c(!a)})).catch((e=>{N(e.message,"error")}))}};return(0,u.jsxs)(l.A,{direction:"column",minHeight:"78dvh",onClick:()=>{var e;(ce||pe)&&(b([]),null===(e=ue.current)||void 0===e||e.setSelectedTargets([]))},...t,children:[(0,u.jsxs)(G.A,{sx:{paddingX:1},children:[(0,u.jsx)(T.A,{onClick:()=>{r({})},onDragOver:e=>{e.preventDefault()},onDrop:e=>{const t=A.map((e=>e.id));(0,te.mV)(t,"/").then((()=>{N("Items are moved to the root folder","success"),c(!a)})).catch((e=>{N(e.message,"error")}))},children:"Home:"}),F.length>0&&F.map(((e,t)=>(0,u.jsx)(T.A,{onClick:()=>{const n="/"+F.slice(0,t).join("/")+e;(0,te.CK)(n,(null===L||void 0===L?void 0:L.id)||"").then((e=>{r({id:e})})).catch((e=>{N(e.message,"error")}))},onDragOver:e=>{e.preventDefault()},onDrop:n=>{const i=A.map((e=>e.id)),s="/"+F.slice(0,t).join("/")+e+"/";(0,te.mV)(i,s).then((()=>{N("Items are moved to "+s,"success"),c(!a)})).catch((e=>{N(e.message,"error")}))},children:e},t))),h.name&&""!==h.name&&(0,u.jsx)(T.A,{children:h.name})]}),(0,u.jsxs)(l.A,{direction:"row",justifyContent:"start",marginY:2,spacing:1,alignItems:"center",children:[(0,u.jsx)(m.A,{up:"md",children:(0,u.jsx)(s.A,{data:je,renderItem:(e,t)=>(0,u.jsx)(q.A,{variant:"outlined",color:"primary",disableElevation:!0,...e.props},t)})}),(0,u.jsx)(m.A,{down:"md",children:(0,u.jsx)(Fe.k,{show:je.length>0,children:(0,u.jsx)(M.A,{icon:(0,u.jsx)(me.A,{}),menuAlign:"left",menuItems:je,stopPropagation:!0})})}),(0,u.jsx)(he,{currentLayout:J,size:d.Fr?"small":"large",variant:"outlined",color:"primary",onLayoutChange:Q,stopPropagation:!0}),(0,u.jsx)(Ce,{currentSorter:I,stopPropagation:!0,size:d.Fr?"small":"large",variant:"outlined",color:"primary",icon:(0,u.jsx)(ae.A,{}),onSorterChange:e=>{k(e),C(!y)}}),d.Fr&&(0,u.jsx)(w.ip,{value:"selecting",sx:{paddingX:-3,marginX:-3},control:(0,u.jsx)(V.A,{color:"primary",checked:ce,onClick:e=>{e.stopPropagation()},sx:{marginX:"-10px"},onChange:e=>{de(!ce)}}),label:(0,u.jsx)(w.o5,{style:{marginBottom:"-10px",fontSize:"small"},children:"Select"}),labelPlacement:"top"}),d.Fr&&ce&&(0,u.jsx)(w.ip,{sx:{paddingX:-3,marginX:-3},value:"selectAll",control:(0,u.jsx)(H.A,{color:"primary",checked:A.length===f.length,onClick:e=>{e.stopPropagation()},sx:{marginX:"-10px"},onChange:e=>{var t,n;if(A.length===f.length)return b([]),void(null===(t=ue.current)||void 0===t||t.setSelectedTargets([]));b([...f]),null===(n=ue.current)||void 0===n||n.setSelectedTargets(f.map((e=>document.getElementById(e.id))))}}),label:(0,u.jsx)(w.o5,{style:{marginBottom:"-10px",fontSize:"small"},children:"All"}),labelPlacement:"top"})]}),(0,u.jsx)(Se.Ay,{ref:ue,container:document.body,dragContainer:window,selectableTargets:[".target"],selectByClick:!1,selectFromInside:!0,preventClickEventOnDrag:!0,continueSelect:ne,toggleContinueSelect:[["shift"],["ctrl"]],keyContainer:window.document.querySelector(".select-zone"),dragCondition:e=>!pe,hitRate:1,onSelect:e=>{if(ce)return;const t=[];for(const n of e.selected){const e=n.id,i=f.find((t=>t.id===e));i&&t.push(i)}b(t)}}),(0,u.jsxs)(xe.A,{index:"stack"===J?0:1,children:[(0,u.jsx)(l.A,{direction:"column",children:(0,u.jsx)(s.A,{data:f,renderItem:(e,t)=>(0,u.jsxs)(l.A,{direction:"column",children:[(0,u.jsx)(X,{fileItem:e,id:e.id,selected:A.includes(e),className:"target",openAction:fe,onClick:t=>{ve(t,e)},onDoubleClick:()=>{fe(e)},menuItems:Ae(e),draggable:pe,onDragStart:e=>{},onDragOver:e.isFolder?e=>{e.preventDefault()}:void 0,onDrop:t=>{t.stopPropagation(),be(e)}}),(0,u.jsx)(W.A,{})]},e.id)})}),(0,u.jsx)(_.A,{container:!0,alignItems:"center",width:"fit-content",justifyContent:"start",children:(0,u.jsx)(s.A,{data:f,renderItem:(e,t)=>(0,u.jsx)(R,{fileItem:e,id:e.id,className:"target",selected:A.includes(e),onClick:t=>{t.stopPropagation(),ve(t,e)},onDoubleClick:()=>{fe(e)},openAction:fe,menuItems:Ae(e),draggable:pe,onDragStart:e=>{},onDragOver:e.isFolder?e=>{e.preventDefault()}:void 0,onDrop:t=>{(0,we.yy)("onDrop",t),t.stopPropagation(),be(e)}},e.id)})})]}),(0,u.jsx)(l.A,{direction:"column",justifyContent:"center",alignItems:"flex-start",marginTop:2,children:(0,u.jsxs)(xe.A,{index:A.length>0?0:1,children:[(0,u.jsx)(w.o5,{variant:"body1",color:"textSecondary",textAlign:"center",enableTranslate:!1,children:A.length+" "+O("selected")+", "+(0,D.Uh)((0,D.mH)(A))}),(0,u.jsx)(w.o5,{variant:"body1",color:"textSecondary",textAlign:"center",enableTranslate:!1,children:f.length+" "+O("items")+", "+(0,D.Uh)((0,D.mH)(f))})]})})]})},Ye=i.memo(Xe)}}]);
//# sourceMappingURL=754.419af47d.chunk.js.map