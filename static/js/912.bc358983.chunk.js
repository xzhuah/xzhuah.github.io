"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[912],{95992:(t,e,i)=>{i.d(e,{h:()=>s});i(65043);var n=i(67807),o=i(70579);const s=t=>{let{sx:e,...i}=t;return(0,o.jsx)(n.A,{direction:"column",sx:{marginTop:4,marginBottom:8,marginX:{xs:0,sm:2,md:6,lg:24,xl:48},...e},...i})}},65912:(t,e,i)=>{i.r(e),i.d(e,{default:()=>w});var n=i(65043),o=i(42770),s=i(58711),l=i(22717),r=i(53402),a=i(15142),m=i(44843),u=i(24010),c=i(76877),d=i(63564),h=i(84593),g=i(29408),f=i(28079),p=i(8738),x=i(95088),y=i(27999),b=i(67649),j=i(95992),v=i(70579);const L=(0,b.RW)(302),A=t=>{let{modelUrl:e="",vmdUrl:i="",start:s=!1}=t;const l=(0,n.useRef)(),r=(0,n.useRef)(null),u=(0,o.H)(a.a,e);return(0,n.useEffect)((()=>{if(!u||!i)return;const t=new c.$;r.current=t;return(new a.a).loadAnimation(i,u,(e=>{t.add(u,{animation:e,physics:!1})}),void 0,(t=>{(0,m.yy)("Error loading VMD file",t)})),()=>{r.current=null}}),[u,i]),(0,o.F)(((t,e)=>{r.current&&s&&r.current.update(e)})),(0,v.jsx)("primitive",{ref:l,object:u,dispose:null,scale:[.25,.25,.25],position:[0,-3,0]})},C=t=>{let{start:e}=t;const i=(0,n.useRef)(),o=(0,n.useRef)(),s=(0,n.useRef)(),{lightColor:a,lightIntensity:m,lightPosition:u}=(0,r._5)({lightColor:{value:"white",label:"Light Color"},lightIntensity:{value:1,label:"Light Intensity",min:0,max:10},lightPosition:{value:[0,0,2],label:"Light Position"}}),c=(0,n.useRef)(),{ambientLightColor:d,ambientLightIntensity:h}=(0,r._5)({ambientLightColor:{value:"white",label:"Ambient Light Color"},ambientLightIntensity:{value:.4,label:"Ambient Light Intensity",min:0,max:10}});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("pointLight",{ref:o,color:"purple",intensity:60,position:[-3,2,-3]}),(0,v.jsx)("pointLight",{ref:s,color:"blue",intensity:30,position:[3,2,-1]}),(0,v.jsx)("directionalLight",{position:u,ref:i,color:a,intensity:m}),(0,v.jsx)("ambientLight",{intensity:h,color:d,ref:c}),(0,v.jsx)(A,{modelUrl:"/mmd/\u539f\u795e-\u523b\u6674/\u523b\u6674fix.pmx",vmdUrl:p.Fr?"/mmd/motion/jimingyue-motion.vmd":"/mmd/motion/testB.vmd",start:e}),(0,v.jsx)(l.N,{})]})},w=t=>{const[e,i]=(0,n.useState)(null),l=(0,n.useRef)(null),r=(0,o.H)(g.AudioLoader,"/mmd/music/\u5bc4\u660e\u6708.mp3"),[a,m]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(r){const t=new g.Audio(new g.AudioListener);t.setBuffer(r),t.setLoop(!0),t.setVolume(.5),i(t)}}),[r]),(0,n.useEffect)((()=>(e&&(l.current=e),()=>{e&&e.stop()})),[e]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Hl,{className:"threeD",style:{backgroundColor:"black",height:"100svh",width:"100wvh"},children:(0,v.jsx)(C,{start:a})}),(0,v.jsx)(u.A,{color:"primary","aria-label":"add",onClick:()=>{e&&(a?(m(!1),e.pause()):(m(!0),e.play()))},style:{margin:0,left:20,top:20,right:"auto",bottom:"auto",position:"fixed"},children:a?(0,v.jsx)(d.A,{}):(0,v.jsx)(h.A,{})}),(0,v.jsxs)(j.h,{spacing:2,children:[(0,v.jsx)(f.o5,{children:"Model BY: miHoYo/\u89c2\u6d77\u5b50, Motion By: Nivsha"}),(0,v.jsx)(x.A,{objectId:L,targetType:y.vt.RESOURCE_TYPE_WEBPAGE})]})]})}}}]);
//# sourceMappingURL=912.bc358983.chunk.js.map