"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[547],{30547:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var a=n(65043),s=n(67807),r=n(4598),i=n(39336),c=n(29479),l=n(52792),o=n(24548),d=n(28079),h=n(15189),x=n(13038),u=n(74117),j=n(52966),m=n(59662),g=n(70579);const k=(0,m.A)([(0,g.jsx)("circle",{cx:"19",cy:"3",r:"3"},"0"),(0,g.jsx)("path",{d:"M6 8V6h9.03c-1.21-1.6-1.08-3.21-.92-4H4.01c-1.1 0-2 .89-2 2L2 22l4-4h14c1.1 0 2-.9 2-2V6.97C21.16 7.61 20.13 8 19 8zm8 6H6v-2h8zm4-3H6V9h12z"},"1")],"MarkUnreadChatAlt"),A=(0,m.A)((0,g.jsx)("path",{d:"m17.34 20-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 14.34zM12 17c0-3.87 3.13-7 7-7 1.08 0 2.09.25 3 .68V4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v18l4-4h6c0-.17.01-.33.03-.5-.02-.16-.03-.33-.03-.5"}),"MarkChatRead"),p=e=>{let{notification:t,onRead:n,...r}=e;const i=(0,j.uj)(),[c,m]=a.useState(t.read),{t:p}=(0,u.Bd)(),v=(0,a.useCallback)((()=>{c?m(!0):n().then((()=>{m(!0)}))}),[t.id,n,c]),C=(0,a.useCallback)((()=>{c||v(),t.link&&i(t.link)}),[v,i,t.link,c]);return(0,g.jsxs)(s.A,{justifyContent:"flex-start",direction:"row",spacing:2,...r,children:[t.sender&&(0,g.jsx)(l.A,{title:t.sender.name,avatarUrl:t.sender.avatarUrl,sx:{width:60,height:60},profileLink:(0,o.MI)(t.sender.id)}),(0,g.jsxs)(s.A,{direction:"column",flexGrow:1,alignItems:"start",className:"pointer",onMouseEnter:()=>{v()},onClick:()=>{C()},children:[(0,g.jsxs)(s.A,{direction:"row",alignItems:"center",spacing:2,children:[t.title.length>0&&(0,g.jsx)(d.o5,{variant:"h6",children:t.title}),t.count>1&&(0,g.jsx)(d.o5,{variant:"body1",children:" + "+t.count}),c?(0,g.jsx)(A,{color:"success"}):(0,g.jsx)(k,{color:"warning"})]}),t.content.length>0&&(0,g.jsx)(d.o5,{variant:"body1",enableTranslate:!1,children:t.content}),(0,g.jsxs)(d.o5,{variant:"caption",children:[(0,h.FL)(t.createAt),", ",p(c?"has read":"un read")]})]}),t.avatarUrl&&(0,g.jsx)(x.A,{className:"pointer",src:t.avatarUrl,onMouseEnter:()=>{v()},onClick:()=>{C()},sx:{maxWidth:80,maxHeight:80}})]})};var v=n(85047),C=n(17481),f=n(49348);const w=e=>{let{sx:t,...n}=e;const{showAlert:l}=a.useContext(C.A),{ack:o}=a.useContext(f.V),[h,x]=a.useState([]),[u,j]=a.useState(!0),[m,k]=a.useState(!1),[A,w]=a.useState(0),[b,y]=a.useState(1);return(0,a.useEffect)((()=>{(0,v.uO)(u,100,A).then((e=>{var t;x(e.notifications),y((null===(t=e.pageResult)||void 0===t?void 0:t.totalPage)||1)})).catch((e=>{l(e.message,"error")}))}),[u,m,A]),(0,g.jsxs)(s.A,{direction:"column",spacing:1,sx:{marginX:1,...t},...n,children:[(0,g.jsxs)(s.A,{direction:"row",spacing:1,justifyContent:"space-between",children:[(0,g.jsx)(d.$n,{variant:"contained",disableElevation:!0,onClick:()=>{const e=h.filter((e=>!e.read)).map((e=>e.id));0!==e.length&&o(e).then((()=>{k(!m)})).catch((e=>{l(e.message,"error")}))},children:"Mark All As Read"}),(0,g.jsx)(d.ip,{control:(0,g.jsx)(r.A,{checked:u,onChange:e=>{j(e.target.checked)}}),label:"Show Unread Only"})]}),(0,g.jsx)(c.A,{data:h,renderItem:(e,t)=>(0,g.jsxs)(s.A,{direction:"column",spacing:1,children:[(0,g.jsx)(p,{notification:e,onRead:()=>o([e.id]).catch((e=>{l(e.message,"error")}))}),(0,g.jsx)(i.A,{})]},e.id)})]})}}}]);
//# sourceMappingURL=547.2a14f379.chunk.js.map