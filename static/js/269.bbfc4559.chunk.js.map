{"version":3,"file":"static/js/269.bbfc4559.chunk.js","mappings":"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","sources":["proto/framework/analytics/AnalyticMessage.ts","domain/analytics/component/SubChannelViewer.tsx","domain/analytics/component/UserActionViewer.tsx","domain/analytics/component/UserActionChainViewer.tsx","domain/analytics/AnalyticWidget.tsx","domain/analytics/AnalyticService.ts"],"sourcesContent":["// Code generated by protoc-gen-ts_proto. DO NOT EDIT.\n// versions:\n//   protoc-gen-ts_proto  v2.0.2\n//   protoc               v5.28.0\n// source: mydimension/framework/analytics/AnalyticMessage.proto\n\n/* eslint-disable */\nimport { BinaryReader, BinaryWriter } from \"@bufbuild/protobuf/wire\";\nimport { TimeRange } from \"../QueryMessage\";\nimport { CustomerProfile } from \"../customer/CustomerInfo\";\n\nexport const protobufPackage = \"proto.framework.analytics\";\n\nexport interface UserActionQuery {\n  /** 用户id, return all if empty */\n  userId: string[];\n  /** 时间范围 */\n  time:\n    | TimeRange\n    | undefined;\n  /**\n   * 查询时间间隔 单位毫秒 意思是在构建用户行为链时，两个行为之间的最大容许时间间隔\n   * 如果两个行为的时间间隔超过这个值，则认为是两个不同的行为链\n   * 默认值是5分钟\n   */\n  interval: number;\n}\n\nexport interface UserActionResponse {\n  /** 用户行为链 */\n  userActionChains: UserActionChain[];\n}\n\nexport interface UserActionChain {\n  /** 用户 */\n  customer:\n    | CustomerProfile\n    | undefined;\n  /** 用户行为链 */\n  actions: UserActionChain_UserAction[];\n}\n\nexport interface UserActionChain_UserAction {\n  /** 用户行为 */\n  action: string;\n  /** 行为时间 */\n  actionTime: number;\n  /**  */\n  subChannel: string;\n  /**  */\n  sessionId: string;\n}\n\nfunction createBaseUserActionQuery(): UserActionQuery {\n  return { userId: [], time: undefined, interval: 0 };\n}\n\nexport const UserActionQuery = {\n  encode(message: UserActionQuery, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {\n    for (const v of message.userId) {\n      writer.uint32(10).string(v!);\n    }\n    if (message.time !== undefined) {\n      TimeRange.encode(message.time, writer.uint32(18).fork()).join();\n    }\n    if (message.interval !== 0) {\n      writer.uint32(24).int64(message.interval);\n    }\n    return writer;\n  },\n\n  decode(input: BinaryReader | Uint8Array, length?: number): UserActionQuery {\n    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseUserActionQuery();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag !== 10) {\n            break;\n          }\n\n          message.userId.push(reader.string());\n          continue;\n        case 2:\n          if (tag !== 18) {\n            break;\n          }\n\n          message.time = TimeRange.decode(reader, reader.uint32());\n          continue;\n        case 3:\n          if (tag !== 24) {\n            break;\n          }\n\n          message.interval = longToNumber(reader.int64());\n          continue;\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n\n  fromJSON(object: any): UserActionQuery {\n    return {\n      userId: globalThis.Array.isArray(object?.userId) ? object.userId.map((e: any) => globalThis.String(e)) : [],\n      time: isSet(object.time) ? TimeRange.fromJSON(object.time) : undefined,\n      interval: isSet(object.interval) ? globalThis.Number(object.interval) : 0,\n    };\n  },\n\n  toJSON(message: UserActionQuery): unknown {\n    const obj: any = {};\n    if (message.userId?.length) {\n      obj.userId = message.userId;\n    }\n    if (message.time !== undefined) {\n      obj.time = TimeRange.toJSON(message.time);\n    }\n    if (message.interval !== 0) {\n      obj.interval = Math.round(message.interval);\n    }\n    return obj;\n  },\n\n  create<I extends Exact<DeepPartial<UserActionQuery>, I>>(base?: I): UserActionQuery {\n    return UserActionQuery.fromPartial(base ?? ({} as any));\n  },\n  fromPartial<I extends Exact<DeepPartial<UserActionQuery>, I>>(object: I): UserActionQuery {\n    const message = createBaseUserActionQuery();\n    message.userId = object.userId?.map((e) => e) || [];\n    message.time = (object.time !== undefined && object.time !== null) ? TimeRange.fromPartial(object.time) : undefined;\n    message.interval = object.interval ?? 0;\n    return message;\n  },\n};\n\nfunction createBaseUserActionResponse(): UserActionResponse {\n  return { userActionChains: [] };\n}\n\nexport const UserActionResponse = {\n  encode(message: UserActionResponse, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {\n    for (const v of message.userActionChains) {\n      UserActionChain.encode(v!, writer.uint32(10).fork()).join();\n    }\n    return writer;\n  },\n\n  decode(input: BinaryReader | Uint8Array, length?: number): UserActionResponse {\n    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseUserActionResponse();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag !== 10) {\n            break;\n          }\n\n          message.userActionChains.push(UserActionChain.decode(reader, reader.uint32()));\n          continue;\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n\n  fromJSON(object: any): UserActionResponse {\n    return {\n      userActionChains: globalThis.Array.isArray(object?.userActionChains)\n        ? object.userActionChains.map((e: any) => UserActionChain.fromJSON(e))\n        : [],\n    };\n  },\n\n  toJSON(message: UserActionResponse): unknown {\n    const obj: any = {};\n    if (message.userActionChains?.length) {\n      obj.userActionChains = message.userActionChains.map((e) => UserActionChain.toJSON(e));\n    }\n    return obj;\n  },\n\n  create<I extends Exact<DeepPartial<UserActionResponse>, I>>(base?: I): UserActionResponse {\n    return UserActionResponse.fromPartial(base ?? ({} as any));\n  },\n  fromPartial<I extends Exact<DeepPartial<UserActionResponse>, I>>(object: I): UserActionResponse {\n    const message = createBaseUserActionResponse();\n    message.userActionChains = object.userActionChains?.map((e) => UserActionChain.fromPartial(e)) || [];\n    return message;\n  },\n};\n\nfunction createBaseUserActionChain(): UserActionChain {\n  return { customer: undefined, actions: [] };\n}\n\nexport const UserActionChain = {\n  encode(message: UserActionChain, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {\n    if (message.customer !== undefined) {\n      CustomerProfile.encode(message.customer, writer.uint32(10).fork()).join();\n    }\n    for (const v of message.actions) {\n      UserActionChain_UserAction.encode(v!, writer.uint32(18).fork()).join();\n    }\n    return writer;\n  },\n\n  decode(input: BinaryReader | Uint8Array, length?: number): UserActionChain {\n    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseUserActionChain();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag !== 10) {\n            break;\n          }\n\n          message.customer = CustomerProfile.decode(reader, reader.uint32());\n          continue;\n        case 2:\n          if (tag !== 18) {\n            break;\n          }\n\n          message.actions.push(UserActionChain_UserAction.decode(reader, reader.uint32()));\n          continue;\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n\n  fromJSON(object: any): UserActionChain {\n    return {\n      customer: isSet(object.customer) ? CustomerProfile.fromJSON(object.customer) : undefined,\n      actions: globalThis.Array.isArray(object?.actions)\n        ? object.actions.map((e: any) => UserActionChain_UserAction.fromJSON(e))\n        : [],\n    };\n  },\n\n  toJSON(message: UserActionChain): unknown {\n    const obj: any = {};\n    if (message.customer !== undefined) {\n      obj.customer = CustomerProfile.toJSON(message.customer);\n    }\n    if (message.actions?.length) {\n      obj.actions = message.actions.map((e) => UserActionChain_UserAction.toJSON(e));\n    }\n    return obj;\n  },\n\n  create<I extends Exact<DeepPartial<UserActionChain>, I>>(base?: I): UserActionChain {\n    return UserActionChain.fromPartial(base ?? ({} as any));\n  },\n  fromPartial<I extends Exact<DeepPartial<UserActionChain>, I>>(object: I): UserActionChain {\n    const message = createBaseUserActionChain();\n    message.customer = (object.customer !== undefined && object.customer !== null)\n      ? CustomerProfile.fromPartial(object.customer)\n      : undefined;\n    message.actions = object.actions?.map((e) => UserActionChain_UserAction.fromPartial(e)) || [];\n    return message;\n  },\n};\n\nfunction createBaseUserActionChain_UserAction(): UserActionChain_UserAction {\n  return { action: \"\", actionTime: 0, subChannel: \"\", sessionId: \"\" };\n}\n\nexport const UserActionChain_UserAction = {\n  encode(message: UserActionChain_UserAction, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {\n    if (message.action !== \"\") {\n      writer.uint32(10).string(message.action);\n    }\n    if (message.actionTime !== 0) {\n      writer.uint32(16).int64(message.actionTime);\n    }\n    if (message.subChannel !== \"\") {\n      writer.uint32(26).string(message.subChannel);\n    }\n    if (message.sessionId !== \"\") {\n      writer.uint32(34).string(message.sessionId);\n    }\n    return writer;\n  },\n\n  decode(input: BinaryReader | Uint8Array, length?: number): UserActionChain_UserAction {\n    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseUserActionChain_UserAction();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag !== 10) {\n            break;\n          }\n\n          message.action = reader.string();\n          continue;\n        case 2:\n          if (tag !== 16) {\n            break;\n          }\n\n          message.actionTime = longToNumber(reader.int64());\n          continue;\n        case 3:\n          if (tag !== 26) {\n            break;\n          }\n\n          message.subChannel = reader.string();\n          continue;\n        case 4:\n          if (tag !== 34) {\n            break;\n          }\n\n          message.sessionId = reader.string();\n          continue;\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n\n  fromJSON(object: any): UserActionChain_UserAction {\n    return {\n      action: isSet(object.action) ? globalThis.String(object.action) : \"\",\n      actionTime: isSet(object.actionTime) ? globalThis.Number(object.actionTime) : 0,\n      subChannel: isSet(object.subChannel) ? globalThis.String(object.subChannel) : \"\",\n      sessionId: isSet(object.sessionId) ? globalThis.String(object.sessionId) : \"\",\n    };\n  },\n\n  toJSON(message: UserActionChain_UserAction): unknown {\n    const obj: any = {};\n    if (message.action !== \"\") {\n      obj.action = message.action;\n    }\n    if (message.actionTime !== 0) {\n      obj.actionTime = Math.round(message.actionTime);\n    }\n    if (message.subChannel !== \"\") {\n      obj.subChannel = message.subChannel;\n    }\n    if (message.sessionId !== \"\") {\n      obj.sessionId = message.sessionId;\n    }\n    return obj;\n  },\n\n  create<I extends Exact<DeepPartial<UserActionChain_UserAction>, I>>(base?: I): UserActionChain_UserAction {\n    return UserActionChain_UserAction.fromPartial(base ?? ({} as any));\n  },\n  fromPartial<I extends Exact<DeepPartial<UserActionChain_UserAction>, I>>(object: I): UserActionChain_UserAction {\n    const message = createBaseUserActionChain_UserAction();\n    message.action = object.action ?? \"\";\n    message.actionTime = object.actionTime ?? 0;\n    message.subChannel = object.subChannel ?? \"\";\n    message.sessionId = object.sessionId ?? \"\";\n    return message;\n  },\n};\n\ntype Builtin = Date | Function | Uint8Array | string | number | boolean | undefined;\n\nexport type DeepPartial<T> = T extends Builtin ? T\n  : T extends globalThis.Array<infer U> ? globalThis.Array<DeepPartial<U>>\n  : T extends ReadonlyArray<infer U> ? ReadonlyArray<DeepPartial<U>>\n  : T extends {} ? { [K in keyof T]?: DeepPartial<T[K]> }\n  : Partial<T>;\n\ntype KeysOfUnion<T> = T extends T ? keyof T : never;\nexport type Exact<P, I extends P> = P extends Builtin ? P\n  : P & { [K in keyof P]: Exact<P[K], I[K]> } & { [K in Exclude<keyof I, KeysOfUnion<P>>]: never };\n\nfunction longToNumber(int64: { toString(): string }): number {\n  const num = globalThis.Number(int64.toString());\n  if (num > globalThis.Number.MAX_SAFE_INTEGER) {\n    throw new globalThis.Error(\"Value is larger than Number.MAX_SAFE_INTEGER\");\n  }\n  if (num < globalThis.Number.MIN_SAFE_INTEGER) {\n    throw new globalThis.Error(\"Value is smaller than Number.MIN_SAFE_INTEGER\");\n  }\n  return num;\n}\n\nfunction isSet(value: any): boolean {\n  return value !== null && value !== undefined;\n}\n","// @flow\r\nimport * as React from 'react';\r\nimport {SvgIconProps} from \"@mui/material/SvgIcon\";\r\nimport ApiIcon from '@mui/icons-material/Api';\r\nimport AccessibilityNewIcon from '@mui/icons-material/AccessibilityNew';\r\nimport ListAltIcon from '@mui/icons-material/ListAlt';\r\nimport RouteIcon from '@mui/icons-material/Route';\r\nimport PowerIcon from '@mui/icons-material/Power';\r\nimport {Tooltip} from \"../../../component/wrapper/MuiWrappers\";\r\nimport ErrorIcon from '@mui/icons-material/Error';\r\n\r\ntype SubChannelViewerProps = {\r\n  subChannel: string;\r\n} & SvgIconProps;\r\n\r\nconst SubChannelViewer = ({subChannel, ...rest}: SubChannelViewerProps) => {\r\n  const getIcon = (subChannel: string) => {\r\n    switch (subChannel) {\r\n      case \"api_call\":\r\n        return <ApiIcon {...rest}/>;\r\n      case \"dialog\":\r\n        return <ListAltIcon {...rest}/>;\r\n      case \"route\":\r\n        return <RouteIcon {...rest}/>;\r\n      case \"websocket\":\r\n        return <PowerIcon {...rest}/>;\r\n      case \"api_error\":\r\n        return <ErrorIcon {...rest}/>;\r\n      default:\r\n        return <AccessibilityNewIcon {...rest}/>;\r\n    }\r\n  }\r\n  return <Tooltip title={subChannel} enableTranslate={false}>{getIcon(subChannel)}</Tooltip>;\r\n};\r\n\r\nexport default SubChannelViewer;\r\n","// @flow\r\nimport * as React from 'react';\r\nimport {UserActionChain_UserAction} from \"../../../proto/framework/analytics/AnalyticMessage\";\r\nimport {Divider, Stack, StackProps} from \"@mui/material\";\r\nimport {Typography} from \"../../../component/wrapper/MuiWrappers\";\r\nimport SubChannelViewer from \"./SubChannelViewer\";\r\n\r\ntype Props = {\r\n  userAction: UserActionChain_UserAction;\r\n} & StackProps;\r\nconst UserActionViewer = ({userAction, sx, ...rest}: Props) => {\r\n  return <Stack direction={\"column\"} width={\"100%\"} spacing={1} sx={{...sx}} {...rest}>\r\n    <Stack direction={\"row\"} justifyContent={\"flex-start\"} spacing={1} alignItems={\"center\"}>\r\n      <SubChannelViewer subChannel={userAction.subChannel} fontSize={\"large\"}/>\r\n      <Typography\r\n          enableTranslate={false} variant={\"h6\"}>{new Date(userAction.actionTime).toLocaleString()}</Typography>\r\n      <Typography enableTranslate={false} variant={\"caption\"}>{userAction.sessionId}</Typography>\r\n    </Stack>\r\n    <Stack direction={\"row\"} justifyContent={\"flex-start\"} spacing={1}>\r\n    <Typography enableTranslate={false} enableLinkify={true} textAlign={\"left\"}>{userAction.action}</Typography>\r\n    </Stack>\r\n    <Divider/>\r\n  </Stack>\r\n};\r\n\r\nexport default UserActionViewer;","// @flow\r\nimport * as React from 'react';\r\nimport {UserActionChain} from \"../../../proto/framework/analytics/AnalyticMessage\";\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport {Stack, StackProps} from \"@mui/material\";\r\n\r\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport {Typography} from \"../../../component/wrapper/MuiWrappers\";\r\nimport ProfileAvatar from \"../../customer/component/ProfileAvatar\";\r\nimport ListComponent from \"../../../component/container/ListComponent\";\r\nimport UserActionViewer from \"./UserActionViewer\";\r\nimport {get_customer_url} from \"../../../navigation/routerUtil\";\r\n\r\ntype Props = {\r\n  userActionChain: UserActionChain;\r\n} & StackProps;\r\n\r\nconst UserActionChainViewer = ({userActionChain, sx, ...rest}: Props) => {\r\n\r\n  const start = new Date(userActionChain.actions[0].actionTime);\r\n  const end = new Date(userActionChain.actions[userActionChain.actions.length - 1].actionTime);\r\n  const total = userActionChain.actions.length;\r\n\r\n  return <Stack width={\"100%\"} sx={{...sx}} {...rest}>\r\n    <Accordion variant={\"outlined\"}  slotProps={{ transition: { timeout: total > 10 ? 0 : 200 }}}>\r\n      <AccordionSummary\r\n          expandIcon={<ArrowDownwardIcon/>}\r\n          aria-controls=\"panel1-content\"\r\n          id=\"panel1-header\"\r\n      >\r\n        <Stack direction={\"row\"} alignItems={\"center\"} spacing={2}>\r\n          <ProfileAvatar title={userActionChain.customer?.name}\r\n                         profileLink={get_customer_url(userActionChain.customer?.id)}\r\n                         avatarUrl={userActionChain.customer?.avatarUrl}/>\r\n          <Typography justifyContent={\"start\"}  enableTranslate={false}\r\n          > {userActionChain.customer?.name}:</Typography>\r\n          <Typography\r\n              justifyContent={\"start\"}  enableTranslate={false}> {start.toLocaleString()} - {end.toLocaleString()}</Typography>\r\n          <Typography\r\n              justifyContent={\"start\"} enableTranslate={false}> {userActionChain.actions.length} </Typography>\r\n        </Stack>\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <Stack direction={\"column\"} spacing={2}>\r\n          <ListComponent data={userActionChain.actions} renderItem={(action, index) => {\r\n            return <UserActionViewer userAction={action} key={index}/>;\r\n          }}/>\r\n        </Stack>\r\n      </AccordionDetails>\r\n    </Accordion>\r\n\r\n  </Stack>\r\n};\r\n\r\nexport default UserActionChainViewer;","import * as React from 'react';\r\nimport {Stack, StackProps} from \"@mui/material\";\r\nimport dayjs, {Dayjs} from 'dayjs';\r\nimport {DateTimePicker} from '@mui/x-date-pickers/DateTimePicker';\r\nimport {useTranslation} from \"react-i18next\";\r\nimport {Button, LoadingButton, TextField} from \"../../component/wrapper/MuiWrappers\";\r\nimport {queryUserAction} from \"./AnalyticService\";\r\nimport {UserActionChain} from \"../../proto/framework/analytics/AnalyticMessage\";\r\nimport AlertContext from \"../../context/AlertContext\";\r\nimport ListComponent from \"../../component/container/ListComponent\";\r\nimport UserActionChainViewer from \"./component/UserActionChainViewer\";\r\nimport {print} from \"../../api/util/Logging\";\r\nimport {useAppSelector} from \"../../api/redux/hooks\";\r\nimport {selectLoginResponse} from \"../../api/redux/slice/SettingSlice\";\r\n\r\ntype AnalyticWidgetProps = {} & StackProps;\r\nconst AnalyticWidget = ({sx, ...rest}: AnalyticWidgetProps) => {\r\n  const {t} = useTranslation();\r\n  const loginResponse = useAppSelector(selectLoginResponse);\r\n  const {showAlert} = React.useContext(AlertContext);\r\n  const [startDate, setStartDate] = React.useState<Dayjs | null>(dayjs('2024-01-01T00:00'));\r\n  const [endDate, setEndDate] = React.useState<Dayjs | null>(dayjs());\r\n  const [intervalMinutes, setIntervalMinutes] = React.useState<number>(5);\r\n  const [loading, setLoading] = React.useState<boolean>(false);\r\n  const [customerIds, setCustomerIds] = React.useState<string>(loginResponse?.userId || \"\");\r\n\r\n  const [userActionChains, setUserActionChains] = React.useState<UserActionChain[]>([]);\r\n\r\n  const query = () => {\r\n    setLoading(true);\r\n    const customerIdsArray = customerIds.length > 0 ? customerIds.split(\",\").map((id) => id.trim()) : [];\r\n    queryUserAction(customerIdsArray, startDate?.valueOf(), endDate?.valueOf(), intervalMinutes * 60 * 1000).then((res) => {\r\n      setUserActionChains(res.userActionChains);\r\n    }).catch((e) => {\r\n      showAlert(e.message, \"error\");\r\n    }).finally(() => {\r\n      setLoading(false);\r\n    });\r\n  }\r\n\r\n  return <Stack direction={\"column\"} spacing={2} sx={{...sx}} {...rest}>\r\n    <Stack direction={{\r\n      xs: 'column',\r\n      md: 'row',\r\n    }} spacing={{\r\n      xs: 1,\r\n      md: 2,\r\n    }} justifyContent={\"center\"}>\r\n      <TextField\r\n          label=\"Customer IDs\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          placeholder={\"id1, id2,...\"}\r\n          value={customerIds}\r\n          onChange={(e) => setCustomerIds(e.target.value)}\r\n      />\r\n\r\n      <DateTimePicker\r\n          label={t(\"Start Date\")}\r\n          value={startDate}\r\n          onChange={(newValue) => setStartDate(newValue)}\r\n      />\r\n\r\n      <DateTimePicker\r\n          label={t(\"End Date\")}\r\n          value={endDate}\r\n          onChange={(newValue) => setEndDate(newValue)}\r\n      />\r\n\r\n      <TextField\r\n          label=\"Interval (minutes)\"\r\n          type=\"number\"\r\n          variant=\"outlined\"\r\n          value={intervalMinutes}\r\n          onChange={(e) => setIntervalMinutes(parseInt(e.target.value))}\r\n      />\r\n\r\n      <LoadingButton loading={loading}\r\n                     variant={\"contained\"}\r\n                     onClick={query}\r\n\r\n      >{\"Query\"}</LoadingButton>\r\n    </Stack>\r\n\r\n    <Stack direction={\"column\"} spacing={1}>\r\n      <ListComponent data={userActionChains} renderItem={(item, index) => {\r\n        return <UserActionChainViewer userActionChain={item} key={index}/>\r\n      }}/>\r\n    </Stack>\r\n\r\n  </Stack>\r\n};\r\n\r\nexport default AnalyticWidget;","import {UserActionQuery, UserActionResponse} from \"../../proto/framework/analytics/AnalyticMessage\";\r\nimport {pb_pbPost} from \"../../api/util/MyDimensionClient\";\r\nimport {TimeRange} from \"../../proto/framework/QueryMessage\";\r\n\r\nconst aiChatAPIPrefix = '/api/v0/admin';\r\n\r\nexport const queryUserAction = (userIds: string[] = [], start?: number, end?: number, interval = 5 * 60 * 1000) => {\r\n  const userActionQuery = UserActionQuery.create();\r\n  const timeRange = TimeRange.create();\r\n  userActionQuery.userId = userIds;\r\n  if (start) {\r\n    timeRange.start = start;\r\n  }\r\n  if (end) {\r\n    timeRange.end = end;\r\n  }\r\n  userActionQuery.time = timeRange;\r\n  userActionQuery.interval = interval;\r\n  return pb_pbPost(aiChatAPIPrefix + \"/query_user_action\", UserActionQuery, UserActionResponse, userActionQuery);\r\n\r\n}"],"names":["UserActionQuery","encode","message","writer","arguments","length","undefined","BinaryWriter","v","userId","uint32","string","time","TimeRange","fork","join","interval","int64","decode","input","reader","BinaryReader","end","len","pos","tag","push","longToNumber","skip","fromJSON","object","globalThis","Array","isArray","map","e","String","isSet","Number","toJSON","_message$userId","obj","Math","round","create","base","fromPartial","_object$userId","_object$interval","UserActionResponse","userActionChains","UserActionChain","_message$userActionCh","_object$userActionCha","customer","CustomerProfile","actions","UserActionChain_UserAction","_message$actions","_object$actions","action","actionTime","subChannel","sessionId","_object$action","_object$actionTime","_object$subChannel","_object$sessionId","num","toString","MAX_SAFE_INTEGER","Error","MIN_SAFE_INTEGER","value","_ref","rest","_jsx","Tooltip","title","enableTranslate","children","ApiIcon","ListAltIcon","RouteIcon","PowerIcon","ErrorIcon","AccessibilityNewIcon","getIcon","userAction","sx","_jsxs","Stack","direction","width","spacing","justifyContent","alignItems","SubChannelViewer","fontSize","Typography","variant","Date","toLocaleString","enableLinkify","textAlign","Divider","_userActionChain$cust","_userActionChain$cust2","_userActionChain$cust3","_userActionChain$cust4","userActionChain","start","total","Accordion","slotProps","transition","timeout","AccordionSummary","expandIcon","ArrowDownwardIcon","id","ProfileAvatar","name","profileLink","get_customer_url","avatarUrl","AccordionDetails","ListComponent","data","renderItem","index","UserActionViewer","t","useTranslation","loginResponse","useAppSelector","selectLoginResponse","showAlert","React","AlertContext","startDate","setStartDate","dayjs","endDate","setEndDate","intervalMinutes","setIntervalMinutes","loading","setLoading","customerIds","setCustomerIds","setUserActionChains","xs","md","TextField","label","type","placeholder","onChange","target","DateTimePicker","newValue","parseInt","LoadingButton","onClick","query","userIds","userActionQuery","timeRange","pb_pbPost","aiChatAPIPrefix","queryUserAction","split","trim","valueOf","then","res","catch","finally","item","UserActionChainViewer"],"sourceRoot":""}