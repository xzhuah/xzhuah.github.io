"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[685],{14170:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(17392),l=i(36910),s=i(75270),r=i.n(s),a=i(65043),o=i(70579);const d=e=>{let{text:t,icon:i=(0,o.jsx)(l.A,{}),...s}=e;return(0,o.jsx)(n.A,{onClick:()=>r()(t instanceof Function?t():t),...s,children:i})},c=a.memo(d)},17685:(e,t,i)=>{i.r(t),i.d(t,{default:()=>G});var n=i(65043),l=i(67807),s=i(35475),r=i(43845),a=i(68957),o=i(83560),d=i(28079),c=i(27999),A=i(20043),x=i(53700),h=i(52792),u=i(24548),j=i(15189),p=i(22016),v=i(59662),g=i(70579);const m=(0,v.A)((0,g.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),C=(0,v.A)((0,g.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var b=i(64456),w=i(75019),f=i(67649),y=i(17481),S=i(29479);const E=e=>{let{engine:t,sx:i,...n}=e;return(0,g.jsx)(r.A,{label:(0,x.$f)(t),sx:{backgroundColor:(0,x.Uz)(t),color:"white",...i},...n})},k=e=>{let{type:t,sx:i,...n}=e;return(0,g.jsx)(r.A,{label:(0,x.mZ)(t),sx:{backgroundColor:(0,x.U6)(t),color:"white",...i},...n})},z=e=>{let{version:t,sx:i,...n}=e;return(0,g.jsx)(r.A,{label:t,avatar:(0,g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsSAAALEgHS3X78AAAC0ElEQVR4nOyWX0hTURzHNSEpKqUeCh+KXlYZ0p+XoqCHniLClwJjkeFDjxH1lpDlimKmMiT6Q2TW0nJrrISg1ZjlkP7YH6dRbiFl5Zqrbe7/n7b763fP7sbxdDe9biwCf/DhXu45fL/fc+45596iorn6n8txcnExshmp+FcBbiGAcIgSKSl0gNtCgBS9yPJCBliA3GFCjCPbCxZCCFIvvIZUiN/IsUKHqEZ8zGxokEWzEVuIdCKTSFwCHBOA5yNSKTXACRGhXAgg+6UE2IZ8ynMInnqpM1GCzBPgD50yRM8KOy+sAb9RAeEhLcS+viJX/5NGcDbJ2ACcpJlgwlQhtimCp8ohYDoHXCwEYsU/92O7o6GMDhFGtko1P4gE2ZEHzCpilOA4uNdrgVpFF+w8cplctaZBiCc40h7oa2Vnon+mxqXIFbH36emsSY4SPY63PQBZzfm/OKrSk3a+POp9rMba6cxXIQOZFlR4WEeEjQM2UfMUhpcjpF/YomE1mrOZ70JcGVdzwxLgwl4irGh/nDXA6euG5GsKulgdq5gxv9obkQTT2cNuy4R3nAi3ac1ZA6i6+0i/uGeMDWBnzZchj0RGPILIkIf08+iXfiJs+/YT1h9oEjWvlCvBOuYk/aKjT1ndUdp8KfJZxJwPVC70aaHbJjV16e3WY34PGw+1TDHfUNsM+mfD6T6eLjmrraMDdIiYtzqoHwy838Gug4jVkDb44fJBt/EdKNUmuItX+y9vui3yoUdsLcnpAPephihSl2Fx6miRibMVEHp9Q/QQSlXwxVWYOLOCNX+OFNPCmwTxS0hVlt2xGomwo3F3VEPozU2I2QeBi/gg9v0tCeZu3y02cv443pJxC05XjuTPRy4fpIuzNqdC7EXcEo35o/xwzuZUiJWIeYbmFmRd3sypEPzneg9yzZH8UvoFwxC/zxG1MFuleTfPEmp+wczmKh/1BwAA//+6kLAWAAAABklEQVQDAAGbexFZ49vVAAAAAElFTkSuQmCC",alt:"Blender",style:{width:24,height:24}}),sx:{backgroundColor:"#214C93",color:"white",...i},...n})};var I=i(78436),D=i(14170),F=i(46189),H=i(52966),U=i(44123),Z=i(52945),V=i(74117);const G=e=>{var t,i,v,G;const[T,N]=(0,s.ok)(),M=(0,H.uj)(),{t:P}=(0,V.Bd)(),{showAlert:X}=n.useContext(y.A),[L,R]=n.useState(void 0),[B,O]=n.useState(!1),[Y,J]=n.useState(0),[K,Q]=n.useState(!1),[_,W]=n.useState(!1),[q,$]=n.useState(""),[ee,te]=n.useState(!1),[ie,ne]=n.useState(""),[le,se]=n.useState(!1),re=(0,H.LF)(null===L||void 0===L||null===(t=L.owner)||void 0===t?void 0:t.id),ae=e=>e?e.map((e=>"#"+e)).join(" "):"",oe=()=>JSON.stringify({node_tree_id:null===L||void 0===L?void 0:L.id,node_tree_type:null===L||void 0===L?void 0:L.type});return(0,n.useEffect)((()=>{const e=T.get("id");e&&(0,a.Jf)(e).then((e=>{R(e),O((0,x.lF)(e)),J((0,x.D_)(e)),$(ae(e.tags)),ne(e.description)})).catch((e=>{X(e.message,"error")}))}),[T,le]),L?(0,g.jsxs)(l.A,{spacing:1,children:[(0,g.jsxs)(l.A,{direction:{xs:"column",md:"row"},spacing:1,justifyContent:"space-around",children:[(0,g.jsx)(d.o5,{variant:"h4",children:L.name}),(0,g.jsxs)(l.A,{direction:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",rowGap:1,spacing:1,children:[(0,g.jsxs)(s.N_,{to:(0,u.$Z)("","","",L.engine),children:[" ",(0,g.jsx)(E,{engine:L.engine})]}),(0,g.jsx)(s.N_,{to:(0,u.$Z)("","",L.type,""),children:(0,g.jsx)(k,{type:L.type})}),(0,g.jsx)(z,{version:L.blenderVersion}),(0,g.jsx)(h.A,{avatarUrl:null===(i=L.owner)||void 0===i?void 0:i.avatarUrl,title:null===(v=L.owner)||void 0===v?void 0:v.name,sx:{width:32,height:32},profileLink:(0,u.$Z)("",null===(G=L.owner)||void 0===G?void 0:G.id,"","")}),(0,g.jsx)(r.A,{label:(0,j.FL)(L.updateAt),variant:"outlined"}),re&&(0,g.jsx)(r.A,{label:(0,g.jsx)(m,{fontSize:"small"}),title:"Delete",sx:{backgroundColor:"red",color:"white",borderRadius:0},onClick:()=>{(0,a.YQ)(L.id).then((()=>{M((0,u.$Z)())}))},variant:"filled"})]})]}),_?(0,g.jsx)(I.A,{value:q,clearAction:()=>{W(!1),$(ae(L.tags))},placeholder:"#tag1 #tag2",setValue:$,onSubmit:()=>{(0,a.Zg)(L.id,(e=>e.split(" #").map((e=>e.trim().replace("#",""))).filter((e=>e.length>0)))(q)).then((()=>{se(!le)})).catch((e=>{X(e.message,"error")})),W(!1)}}):(0,g.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",rowGap:1,children:[(0,g.jsx)(S.A,{data:[...L.tags],renderItem:(e,t)=>(0,g.jsx)(s.N_,{to:(0,u.$Z)(e,"","",""),children:(0,g.jsx)(r.A,{label:e,sx:{margin:.5},variant:"outlined"})},t+e)}),re&&(0,g.jsx)(r.A,{label:(0,g.jsx)(o.A,{fontSize:"small"}),onClick:()=>{W(!0)},variant:"outlined"})]}),(0,g.jsxs)(l.A,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,children:[(0,g.jsxs)(Z.A,{index:void 0===L.avatarUrl?0:1,children:[(0,g.jsx)(U.j,{type:L.type,height:"70dvh"}),(0,g.jsx)(p.A,{src:L.avatarUrl,sx:{width:"100%",maxHeight:"70dvh",objectFit:"contain"},skeletonSx:{height:"70dvh"}})]}),re&&(0,g.jsx)(r.A,{label:(0,g.jsx)(o.A,{fontSize:"small"}),onClick:async()=>{(await(0,F.Ye)("EditNodeTreeAvatarDialog",{nodeTreeId:L.id,avatarUrl:L.avatarUrl,type:null===L||void 0===L?void 0:L.type})).success&&se(!le)},variant:"outlined"})]}),ee?(0,g.jsx)(I.A,{value:ie,placeholder:"Description about the node tree",setValue:ne,onSubmit:()=>{(0,a.ub)(L.id,ie).then((()=>{se(!le)})).catch((e=>{X(e.message,"error")})),te(!1)},clearAction:()=>{te(!1),ne(L.description)}}):(0,g.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(d.o5,{enableLinkify:!0,variant:"body1",flexGrow:1,textAlign:"start",children:0===L.description.length?"No Description about this NodeTree":L.description}),re&&(0,g.jsx)(r.A,{label:(0,g.jsx)(o.A,{fontSize:"small"}),title:"Edit Description",onClick:()=>{te(!0)},variant:"outlined"})]}),(0,g.jsxs)(l.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,g.jsx)(r.A,{onClick:()=>{K||(Q(!0),B?(0,a.Pp)(L.id).then((()=>{O(!1),J(Y-1)})).catch((e=>{X(e.message,"error")})).finally((()=>{Q(!1)})):(0,a.S9)(L.id).then((()=>{O(!0),J(Y+1)})).catch((e=>{X(e.message,"error")})).finally((()=>{Q(!1)})))},variant:"filled",color:B?"primary":"default",sx:{borderRadius:0},icon:B?(0,g.jsx)(b.A,{}):(0,g.jsx)(w.A,{}),label:(0,f.Hd)(Y)}),(0,g.jsx)(I.A,{value:oe(),onSubmit:()=>{},setValue:e=>{},sx:{flexGrow:1},disabled:!0,size:"small",variant:"standard",endAdornment:(0,g.jsx)(D.A,{text:oe()})}),(0,g.jsx)(r.A,{onClick:()=>{(0,F.Dh)("NodeTreeHelperDialog")},variant:"filled",color:"info",icon:(0,g.jsx)(C,{}),sx:{borderRadius:0},label:P("How to use")})]}),(0,g.jsx)(A.A,{objectId:L.id,targetType:c.vt.RESOURCE_TYPE_NODE_TREE,canDelete:re,paddingTop:8})]}):(0,g.jsx)(l.A,{})}},36910:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(59662),l=i(70579);const s=(0,n.A)((0,l.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},83560:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(59662),l=i(70579);const s=(0,n.A)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=685.0855e55d.chunk.js.map