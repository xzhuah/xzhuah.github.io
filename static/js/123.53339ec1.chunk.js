"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[123],{33123:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var n=i(65043),l=i(10624),o=i(58711),s=i(22717),r=i(53402),u=i(15142),a=i(58014),c=i(76877),m=i(29408),d=i(70579);l.H.preload(u.a,"/mmd/tda/Tda\u5f0f\u521d\u97f3\u30df\u30afV4X_Ver1.00.pmx");const h=e=>{let{modelUrl:t="",vmdUrl:i=""}=e;const o=(0,n.useRef)(),s=(0,n.useRef)(null),r=(0,l.H)(u.a,t);return(0,n.useEffect)((()=>{if(!r||!i)return;const e=new c.$;s.current=e;return(new u.a).loadAnimation(i,r,(t=>{e.add(r,{animation:t})})),()=>{s.current=null}}),[r,i]),(0,l.F)(((e,t)=>{s.current&&s.current.update(t)})),(0,d.jsx)(a.Ux,{colliders:"cuboid",density:2,children:(0,d.jsx)("primitive",{ref:o,object:r,dispose:null,scale:[.25,.25,.25],position:[0,-3,0]})})},f=()=>{const e=(0,n.useRef)(),t=(0,n.useRef)(),i=(0,n.useRef)(),{lightColor:l,lightIntensity:o,lightPosition:u}=(0,r._5)({lightColor:{value:"white",label:"Light Color"},lightIntensity:{value:1,label:"Light Intensity",min:0,max:10},lightPosition:{value:[0,0,2],label:"Light Position"}}),c=(0,n.useRef)(),{ambientLightColor:m,ambientLightIntensity:f}=(0,r._5)({ambientLightColor:{value:"white",label:"Ambient Light Color"},ambientLightIntensity:{value:.4,label:"Ambient Light Intensity",min:0,max:10}});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("pointLight",{ref:t,color:"purple",intensity:60,position:[-3,2,-3]}),(0,d.jsx)("pointLight",{ref:i,color:"blue",intensity:30,position:[3,2,-1]}),(0,d.jsx)("directionalLight",{position:u,ref:e,color:l,intensity:o}),(0,d.jsx)("ambientLight",{intensity:f,color:m,ref:c}),(0,d.jsx)(a.AQ,{gravity:[0,0,0],colliders:"ball",children:(0,d.jsx)(h,{modelUrl:"/mmd/\u539f\u795e-\u523b\u6674/\u523b\u6674.pmx",vmdUrl:"/mmd/motion/jimingyue-motion.vmd"})}),(0,d.jsx)(s.N,{})]})},g=e=>{const[t,i]=(0,n.useState)(null),s=(0,n.useRef)(null),r=(0,l.H)(m.AudioLoader,"/mmd/music/\u5bc4\u660e\u6708.mp3");(0,n.useEffect)((()=>{if(r){const e=new m.Audio(new m.AudioListener);e.setBuffer(r),e.setLoop(!0),e.setVolume(.5),i(e)}}),[r]),(0,n.useEffect)((()=>{t&&(s.current=t,t.play())}),[t]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Hl,{className:"threeD",style:{backgroundColor:"black",height:"100svh",width:"100wvh"},children:(0,d.jsx)(f,{})}),(0,d.jsx)("button",{onClick:()=>{t&&t.play()},children:"Play Audio"}),(0,d.jsx)("button",{onClick:()=>{t&&t.stop()},children:"Stop Audio"})]})}}}]);
//# sourceMappingURL=123.53339ec1.chunk.js.map