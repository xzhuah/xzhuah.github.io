"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[551],{5551:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Xe});var i=n(5043),o=n(9479),s=n(6964),l=n(7807),r=n(2437),a=n(1449),c=n(6970),d=n(8738),u=n(579);const h=e=>{let{menuItems:t,children:n,...s}=e;const[d,h]=i.useState(null),p=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),h(null===d?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}),[]),x=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),h(null===d?{mouseX:e.clientX>window.screen.width/2?e.clientX-200:e.clientX+100,mouseY:e.clientY-6}:null)}),[]),m=(0,c.HZ)(x,{threshold:500}),g=()=>{h(null)};return 0===t.length?(0,u.jsx)(l.A,{...s,children:n}):(0,u.jsxs)(l.A,{onContextMenu:p,...m(),...s,children:[n,(0,u.jsx)(r.A,{open:null!==d,onClose:g,anchorReference:"anchorPosition",anchorPosition:null!==d?{top:d.mouseY,left:d.mouseX}:void 0,children:(0,u.jsx)(o.A,{data:t,renderItem:(e,t)=>"a"===e.type?(0,u.jsx)("a",{href:e.props.href,style:e.props.style,target:e.props.target,download:e.props.download,rel:e.props.rel,onClick:e=>{g(),e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},children:(0,u.jsx)(a.A,{children:e.props.children},t)}):(0,u.jsx)(a.A,{onClick:e=>{g()},children:e},t)})})]})},p=e=>{let{menuItems:t,children:n,...s}=e;const[c,d]=i.useState(null),h=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),d(null===c?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}),[]),p=()=>{d(null)};return 0===t.length?(0,u.jsx)(l.A,{...s,children:n}):(0,u.jsxs)(l.A,{onContextMenu:h,...s,children:[n,(0,u.jsx)(r.A,{open:null!==c,onClose:p,anchorReference:"anchorPosition",anchorPosition:null!==c?{top:c.mouseY,left:c.mouseX}:void 0,children:(0,u.jsx)(o.A,{data:t,renderItem:(e,t)=>"a"===e.type?(0,u.jsx)("a",{href:e.props.href,style:e.props.style,target:e.props.target,download:e.props.download,rel:e.props.rel,onClick:e=>{p(),e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},children:(0,u.jsx)(a.A,{children:e.props.children},t)}):(0,u.jsx)(a.A,{onClick:e=>{p()},children:e},t)})})]})},x=e=>{let{menuItems:t,enableLongPress:n=d.Fr,children:i,...o}=e;return n?(0,u.jsx)(h,{menuItems:t,children:i,...o}):(0,u.jsx)(p,{menuItems:t,children:i,...o})};var m=n(9820),g=n(8400),j=n(1954),f=n(4571),v=n(9017),A=n(3360),b=n(3859),y=n(3654),C=n(409),I=n(8725),k=n(6863),P=n(7669);const F=e=>{let{contentType:t,isFolder:n=!1,isPublic:i=!1,...o}=e;if(n)return(0,u.jsx)(g.A,{...o});if(!t)return(0,u.jsx)(j.A,{...o});const s=t.includes("/")?t.split("/")[0]:t,l=t.includes("/")?t.split("/")[1]:"";switch(s){case"image":return(0,u.jsx)(v.A,{...o});case"text":switch(l){case"css":return(0,u.jsx)(I.A,{...o});case"javascript":return(0,u.jsx)(k.A,{...o});case"html":return(0,u.jsx)(P.A,{...o});default:return(0,u.jsx)(A.A,{...o})}case"video":return(0,u.jsx)(b.A,{...o});case"audio":return(0,u.jsx)(y.A,{...o});case"font":return(0,u.jsx)(C.A,{...o});default:return(0,u.jsx)(f.A,{...o})}};var S=n(3300),D=n(8346),w=n(8558),M=n(8640),T=n(8446);const B=e=>{var t;let{fileItem:n,openAction:i}=e;return(0,u.jsx)(T.A,{target:n.isFolder?void 0:d.Fr?"_self":"_blank",onContextMenu:e=>{n.isFolder||e.stopPropagation()},href:n.url||(null===(t=n.fileMetaData)||void 0===t?void 0:t.url)||void 0,component:"a",onClick:e=>{n.isFolder&&(e.stopPropagation(),null===i||void 0===i||i(n))},children:n.name})},z=e=>{var t,n,i,o;let{fileItem:s,selected:r,menuItems:a,openAction:c,...h}=e;const p=s.isFolder,g=s.isPublic;return(0,u.jsxs)(x,{direction:"row",spacing:1,alignItems:"center",textAlign:"start",menuItems:null!==a&&void 0!==a?a:[],enableLongPress:d.Fr,sx:{backgroundColor:r?"rgba(194, 231, 255,1)":"transparent",paddingY:1.5,paddingX:2,"&:hover":{backgroundColor:r?"rgba(194, 231, 255,1)":"rgba(0, 0, 0, 0.1)"}},...h,children:[(0,u.jsx)(m.A,{up:"md",children:(0,u.jsxs)(l.A,{direction:"row",spacing:1,alignItems:"center",className:"pointer",flexGrow:1,children:[(0,u.jsx)(F,{isFolder:p,contentType:null===(t=s.fileMetaData)||void 0===t?void 0:t.contentType,isPublic:g,color:r?"primary":"inherit"}),(0,u.jsx)(S.o5,{variant:"body1",enableTranslate:!1,flexGrow:1,children:(0,u.jsx)(B,{fileItem:s,openAction:c})}),(0,u.jsx)(S.o5,{variant:"body1",enableTranslate:!1,flexBasis:"100px",children:(0,D.ti)(s)}),(0,u.jsx)(S.o5,{variant:"body1",enableTranslate:!1,flexBasis:"200px",children:(0,D.BP)(s.lastModifiedDate)}),(0,u.jsx)(S.o5,{variant:"body1",enableTranslate:!1,flexBasis:"100px",children:(0,D.Uh)(null===(n=s.fileMetaData)||void 0===n?void 0:n.sizeInBytes)}),(0,u.jsx)(S.o5,{variant:"body1",enableTranslate:!1,flexBasis:"100px",children:(0,D.Ze)(s.isPublic)})]})}),(0,u.jsx)(m.A,{down:"md",children:(0,u.jsxs)(l.A,{direction:"row",spacing:2,alignItems:"center",className:"pointer",flexGrow:1,children:[(0,u.jsx)(F,{isFolder:p,contentType:null===(i=s.fileMetaData)||void 0===i?void 0:i.contentType,isPublic:g,fontSize:"large",color:r?"primary":"inherit"}),(0,u.jsxs)(l.A,{direction:"column",spacing:1,flexGrow:1,children:[(0,u.jsxs)(S.o5,{variant:"body1",enableTranslate:!1,flexGrow:1,children:[" ",(0,u.jsx)(B,{fileItem:s,openAction:c})]}),(0,u.jsxs)(l.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,u.jsx)(S.o5,{variant:"caption",enableTranslate:!1,children:(0,D.BP)(s.lastModifiedDate)}),(0,u.jsx)(S.o5,{variant:"caption",enableTranslate:!1,children:(0,D.Uh)(null===(o=s.fileMetaData)||void 0===o?void 0:o.sizeInBytes)}),(0,u.jsx)(S.o5,{variant:"caption",enableTranslate:!1,children:(0,D.Ze)(s.isPublic)})]})]})]})}),a&&a.length>0&&d.Fr&&(0,u.jsx)(M.A,{icon:(0,u.jsx)(w.A,{}),sx:{borderRadius:"500px"},menuAlign:"right",stopPropagation:!0,menuItems:a})]})};var X=n(2135),Y=n(3933),L=n(1007),E=n(8584);const O=e=>{var t,n,i;let{fileItem:o,selected:s,menuItems:l,iconSize:r=6,openAction:a,...c}=e;const h=o.isFolder,p=o.isPublic;return(0,u.jsx)(x,{direction:"column",spacing:1,alignItems:"center",textAlign:"center",flexShrink:1,enableLongPress:d.Fr,menuItems:null!==l&&void 0!==l?l:[],sx:{backgroundColor:s?"rgba(194, 231, 255,1)":"transparent",paddingY:1,paddingX:1.5,borderRadius:1,"&:hover":{backgroundColor:s?"rgba(194, 231, 255,1)":"rgba(0, 0, 0, 0.1)"}},title:`${(0,D.BP)(o.lastModifiedDate)}\n${(0,D.Uh)(null===(t=o.fileMetaData)||void 0===t?void 0:t.sizeInBytes)}\n${(0,D.Ze)(o.isPublic)}`,...c,children:(0,u.jsxs)(X.A,{children:[(0,u.jsx)(Y.A,{sx:{"& .MuiBadge-badge":{height:4*r,minWidth:3*r}},badgeContent:d.Fr&&l&&l.length>0?(0,u.jsx)(M.A,{icon:(0,u.jsx)(w.A,{color:"success"}),menuAlign:"right",stopPropagation:!0,menuItems:l}):void 0,overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,u.jsx)(Y.A,{sx:{"& .MuiBadge-badge":{height:4*r,minWidth:3*r}},badgeContent:p?(0,u.jsx)(E.A,{sx:{fontSize:r/5+"rem"}}):(0,u.jsx)(L.A,{sx:{fontSize:r/5+"rem"}}),color:p?"success":"warning",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,u.jsx)(F,{isFolder:h,contentType:null===(n=o.fileMetaData)||void 0===n?void 0:n.contentType,isPublic:p,color:s?"primary":"inherit",sx:{fontSize:`${r}rem`}})})}),(0,u.jsx)(S.o5,{variant:"body1",enableTranslate:!1,flexGrow:1,children:(0,u.jsx)(B,{fileItem:o,openAction:a})}),(0,u.jsx)(S.o5,{variant:"caption",enableTranslate:!1,children:(0,D.Uh)(null===(i=o.fileMetaData)||void 0===i?void 0:i.sizeInBytes)})]})})};var V=n(893),N=n(2698),_=n(4598),R=n(1962),U=n(9336),G=n(5672),H=n(5475),W=n(3768),K=n(7481),Z=n(790),$=n(4548),q=n(2081);const J=e=>{let{folderId:t,title:n="Open",target:i="_blank",...o}=e;return(0,u.jsx)(Z.A,{icon:(0,u.jsx)(q.A,{}),onClick:()=>{window.open((0,$.y6)(t),i)},title:n,...o})};var Q=n(6947),ee=n(3817);const te=e=>{let{fileId:t,isPublic:n,onVisibilityChange:o,...s}=e;const{showAlert:l}=i.useContext(K.A);return(0,u.jsx)(Z.A,{icon:n?(0,u.jsx)(L.A,{}):(0,u.jsx)(ee.A,{}),onClick:()=>{(0,Q.bo)(t,!n).then((()=>{o()})).catch((e=>{l("Failed to change: "+e.message)}))},title:n?"UnShare":"Share",...s})},ne=e=>{let{fileId:t,onDelete:n,title:o="Delete",color:s="error",...l}=e;const{showAlert:r}=i.useContext(K.A);return(0,u.jsx)(Z.A,{icon:(0,u.jsx)(W.A,{color:s}),color:s,onClick:()=>{(0,Q.Ww)(t).then((()=>{n()})).catch((e=>{r("Failed to delete: "+e.message)}))},title:o,...l})};var ie=n(7404),oe=n(3850);const se=e=>{let{fileId:t,existingName:n,onRename:i,title:o="Rename",...s}=e;return(0,u.jsx)(Z.A,{icon:(0,u.jsx)(oe.A,{}),onClick:async()=>{(await(0,ie.Ye)(ie.VF.RenameDriverFileDialog,{filename:n,fileId:t})).success&&i()},title:o,...s})};var le=n(2236);const re=e=>{let{currentStatus:t,statusToContentButtonProps:n,onStatusChange:i,...o}=e;return(0,u.jsx)(M.A,{title:n[t].title,menuItems:Object.keys(n).map((e=>{const{onClick:t,...o}=n[e];return(0,u.jsx)(Z.A,{onClick:n=>{t&&t(n),i(e)},...o},e)})),...o})};var ae=n(465),ce=n(529);const de={stack:{title:"List",icon:(0,u.jsx)(ce.A,{})},grid:{title:"Grid",icon:(0,u.jsx)(ae.A,{})}},ue=e=>{let{currentLayout:t,onLayoutChange:n,...i}=e;return(0,u.jsx)(re,{currentStatus:t,statusToContentButtonProps:de,onStatusChange:e=>{n(e)},icon:de[t].icon,...i})},he=e=>{let{index:t,children:n}=e;if(t<0||t>=n.length)throw new Error("Invalid OneOf Index"+t+" > "+n.length);return n&&0!==n.length?(0,u.jsx)(u.Fragment,{children:n[t]}):(0,u.jsx)(u.Fragment,{})};var pe=n(3287),xe=n(7248),me=n(263),ge=n(8304),je=n(5701),fe=n(3632),ve=n(9131);const Ae={name:{title:"Name",icon:(0,u.jsx)(me.A,{})},type:{title:"Type",icon:(0,u.jsx)(ge.A,{})},time:{title:"Last Modified",icon:(0,u.jsx)(ve.A,{})},size:{title:"Size",icon:(0,u.jsx)(je.A,{})},visibility:{title:"Visibility",icon:(0,u.jsx)(fe.A,{})}},be=e=>{let{currentSorter:t,onSorterChange:n,...i}=e;return(0,u.jsx)(re,{currentStatus:t,statusToContentButtonProps:Ae,onStatusChange:e=>{n(e)},icon:Ae[t].icon,...i})},ye=(e,t,n,i)=>{var o,s,l,r;let a=0;if(e.isFolder&&!t.isFolder)return a=1,i?-a:a;if(!e.isFolder&&t.isFolder)return a=-1,i?-a:a;switch(n){case"size":a=((null===(o=e.fileMetaData)||void 0===o?void 0:o.sizeInBytes)||0)-((null===(s=t.fileMetaData)||void 0===s?void 0:s.sizeInBytes)||0);break;case"time":a=e.lastModifiedDate-t.lastModifiedDate;break;case"type":a=((null===(l=e.fileMetaData)||void 0===l?void 0:l.contentType)||"").localeCompare((null===(r=t.fileMetaData)||void 0===r?void 0:r.contentType)||"");break;case"visibility":a=e.isPublic?1:-1-(t.isPublic?1:-1);break;default:a=e.name.localeCompare(t.name)}return 0===a&&(a=e.id.localeCompare(t.id)),i?-a:a};var Ce=n(4117),Ie=n(7093),ke=n(9305),Pe=n(4843),Fe=n(1975),Se=n(8053),De=n(9753),we=n(6910),Me=n(5270),Te=n.n(Me);const Be=e=>{let{itemId:t,title:n="Copy Link",...i}=e;return(0,u.jsx)(Z.A,{icon:(0,u.jsx)(we.A,{}),onClick:()=>{Te()(window.location.host+(0,$.y6)(t))},title:n,...i})},ze=e=>{let{...t}=e;const[n,r]=(0,H.ok)(),[a,c]=i.useState(!1),h=n.get("id"),[p,x]=i.useState(s.Ee.create()),[g,j]=i.useState(!0),[f,v]=i.useState([]),[A,b]=i.useState([]),[y,C]=i.useState(!1),[I,k]=i.useState("name"),[P,F]=i.useState("/"),[w,B]=i.useState([]),[X,Y]=i.useState(void 0),L=(0,De.LF)(null===X||void 0===X?void 0:X.id),{showAlert:E}=i.useContext(K.A),{t:$}=(0,Ce.Bd)(),[q,ee]=i.useState("stack"),[oe,re]=i.useState(!1),[ae,ce]=i.useState(!1),de=(0,i.useRef)(null),me=A.length>0;(0,i.useEffect)((()=>{(0,Q.ly)(h).then((e=>{var t;x(e),b([]),null===(t=de.current)||void 0===t||t.setSelectedTargets([]),e.isFolder?""!==e.name?F(e.path+e.name+"/"):F("/"):F(e.path+e.name),Y(e.owner),j(e.isFolder),e.isFolder?v(e.children.sort(((e,t)=>ye(e,t,I,y)))):v([e])})).catch((e=>{E(e.message,"error")}))}),[h,a]),(0,i.useEffect)((()=>{if("/"===P)B([]);else{const e=P.endsWith("/")?P.slice(0,P.length-1):P;if("/"===e)return void B([]);const t=e.slice(1,e.lastIndexOf("/"));if(""===t)return void B([]);B(t.split("/"))}}),[P]),(0,i.useEffect)((()=>{v((e=>[...e].sort(((e,t)=>ye(e,t,I,y)))))}),[I,y]);const ge=[];p.isFolder&&L&&(ge.push((0,u.jsx)(Z.A,{disabled:!g,onMouseEnter:()=>{re(!0)},onMouseLeave:()=>{re(!1)},icon:(0,u.jsx)(xe.A,{}),title:"New Folder",onClick:e=>{e.stopPropagation(),(0,Pe.yy)(A),(0,ie.Ye)(ie.VF.NewFolderDialog,{filePath:P,public:p.isPublic}).then((e=>{e.data&&((0,Pe.yy)(e.data),v((t=>[...t,e.data])))})).catch((e=>{E(e.message,"error")}))}}),(0,u.jsx)(Z.A,{disabled:!g,icon:(0,u.jsx)(Ie.A,{}),title:"New Link File",onClick:()=>{(0,ie.Ye)(ie.VF.NewLinkFileDialog,{filePath:P,public:p.isPublic}).then((e=>{e.data&&v((t=>[...t,e.data]))})).catch((e=>{E(e.message,"error")}))}}),(0,u.jsx)(Z.A,{disabled:!g,icon:(0,u.jsx)(Fe.A,{}),title:"Upload",onClick:()=>{(0,ie.Ye)(ie.VF.DriverUploadDialog,{path:P,public:p.isPublic}).then((()=>{c(!a)})).catch((e=>{E(e.message,"error")}))}})),A.length>=1&&(ge.push((0,u.jsx)(Z.A,{icon:(0,u.jsx)(V.A,{}),title:"Move",onMouseEnter:()=>{re(!0)},onMouseLeave:()=>{re(!1)},onClick:()=>{(0,ie.Ye)(ie.VF.MoveDriverFileDialog,{fileId:A.map((e=>e.id)),currentPath:P}).then((e=>{e&&c(!a)}))}})),ge.push((0,u.jsx)(Z.A,{color:"error",icon:(0,u.jsx)(W.A,{}),title:"Delete",onMouseEnter:()=>{re(!0)},onMouseLeave:()=>{re(!1)},onClick:()=>{(0,Q.Ww)(A.map((e=>e.id))).then((()=>{c(!a)})).catch((e=>{E(e.message,"error")}))}}))));const je=e=>{e.isFolder?r({id:e.id}):window.open((0,D.TE)(e),d.Fr?"_self":"_blank")},fe=(e,t)=>{var n;let i;if(e.stopPropagation(),ae)if(e.shiftKey)if(0===A.length)i=[t];else{const e=[];let n=!1;for(let i=0;i<f.length;i++){const o=f[i];if((o===A[A.length-1]||o===t)&&(n=!n,!n)){A.includes(o)||e.push(o);break}n&&(A.includes(o)||e.push(o))}i=[...A,...e]}else i=A.includes(t)?A.filter((e=>e!==t)):[...A,t];else if(e.ctrlKey)i=A.includes(t)?A.filter((e=>e!==t)):[...A,t];else if(e.shiftKey)if(0===A.length)i=[t];else{const e=[];let n=!1;for(let i=0;i<f.length;i++){const o=f[i];if((o===A[A.length-1]||o===t)&&(n=!n,!n)){A.includes(o)||e.push(o);break}n&&(A.includes(o)||e.push(o))}i=[...A,...e]}else if(A.includes(t)){i=A.filter((e=>e!==t))}else i=[t];null===(n=de.current)||void 0===n||n.setSelectedTargets(i.map((e=>document.getElementById(e.id)))),b(i)},ve=e=>{const t=[];return e.isFolder&&t.push((0,u.jsx)(J,{folderId:e.id,target:d.Fr?"_self":"_blank"})),t.push((0,u.jsx)(Be,{itemId:e.id})),L&&(t.push((0,u.jsx)(te,{fileId:e.id,isPublic:e.isPublic,onVisibilityChange:()=>{E("Success","success"),c(!a)}})),t.push((0,u.jsx)(se,{fileId:e.id,existingName:e.name,onRename:()=>{E("Success","success"),c(!a)}})),t.push((0,u.jsx)(Z.A,{icon:(0,u.jsx)(V.A,{}),title:"Move",onClick:()=>{(0,ie.Ye)(ie.VF.MoveDriverFileDialog,{fileId:[e.id],currentPath:e.path}).then((e=>{e&&c(!a)}))}})),t.push((0,u.jsx)(ne,{fileId:e.id,onDelete:()=>{E("Success","success"),c(!a)}}))),t},Ae=e=>{if(e.isFolder){const t=A.filter((t=>t!==e)).map((e=>e.id));(0,Q.mV)(t,e.path+e.name+"/",e.isPublic).then((()=>{e.isPublic?E("Items are moved to a public folder","success"):E("Items are moved to a private folder","success"),c(!a)})).catch((e=>{E(e.message,"error")}))}};return(0,u.jsxs)(l.A,{direction:"column",minHeight:"78dvh",onClick:()=>{var e;(ae||me)&&(b([]),null===(e=de.current)||void 0===e||e.setSelectedTargets([]))},...t,children:[(0,u.jsxs)(N.A,{sx:{paddingX:1},children:[(0,u.jsx)(T.A,{onClick:()=>{r({})},onDragOver:e=>{e.preventDefault()},onDrop:e=>{const t=A.map((e=>e.id));(0,Q.mV)(t,"/").then((()=>{E("Items are moved to the root folder","success"),c(!a)})).catch((e=>{E(e.message,"error")}))},children:"Home:"}),w.length>0&&w.map(((e,t)=>(0,u.jsx)(T.A,{onClick:()=>{const n="/"+w.slice(0,t).join("/")+e;(0,Q.CK)(n,(null===X||void 0===X?void 0:X.id)||"").then((e=>{r({id:e})})).catch((e=>{E(e.message,"error")}))},onDragOver:e=>{e.preventDefault()},onDrop:n=>{const i=A.map((e=>e.id)),o="/"+w.slice(0,t).join("/")+e+"/";(0,Q.mV)(i,o).then((()=>{E("Items are moved to "+o,"success"),c(!a)})).catch((e=>{E(e.message,"error")}))},children:e},t))),p.name&&""!==p.name&&(0,u.jsx)(T.A,{children:p.name})]}),(0,u.jsxs)(l.A,{direction:"row",justifyContent:"start",marginY:2,spacing:1,alignItems:"center",children:[(0,u.jsx)(m.A,{up:"md",children:(0,u.jsx)(o.A,{data:ge,renderItem:(e,t)=>(0,u.jsx)(Z.A,{variant:"outlined",color:"primary",disableElevation:!0,...e.props},t)})}),(0,u.jsx)(m.A,{down:"md",children:(0,u.jsx)(Se.k,{show:ge.length>0,children:(0,u.jsx)(M.A,{icon:(0,u.jsx)(pe.A,{}),menuAlign:"left",menuItems:ge,stopPropagation:!0})})}),(0,u.jsx)(ue,{currentLayout:q,size:d.Fr?"small":"large",variant:"outlined",color:"primary",onLayoutChange:ee,stopPropagation:!0}),(0,u.jsx)(be,{currentSorter:I,stopPropagation:!0,size:d.Fr?"small":"large",variant:"outlined",color:"primary",icon:(0,u.jsx)(le.A,{}),onSorterChange:e=>{k(e),C(!y)}}),d.Fr&&(0,u.jsx)(S.ip,{value:"selecting",sx:{paddingX:-3,marginX:-3},control:(0,u.jsx)(_.A,{color:"primary",checked:ae,onClick:e=>{e.stopPropagation()},sx:{marginX:"-10px"},onChange:e=>{ce(!ae)}}),label:(0,u.jsx)(S.o5,{style:{marginBottom:"-10px",fontSize:"small"},children:"Select"}),labelPlacement:"top"}),d.Fr&&ae&&(0,u.jsx)(S.ip,{sx:{paddingX:-3,marginX:-3},value:"selectAll",control:(0,u.jsx)(R.A,{color:"primary",checked:A.length===f.length,onClick:e=>{e.stopPropagation()},sx:{marginX:"-10px"},onChange:e=>{var t,n;if(A.length===f.length)return b([]),void(null===(t=de.current)||void 0===t||t.setSelectedTargets([]));b([...f]),null===(n=de.current)||void 0===n||n.setSelectedTargets(f.map((e=>document.getElementById(e.id))))}}),label:(0,u.jsx)(S.o5,{style:{marginBottom:"-10px",fontSize:"small"},children:"All"}),labelPlacement:"top"})]}),(0,u.jsx)(ke.Ay,{ref:de,container:document.body,dragContainer:window,selectableTargets:[".target"],selectByClick:!1,selectFromInside:!0,preventClickEventOnDrag:!0,continueSelect:oe,toggleContinueSelect:[["shift"],["ctrl"]],keyContainer:window.document.querySelector(".select-zone"),dragCondition:e=>!me,hitRate:1,onSelect:e=>{if(ae)return;const t=[];for(const n of e.selected){const e=n.id,i=f.find((t=>t.id===e));i&&t.push(i)}b(t)}}),(0,u.jsxs)(he,{index:"stack"===q?0:1,children:[(0,u.jsx)(l.A,{direction:"column",children:(0,u.jsx)(o.A,{data:f,renderItem:(e,t)=>(0,u.jsxs)(l.A,{direction:"column",children:[(0,u.jsx)(z,{fileItem:e,id:e.id,selected:A.includes(e),className:"target",openAction:je,onClick:t=>{fe(t,e)},onDoubleClick:()=>{je(e)},menuItems:ve(e),draggable:me,onDragStart:e=>{},onDragOver:e.isFolder?e=>{e.preventDefault()}:void 0,onDrop:t=>{t.stopPropagation(),Ae(e)}}),(0,u.jsx)(U.A,{})]},e.id)})}),(0,u.jsx)(G.A,{container:!0,alignItems:"center",width:"fit-content",justifyContent:"start",children:(0,u.jsx)(o.A,{data:f,renderItem:(e,t)=>(0,u.jsx)(O,{fileItem:e,id:e.id,className:"target",selected:A.includes(e),onClick:t=>{t.stopPropagation(),fe(t,e)},onDoubleClick:()=>{je(e)},openAction:je,menuItems:ve(e),draggable:me,onDragStart:e=>{},onDragOver:e.isFolder?e=>{e.preventDefault()}:void 0,onDrop:t=>{(0,Pe.yy)("onDrop",t),t.stopPropagation(),Ae(e)}},e.id)})})]}),(0,u.jsx)(l.A,{direction:"column",justifyContent:"center",alignItems:"flex-start",marginTop:2,children:(0,u.jsxs)(he,{index:A.length>0?0:1,children:[(0,u.jsx)(S.o5,{variant:"body1",color:"textSecondary",textAlign:"center",enableTranslate:!1,children:A.length+" "+$("selected")+", "+(0,D.Uh)((0,D.mH)(A))}),(0,u.jsx)(S.o5,{variant:"body1",color:"textSecondary",textAlign:"center",enableTranslate:!1,children:f.length+" "+$("items")+", "+(0,D.Uh)((0,D.mH)(f))})]})})]})},Xe=i.memo(ze)}}]);
//# sourceMappingURL=551.ce211359.chunk.js.map