"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[979],{75424:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(65043),r=n(67807),s=n(45424),l=n(91449),i=n(29479),c=n(6970),a=n(8738),u=n(70579);const d=e=>{let{menuItems:t,children:n,...a}=e;const[d,x]=o.useState(null),p=(0,o.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),x(null===d?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}),[]),m=(0,o.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),x(null===d?{mouseX:e.clientX>window.screen.width/2?e.clientX-200:e.clientX+100,mouseY:e.clientY-6}:null)}),[]),h=(0,c.HZ)(m,{threshold:500}),v=()=>{x(null)};return 0===t.length?(0,u.jsx)(r.A,{...a,children:n}):(0,u.jsxs)(r.A,{onContextMenu:p,...h(),...a,children:[n,(0,u.jsx)(s.A,{open:null!==d,onClose:v,anchorReference:"anchorPosition",anchorPosition:null!==d?{top:d.mouseY,left:d.mouseX}:void 0,children:(0,u.jsx)(i.A,{data:t,renderItem:(e,t)=>"a"===e.type?(0,u.jsx)("a",{href:e.props.href,style:e.props.style,target:e.props.target,download:e.props.download,rel:e.props.rel,onClick:e=>{v(),e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},children:(0,u.jsx)(l.A,{sx:{padding:0,margin:0},children:e.props.children},t)}):(0,u.jsx)(l.A,{onClick:e=>{v()},sx:{padding:0,margin:0},children:e},t)})})]})},x=e=>{let{menuItems:t,children:n,...c}=e;const[a,d]=o.useState(null),x=(0,o.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),d(null===a?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}),[]),p=()=>{d(null)};return 0===t.length?(0,u.jsx)(r.A,{...c,children:n}):(0,u.jsxs)(r.A,{onContextMenu:x,...c,children:[n,(0,u.jsx)(s.A,{open:null!==a,onClose:p,anchorReference:"anchorPosition",anchorPosition:null!==a?{top:a.mouseY,left:a.mouseX}:void 0,children:(0,u.jsx)(i.A,{data:t,renderItem:(e,t)=>"a"===e.type?(0,u.jsx)("a",{href:e.props.href,style:e.props.style,target:e.props.target,download:e.props.download,rel:e.props.rel,onClick:e=>{p(),e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},children:(0,u.jsx)(l.A,{children:e.props.children},t)}):(0,u.jsx)(l.A,{sx:{padding:0,margin:0},onClick:e=>{p()},children:e},t)})})]})},p=e=>{let{menuItems:t,enableLongPress:n=a.Fr,children:o,...r}=e;return n?(0,u.jsx)(d,{menuItems:t,children:o,...r}):(0,u.jsx)(x,{menuItems:t,children:o,...r})}},14979:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var o=n(65043),r=n(67807),s=n(59135),l=n(35475),i=n(68957),c=n(59662),a=n(70579);const u=(0,c.A)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var d=n(61310),x=n(78436),p=n(68640),m=n(60790),h=n(94516),v=n(78185);const g=(0,c.A)((0,a.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),f=(0,c.A)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"RemoveRedEye"),j=(0,c.A)((0,a.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");var A=n(67649),w=n(28079);const y=e=>{let{icon:t,children:n,sx:s,...l}=e;const i=o.cloneElement(t,{sx:{...t.props.sx,fontSize:{xs:"1rem",sm:"1rem",md:"1rem",lg:"1.2rem",xl:"1.2rem"}}});return(0,a.jsxs)(r.A,{direction:"row",alignItems:"center",gap:.3,sx:{...s},...l,children:[i,(0,a.jsx)(w.o5,{variant:"body1",sx:{fontSize:{xs:"0.8rem",sm:"0.8rem",md:"0.8rem",lg:"1rem",xl:"1rem"}},children:n})]})};var C=n(52945);const b=e=>{let{targetUrl:t,onClickRoute:n,owner:s,coverImageUrl:i,altImg:c,title:u,description:d,aspectRatio:x=16/9,radius:p=1,like:m=0,view:b=0,download:E=0,sx:k,SkeletonSx:M,...S}=e;const[I,L]=(0,o.useState)(void 0===i),[P,D]=(0,o.useState)(!1),R=(0,A.Hd)(m).length+(0,A.Hd)(b).length+(0,A.Hd)(E).length>14,T=0===m&&0===b&&0===E;return(0,a.jsxs)(r.A,{maxWidth:"auto",spacing:1,onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),sx:{...k},...S,children:[(0,a.jsxs)(h.A,{style:{position:"relative",width:"auto",height:"auto"},children:[!I&&(0,a.jsx)(v.A,{variant:"rectangular",sx:{objectFit:"cover",width:"100%",height:"auto",aspectRatio:x,...M}}),(0,a.jsx)(l.N_,{to:t,onClick:e=>{n&&n(e)},children:(0,a.jsxs)(C.A,{index:void 0===i?0:1,children:[c,(0,a.jsx)(h.A,{component:"img",src:i,onLoad:()=>L(!0),borderRadius:p,sx:{display:I?"block":"none",objectFit:"cover",width:"100%",height:"auto",aspectRatio:x}})]})}),I&&!T&&(0,a.jsxs)(r.A,{direction:"row",borderRadius:p,sx:{position:"absolute",bottom:0,left:0,color:"white",background:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.8) 100%)",width:"100%",textAlign:"start",paddingY:"6px",opacity:P?0:1},style:{transition:"opacity 0.5s ease"},children:[(0,a.jsx)(r.A,{direction:"row",justifySelf:"flex-start",alignItems:"center",flexGrow:1,spacing:1,paddingLeft:2,children:(0,a.jsx)(y,{icon:(0,a.jsx)(g,{}),children:(0,A.Hd)(m)})}),(0,a.jsx)(r.A,{direction:"row",spacing:1,children:(0,a.jsxs)(r.A,{direction:"row",alignItems:"center",spacing:1,paddingRight:2,children:[(0,a.jsx)(y,{sx:{display:{xs:"none",sm:"none",md:"none",lg:R?"none":"flex"}},icon:(0,a.jsx)(f,{fontSize:"small"}),children:(0,A.Hd)(b)}),(0,a.jsx)(y,{sx:{display:{xs:"none",sm:"none",md:"none",lg:R?"none":"flex"}},icon:(0,a.jsx)(j,{fontSize:"small"}),children:(0,A.Hd)(E)}),(0,a.jsx)(y,{sx:{display:{md:"flex",lg:R?"flex":"none"}},icon:(0,a.jsx)(f,{}),children:(0,A.Hd)(b)})]})})]})]}),(0,a.jsxs)(r.A,{direction:"column",maxWidth:"100%",children:[(0,a.jsx)(w.o5,{gutterBottom:!0,variant:"body1",textAlign:"left",fontWeight:{xs:"bold",sm:"bold",md:"bold",lg:"bold",xl:"bold"},sx:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:{xs:1,sm:1,md:1,lg:1,xl:1},lineHeight:"1em",fontSize:{xs:"12px",sm:"12px",md:"15px",lg:"15px",xl:"15px"},height:"2em",textOverflow:"ellipsis",color:"black"},children:u}),(0,a.jsx)(l.N_,{to:"#",children:(0,a.jsxs)(w.o5,{variant:"body2",color:"text.secondary",textAlign:"left",style:{cursor:s?"pointer":"default"},sx:{fontSize:{xs:"10px",md:"13px"}},children:[" ",d]})})]})]})};var E=n(24548),k=n(53700),M=n(44123);const S=e=>{let{profile:t}=e;return(0,a.jsx)(b,{title:t.name,targetUrl:(0,E.tf)(t.id),aspectRatio:1,view:Math.max((0,k.Bi)(t),1),download:(0,k.kc)(t),SkeletonSx:{width:200,height:200},like:(0,k.D_)(t),altImg:(0,a.jsx)(M.j,{type:t.type,radius:1,height:"auto",width:"100%",preserveAspectRatio:"1"}),coverImageUrl:t.avatarUrl})};var I=n(21888),L=n(26033),P=n(31103),D=n(52792),R=n(44843),T=n(74672),U=n(7399),z=n(75424),O=n(52966);const H=e=>{var t,n,c,h,v;const g=(0,O.uj)(),[f,j]=(0,l.ok)(),A=null!==(t=f.get("q"))&&void 0!==t?t:"",w=null!==(n=f.get("o"))&&void 0!==n?n:"",y=null!==(c=f.get("t"))&&void 0!==c?c:"",C=null!==(h=f.get("e"))&&void 0!==h?h:"",b=f.get("p")?parseInt(null!==(v=f.get("p"))&&void 0!==v?v:"0"):0,M=(0,T.G)(U.bX),[H,X]=(0,o.useState)(A),[W,Y]=o.useState([]),[B,F]=o.useState(1),[_,V]=o.useState([]),[N,G]=o.useState([]),[K,q]=o.useState(d.r3.DEFAULT),[Z,$]=o.useState(null);(0,o.useEffect)((()=>{""!==w&&(0,P.Oy)(w).then((e=>{$(e)})).catch((e=>{(0,R.yy)(e)}))}),[w]),(0,o.useEffect)((()=>{(0,i.bq)().then((e=>{V(e.engines),G(e.types)}))}),[]),(0,o.useEffect)((()=>{const e=L.K3.create();e.page=b,e.pageSize=40,(0,i.fS)(A,w,y,C,e,K).then((e=>{var t,n;Y(J(e.nodeTrees)),F(null!==(t=null===(n=e.pageResult)||void 0===n?void 0:n.totalPage)&&void 0!==t?t:1)}))}),[f,A,C,y,w,b,K]);const J=e=>{switch(K){case d.r3.DEFAULT:return e;case d.r3.UPDATE:return e.sort(((e,t)=>{var n,o;return(null!==(n=t.updateAt)&&void 0!==n?n:0)-(null!==(o=e.updateAt)&&void 0!==o?o:0)}));case d.r3.VIEW:return e.sort(((e,t)=>(0,k.Bi)(t)-(0,k.Bi)(e)));case d.r3.LIKE:return e.sort(((e,t)=>(0,k.D_)(t)-(0,k.D_)(e)));case d.r3.DOWNLOAD:return e.sort(((e,t)=>(0,k.kc)(t)-(0,k.kc)(e)));default:return e}},Q=e=>""===e?"All Engines":(0,k.$f)(e),ee=e=>""===e?"All Node Types":(0,k.mZ)(e),te=e=>{switch(e){case d.r3.DEFAULT:return"Default";case d.r3.UPDATE:return"Update Time";case d.r3.VIEW:return"View Count";case d.r3.LIKE:return"Like Count";case d.r3.DOWNLOAD:return"Download Count";default:return"Default"}};return(0,a.jsxs)(r.A,{direction:"column",width:"100%",alignItems:"center",children:[(0,a.jsxs)(r.A,{direction:"column",spacing:1,sx:{width:{xs:"95%",sm:"90%",md:"80%",lg:"80%",xl:"80%"}},children:[(0,a.jsxs)(r.A,{direction:"row",justifyContent:"center",alignItems:"center",width:"100%",spacing:2,children:[""!==w&&Z&&(0,a.jsx)(z.A,{menuItems:[(0,a.jsx)(m.A,{title:"View Profile",onClick:()=>{g((0,E.MI)(Z.id))}}),(0,a.jsx)(m.A,{title:"Remove Filter",onClick:()=>{j((e=>(e.set("o",""),e)))}})],children:(0,a.jsx)(D.A,{title:Z.name,avatarUrl:Z.avatarUrl,onClick:()=>{j((e=>(e.set("o",""),e)))}})}),(0,a.jsx)(x.A,{label:"Search",value:H,onSubmit:()=>{j((e=>(e.set("q",H),e)))},setValue:X,endAdornment:(0,a.jsx)(u,{})})]}),(0,a.jsxs)(r.A,{direction:"row",justifyContent:"space-between",children:[(0,a.jsxs)(r.A,{direction:"row",justifyContent:"start",children:[(0,a.jsx)(p.A,{title:Q(C),menuItems:["",..._].map((e=>(0,a.jsx)(m.A,{title:Q(e),onClick:()=>{j((t=>(t.set("e",e),t)))}}))),size:"small"}),(0,a.jsx)(p.A,{title:ee(y),menuItems:["",...N].map((e=>(0,a.jsx)(m.A,{title:ee(e),onClick:()=>{j((t=>(t.set("t",e),t)))}}))),size:"small"}),(null===M||void 0===M?void 0:M.userId)&&(0,a.jsx)(p.A,{title:w===(null===M||void 0===M?void 0:M.userId)?"Only Me":"All Users",menuItems:[(0,a.jsx)(m.A,{title:"All Users",onClick:()=>{j((e=>(e.set("o",""),e)))}}),(0,a.jsx)(m.A,{title:"Only Me",onClick:()=>{j((e=>{var t;return e.set("o",null!==(t=null===M||void 0===M?void 0:M.userId)&&void 0!==t?t:""),e}))}})],size:"small"})]}),(0,a.jsx)(r.A,{direction:"row",justifyContent:"end",children:(0,a.jsx)(p.A,{title:te(K),menuItems:[d.r3.DEFAULT,d.r3.UPDATE,d.r3.VIEW,d.r3.LIKE,d.r3.DOWNLOAD].map((e=>(0,a.jsx)(m.A,{title:te(e),onClick:()=>{q(e)}}))),size:"small"})})]})]}),(0,a.jsx)(I.A,{container:!0,rowSpacing:{xs:1.5,sm:1.5,md:1,lg:1,xl:1},columnSpacing:{xs:1,sm:1,md:2,lg:2,xl:2},width:"100%",marginTop:"0px",children:W.map(((e,t)=>(0,a.jsx)(I.A,{size:{xs:6,sm:6,md:3,lg:3,xl:2.4},children:(0,a.jsx)(S,{profile:e})},e.id)))}),B>1&&(0,a.jsx)(s.A,{count:B,page:b+1,onChange:(e,t)=>{j((e=>(e.set("p",""+(t-1)),e)))}})]})}},21888:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(1666),r=n(34535),s=n(72876);const l=(0,o.A)({createStyledComponent:(0,r.Ay)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>t.root}),componentName:"MuiGrid2",useThemeProps:e=>(0,s.A)({props:e,name:"MuiGrid2"})})},6970:(e,t,n)=>{n.d(t,{HZ:()=>p});var o=n(65043),r=(e=>(e.Mouse="mouse",e.Touch="touch",e.Pointer="pointer",e))(r||{}),s=(e=>(e.CancelledByMovement="cancelled-by-movement",e.CancelledByRelease="cancelled-by-release",e.CancelledOutsideElement="cancelled-outside-element",e))(s||{});const l=()=>"object"==typeof window?window?.PointerEvent??null:null,i=()=>"object"==typeof window?window?.TouchEvent??null:null;function c(e){const{nativeEvent:t}=e,n=i();return n&&t instanceof n||"touches"in e}function a(e){const t=l();return e.nativeEvent instanceof MouseEvent&&!(t&&e.nativeEvent instanceof t)}function u(e){const{nativeEvent:t}=e;if(!t)return!1;const n=l();return n&&t instanceof n||"pointerId"in t}function d(e){return a(e)||c(e)||u(e)}function x(e){return c(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:a(e)||u(e)?{x:e.pageX,y:e.pageY}:null}function p(e){let{threshold:t=400,captureEvent:n=!1,detect:l=r.Pointer,cancelOnMovement:i=!1,cancelOutsideElement:c=!0,filterEvents:a,onStart:u,onMove:p,onFinish:m,onCancel:h}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const v=(0,o.useRef)(!1),g=(0,o.useRef)(!1),f=(0,o.useRef)(),j=(0,o.useRef)(),A=(0,o.useRef)(e),w=(0,o.useRef)(null),y=(0,o.useCallback)((e=>o=>{g.current||d(o)&&(void 0!==a&&!a(o)||(n&&o.persist(),u?.(o,{context:e}),w.current=x(o),g.current=!0,f.current=o.currentTarget,j.current=setTimeout((()=>{A.current&&(A.current(o,{context:e}),v.current=!0)}),t)))}),[n,a,u,t]),C=(0,o.useCallback)((e=>(t,o)=>{d(t)&&g.current&&(w.current=null,n&&t.persist(),v.current?m?.(t,{context:e}):g.current&&h?.(t,{context:e,reason:o??s.CancelledByRelease}),v.current=!1,g.current=!1,void 0!==j.current&&clearTimeout(j.current))}),[n,m,h]),b=(0,o.useCallback)((e=>t=>{if(p?.(t,{context:e}),!1!==i&&w.current){const n=x(t);if(n){const o=!0===i?25:i,r={x:Math.abs(n.x-w.current.x),y:Math.abs(n.y-w.current.y)};(r.x>o||r.y>o)&&C(e)(t,s.CancelledByMovement)}}}),[C,i,p]),E=(0,o.useCallback)((t=>{if(null===e)return{};switch(l){case r.Mouse:{const e={onMouseDown:y(t),onMouseMove:b(t),onMouseUp:C(t)};return c&&(e.onMouseLeave=e=>{C(t)(e,s.CancelledOutsideElement)}),e}case r.Touch:return{onTouchStart:y(t),onTouchMove:b(t),onTouchEnd:C(t)};case r.Pointer:{const e={onPointerDown:y(t),onPointerMove:b(t),onPointerUp:C(t)};return c&&(e.onPointerLeave=e=>C(t)(e,s.CancelledOutsideElement)),e}}}),[e,C,c,l,b,y]);return(0,o.useEffect)((()=>{if(window)return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),window.addEventListener("pointerup",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),window.removeEventListener("pointerup",e)};function e(e){const t=function(e){return{target:e.target,currentTarget:e.currentTarget,nativeEvent:e,persist:()=>{}}}(e);C()(t)}}),[C]),(0,o.useEffect)((()=>()=>{void 0!==j.current&&clearTimeout(j.current)}),[]),(0,o.useEffect)((()=>{A.current=e}),[e]),E}}}]);
//# sourceMappingURL=979.89fff30f.chunk.js.map