"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[123],{33123:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var n=i(65043),o=i(42770),s=i(58711),l=i(22717),r=i(53402),a=i(15142),u=i(44843),m=i(24010),c=i(76877),h=i(63564),d=i(84593),f=i(29408),g=i(28079),p=i(70579);o.H.preload(a.a,"/mmd/\u539f\u795e-\u523b\u6674/\u523b\u6674fix.pmx");const x=t=>{let{modelUrl:e="",vmdUrl:i="",start:s=!1}=t;const l=(0,n.useRef)(),r=(0,n.useRef)(null),m=(0,o.H)(a.a,e);return(0,n.useEffect)((()=>{if(!m||!i)return;const t=new c.$;r.current=t;return(new a.a).loadAnimation(i,m,(e=>{t.add(m,{animation:e,physics:!1})}),void 0,(t=>{(0,u.yy)("Error loading VMD file",t)})),()=>{r.current=null}}),[m,i]),(0,o.F)(((t,e)=>{r.current&&s&&r.current.update(e)})),(0,p.jsx)("primitive",{ref:l,object:m,dispose:null,scale:[.25,.25,.25],position:[0,-3,0]})},b=t=>{let{start:e}=t;const i=(0,n.useRef)(),o=(0,n.useRef)(),s=(0,n.useRef)(),{lightColor:a,lightIntensity:u,lightPosition:m}=(0,r._5)({lightColor:{value:"white",label:"Light Color"},lightIntensity:{value:1,label:"Light Intensity",min:0,max:10},lightPosition:{value:[0,0,2],label:"Light Position"}}),c=(0,n.useRef)(),{ambientLightColor:h,ambientLightIntensity:d}=(0,r._5)({ambientLightColor:{value:"white",label:"Ambient Light Color"},ambientLightIntensity:{value:.4,label:"Ambient Light Intensity",min:0,max:10}});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("pointLight",{ref:o,color:"purple",intensity:60,position:[-3,2,-3]}),(0,p.jsx)("pointLight",{ref:s,color:"blue",intensity:30,position:[3,2,-1]}),(0,p.jsx)("directionalLight",{position:m,ref:i,color:a,intensity:u}),(0,p.jsx)("ambientLight",{intensity:d,color:h,ref:c}),(0,p.jsx)(x,{modelUrl:"/mmd/\u539f\u795e-\u523b\u6674/\u523b\u6674fix.pmx",vmdUrl:"/mmd/motion/testB.vmd",start:e}),(0,p.jsx)(l.N,{})]})},y=t=>{const[e,i]=(0,n.useState)(null),l=(0,n.useRef)(null),r=(0,o.H)(f.AudioLoader,"/mmd/music/\u5bc4\u660e\u6708.mp3"),[a,u]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(r){const t=new f.Audio(new f.AudioListener);t.setBuffer(r),t.setLoop(!0),t.setVolume(.5),i(t)}}),[r]),(0,n.useEffect)((()=>{e&&(l.current=e)}),[e]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Hl,{className:"threeD",style:{backgroundColor:"black",height:"100svh",width:"100wvh"},children:(0,p.jsx)(b,{start:a})}),(0,p.jsx)(m.A,{color:"primary","aria-label":"add",onClick:()=>{e&&(a?(u(!1),e.pause()):(u(!0),e.play()))},style:{margin:0,left:20,top:20,right:"auto",bottom:"auto",position:"fixed"},children:a?(0,p.jsx)(h.A,{}):(0,p.jsx)(d.A,{})}),(0,p.jsx)(g.o5,{children:"Model BY: miHoYo/\u89c2\u6d77\u5b50, Motion By: Nivsha"})]})}}}]);
//# sourceMappingURL=123.fccc1307.chunk.js.map