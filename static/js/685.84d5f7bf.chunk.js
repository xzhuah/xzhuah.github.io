"use strict";(self.webpackChunkmy_dimension_client=self.webpackChunkmy_dimension_client||[]).push([[685],{14170:(e,n,t)=>{t.d(n,{A:()=>u});var o=t(17392),r=t(36910),i=t(75270),l=t.n(i),s=t(65043),a=t(70579);const c=e=>{let{text:n,icon:t=(0,a.jsx)(r.A,{}),...i}=e;return(0,a.jsx)(o.A,{onClick:()=>l()(n instanceof Function?n():n),...i,children:t})},u=s.memo(c)},75424:(e,n,t)=>{t.d(n,{A:()=>p});var o=t(65043),r=t(67807),i=t(45424),l=t(91449),s=t(29479),a=t(6970),c=t(8738),u=t(70579);const d=e=>{let{menuItems:n,children:t,...c}=e;const[d,h]=o.useState(null),p=(0,o.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),h(null===d?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}),[]),x=(0,o.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),h(null===d?{mouseX:e.clientX>window.screen.width/2?e.clientX-200:e.clientX+100,mouseY:e.clientY-6}:null)}),[]),A=(0,a.HZ)(x,{threshold:500}),v=()=>{h(null)};return 0===n.length?(0,u.jsx)(r.A,{...c,children:t}):(0,u.jsxs)(r.A,{onContextMenu:p,...A(),...c,children:[t,(0,u.jsx)(i.A,{open:null!==d,onClose:v,anchorReference:"anchorPosition",anchorPosition:null!==d?{top:d.mouseY,left:d.mouseX}:void 0,children:(0,u.jsx)(s.A,{data:n,renderItem:(e,n)=>"a"===e.type?(0,u.jsx)("a",{href:e.props.href,style:e.props.style,target:e.props.target,download:e.props.download,rel:e.props.rel,onClick:e=>{v(),e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},children:(0,u.jsx)(l.A,{sx:{padding:0,margin:0},children:e.props.children},n)}):(0,u.jsx)(l.A,{onClick:e=>{v()},sx:{padding:0,margin:0},children:e},n)})})]})},h=e=>{let{menuItems:n,children:t,...a}=e;const[c,d]=o.useState(null),h=(0,o.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),d(null===c?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}),[]),p=()=>{d(null)};return 0===n.length?(0,u.jsx)(r.A,{...a,children:t}):(0,u.jsxs)(r.A,{onContextMenu:h,...a,children:[t,(0,u.jsx)(i.A,{open:null!==c,onClose:p,anchorReference:"anchorPosition",anchorPosition:null!==c?{top:c.mouseY,left:c.mouseX}:void 0,children:(0,u.jsx)(s.A,{data:n,renderItem:(e,n)=>"a"===e.type?(0,u.jsx)("a",{href:e.props.href,style:e.props.style,target:e.props.target,download:e.props.download,rel:e.props.rel,onClick:e=>{p(),e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},children:(0,u.jsx)(l.A,{children:e.props.children},n)}):(0,u.jsx)(l.A,{sx:{padding:0,margin:0},onClick:e=>{p()},children:e},n)})})]})},p=e=>{let{menuItems:n,enableLongPress:t=c.Fr,children:o,...r}=e;return t?(0,u.jsx)(d,{menuItems:n,children:o,...r}):(0,u.jsx)(h,{menuItems:n,children:o,...r})}},17685:(e,n,t)=>{t.r(n),t.d(n,{default:()=>H});var o=t(65043),r=t(67807),i=t(35475),l=t(43845),s=t(68957),a=t(83560),c=t(28079),u=t(27999),d=t(20043),h=t(53700),p=t(52792),x=t(24548),A=t(15189),v=t(22016),m=t(59662),g=t(70579);const j=(0,m.A)((0,g.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),f=(0,m.A)((0,g.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var C=t(64456),w=t(75019),b=t(67649),y=t(17481),E=t(29479);const k=e=>{let{engine:n,sx:t,...o}=e;return(0,g.jsx)(l.A,{label:(0,h.$f)(n),sx:{backgroundColor:(0,h.Uz)(n),color:"white",...t},...o})};var S=t(74117);const M=e=>{let{type:n,sx:t,...o}=e;const{t:r}=(0,S.Bd)();return(0,g.jsx)(l.A,{label:r((0,h.mZ)(n)),sx:{backgroundColor:(0,h.U6)(n),color:"white",...t},...o})},P=e=>{let{version:n,sx:t,...o}=e;return(0,g.jsx)(l.A,{label:n,avatar:(0,g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsSAAALEgHS3X78AAAC0ElEQVR4nOyWX0hTURzHNSEpKqUeCh+KXlYZ0p+XoqCHniLClwJjkeFDjxH1lpDlimKmMiT6Q2TW0nJrrISg1ZjlkP7YH6dRbiFl5Zqrbe7/n7b763fP7sbxdDe9biwCf/DhXu45fL/fc+45596iorn6n8txcnExshmp+FcBbiGAcIgSKSl0gNtCgBS9yPJCBliA3GFCjCPbCxZCCFIvvIZUiN/IsUKHqEZ8zGxokEWzEVuIdCKTSFwCHBOA5yNSKTXACRGhXAgg+6UE2IZ8ynMInnqpM1GCzBPgD50yRM8KOy+sAb9RAeEhLcS+viJX/5NGcDbJ2ACcpJlgwlQhtimCp8ohYDoHXCwEYsU/92O7o6GMDhFGtko1P4gE2ZEHzCpilOA4uNdrgVpFF+w8cplctaZBiCc40h7oa2Vnon+mxqXIFbH36emsSY4SPY63PQBZzfm/OKrSk3a+POp9rMba6cxXIQOZFlR4WEeEjQM2UfMUhpcjpF/YomE1mrOZ70JcGVdzwxLgwl4irGh/nDXA6euG5GsKulgdq5gxv9obkQTT2cNuy4R3nAi3ac1ZA6i6+0i/uGeMDWBnzZchj0RGPILIkIf08+iXfiJs+/YT1h9oEjWvlCvBOuYk/aKjT1ndUdp8KfJZxJwPVC70aaHbJjV16e3WY34PGw+1TDHfUNsM+mfD6T6eLjmrraMDdIiYtzqoHwy838Gug4jVkDb44fJBt/EdKNUmuItX+y9vui3yoUdsLcnpAPephihSl2Fx6miRibMVEHp9Q/QQSlXwxVWYOLOCNX+OFNPCmwTxS0hVlt2xGomwo3F3VEPozU2I2QeBi/gg9v0tCeZu3y02cv443pJxC05XjuTPRy4fpIuzNqdC7EXcEo35o/xwzuZUiJWIeYbmFmRd3sypEPzneg9yzZH8UvoFwxC/zxG1MFuleTfPEmp+wczmKh/1BwAA//+6kLAWAAAABklEQVQDAAGbexFZ49vVAAAAAElFTkSuQmCC",alt:"Blender",style:{width:24,height:24}}),sx:{backgroundColor:"#214C93",color:"white",...t},...o})};var I=t(78436),T=t(14170),X=t(54390),z=t(52966),D=t(44123),R=t(52945),Z=t(75424),F=t(60790);const H=e=>{var n,t,m,H;const[L,U]=(0,i.ok)(),Y=(0,z.uj)(),{t:V}=(0,S.Bd)(),{showAlert:G}=o.useContext(y.A),[B,O]=o.useState(void 0),[N,J]=o.useState(!1),[K,Q]=o.useState(0),[_,W]=o.useState(!1),[q,$]=o.useState(!1),[ee,ne]=o.useState(""),[te,oe]=o.useState(!1),[re,ie]=o.useState(""),[le,se]=o.useState(!1),ae=(0,z.LF)(null===B||void 0===B||null===(n=B.owner)||void 0===n?void 0:n.id),ce=e=>e?e.map((e=>"#"+e)).join(" "):"",ue=()=>JSON.stringify({node_tree_id:null===B||void 0===B?void 0:B.id,node_tree_type:null===B||void 0===B?void 0:B.type});return(0,o.useEffect)((()=>{const e=L.get("id");e&&(0,s.Jf)(e).then((e=>{O(e),J((0,h.lF)(e)),Q((0,h.D_)(e)),ne(ce(e.tags)),ie(e.description)})).catch((e=>{G(e.message,"error")}))}),[L,le]),B?(0,g.jsxs)(r.A,{spacing:1,children:[(0,g.jsxs)(r.A,{direction:{xs:"column",md:"row"},spacing:1,justifyContent:"space-around",children:[(0,g.jsx)(c.o5,{variant:"h4",children:B.name}),(0,g.jsxs)(r.A,{direction:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",rowGap:1,spacing:1,children:[(0,g.jsxs)(i.N_,{to:(0,x.$Z)("","","",B.engine),children:[" ",(0,g.jsx)(k,{engine:B.engine})]}),(0,g.jsx)(i.N_,{to:(0,x.$Z)("","",B.type,""),children:(0,g.jsx)(M,{type:B.type})}),(0,g.jsx)(P,{version:B.blenderVersion}),(0,g.jsx)(Z.A,{menuItems:[(0,g.jsx)(F.A,{title:"View Profile",onClick:()=>{var e;Y((0,x.MI)(null===(e=B.owner)||void 0===e?void 0:e.id))}}),(0,g.jsx)(F.A,{title:"Search Owner's Work",onClick:()=>{var e;Y((0,x.$Z)("",null===(e=B.owner)||void 0===e?void 0:e.id,"",""))}})],children:(0,g.jsx)(p.A,{avatarUrl:null===(t=B.owner)||void 0===t?void 0:t.avatarUrl,title:null===(m=B.owner)||void 0===m?void 0:m.name,sx:{width:32,height:32},profileLink:(0,x.$Z)("",null===(H=B.owner)||void 0===H?void 0:H.id,"","")})}),(0,g.jsx)(l.A,{label:(0,A.FL)(B.updateAt),variant:"outlined"}),ae&&(0,g.jsx)(l.A,{label:(0,g.jsx)(j,{fontSize:"small"}),title:"Delete",sx:{backgroundColor:"red",color:"white",borderRadius:0},onClick:()=>{(0,s.YQ)(B.id).then((()=>{Y((0,x.$Z)())}))},variant:"filled"})]})]}),q?(0,g.jsx)(I.A,{value:ee,clearAction:()=>{$(!1),ne(ce(B.tags))},placeholder:"#tag1 #tag2",setValue:ne,onSubmit:()=>{(0,s.Zg)(B.id,(e=>e.split(" #").map((e=>e.trim().replace("#",""))).filter((e=>e.length>0)))(ee)).then((()=>{se(!le)})).catch((e=>{G(e.message,"error")})),$(!1)}}):(0,g.jsxs)(r.A,{direction:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",rowGap:1,children:[(0,g.jsx)(E.A,{data:[...B.tags],renderItem:(e,n)=>(0,g.jsx)(i.N_,{to:(0,x.$Z)(e,"","",""),children:(0,g.jsx)(l.A,{label:e,sx:{margin:.5},variant:"outlined"})},n+e)}),ae&&(0,g.jsx)(l.A,{label:(0,g.jsx)(a.A,{fontSize:"small"}),onClick:()=>{$(!0)},variant:"outlined"})]}),(0,g.jsxs)(r.A,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,children:[(0,g.jsxs)(R.A,{index:void 0===B.avatarUrl?0:1,children:[(0,g.jsx)(D.j,{type:B.type,height:"70dvh"}),(0,g.jsx)(v.A,{src:B.avatarUrl,sx:{width:"100%",maxHeight:"70dvh",objectFit:"contain"},skeletonSx:{height:"70dvh"}})]}),ae&&(0,g.jsx)(l.A,{label:(0,g.jsx)(a.A,{fontSize:"small"}),onClick:async()=>{(await(0,X.Ye)("EditNodeTreeAvatarDialog",{nodeTreeId:B.id,avatarUrl:B.avatarUrl,type:null===B||void 0===B?void 0:B.type})).success&&se(!le)},variant:"outlined"})]}),te?(0,g.jsx)(I.A,{value:re,placeholder:"Description about the node tree",setValue:ie,onSubmit:()=>{(0,s.ub)(B.id,re).then((()=>{se(!le)})).catch((e=>{G(e.message,"error")})),oe(!1)},clearAction:()=>{oe(!1),ie(B.description)}}):(0,g.jsxs)(r.A,{direction:"row",alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(c.o5,{enableLinkify:!0,variant:"body1",flexGrow:1,textAlign:"start",children:0===B.description.length?"No Description about this NodeTree":B.description}),ae&&(0,g.jsx)(l.A,{label:(0,g.jsx)(a.A,{fontSize:"small"}),title:"Edit Description",onClick:()=>{oe(!0)},variant:"outlined"})]}),(0,g.jsxs)(r.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,g.jsx)(l.A,{onClick:()=>{_||(W(!0),N?(0,s.Pp)(B.id).then((()=>{J(!1),Q(K-1)})).catch((e=>{G(e.message,"error")})).finally((()=>{W(!1)})):(0,s.S9)(B.id).then((()=>{J(!0),Q(K+1)})).catch((e=>{G(e.message,"error")})).finally((()=>{W(!1)})))},variant:"filled",color:N?"primary":"default",sx:{borderRadius:0},icon:N?(0,g.jsx)(C.A,{}):(0,g.jsx)(w.A,{}),label:(0,b.Hd)(K)}),(0,g.jsx)(I.A,{value:ue(),onSubmit:()=>{},setValue:e=>{},sx:{flexGrow:1},disabled:!0,size:"small",variant:"standard",endAdornment:(0,g.jsx)(T.A,{text:ue()})}),(0,g.jsx)(l.A,{onClick:()=>{(0,X.Dh)("NodeTreeHelperDialog")},variant:"filled",color:"info",icon:(0,g.jsx)(f,{}),sx:{borderRadius:0},label:V("How to use")})]}),(0,g.jsx)(d.A,{objectId:B.id,targetType:u.vt.RESOURCE_TYPE_NODE_TREE,canDelete:ae,paddingTop:8})]}):(0,g.jsx)(r.A,{})}},36910:(e,n,t)=>{t.d(n,{A:()=>i});var o=t(59662),r=t(70579);const i=(0,o.A)((0,r.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},83560:(e,n,t)=>{t.d(n,{A:()=>i});var o=t(59662),r=t(70579);const i=(0,o.A)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},6970:(e,n,t)=>{t.d(n,{HZ:()=>p});var o=t(65043),r=(e=>(e.Mouse="mouse",e.Touch="touch",e.Pointer="pointer",e))(r||{}),i=(e=>(e.CancelledByMovement="cancelled-by-movement",e.CancelledByRelease="cancelled-by-release",e.CancelledOutsideElement="cancelled-outside-element",e))(i||{});const l=()=>"object"==typeof window?window?.PointerEvent??null:null,s=()=>"object"==typeof window?window?.TouchEvent??null:null;function a(e){const{nativeEvent:n}=e,t=s();return t&&n instanceof t||"touches"in e}function c(e){const n=l();return e.nativeEvent instanceof MouseEvent&&!(n&&e.nativeEvent instanceof n)}function u(e){const{nativeEvent:n}=e;if(!n)return!1;const t=l();return t&&n instanceof t||"pointerId"in n}function d(e){return c(e)||a(e)||u(e)}function h(e){return a(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:c(e)||u(e)?{x:e.pageX,y:e.pageY}:null}function p(e){let{threshold:n=400,captureEvent:t=!1,detect:l=r.Pointer,cancelOnMovement:s=!1,cancelOutsideElement:a=!0,filterEvents:c,onStart:u,onMove:p,onFinish:x,onCancel:A}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const v=(0,o.useRef)(!1),m=(0,o.useRef)(!1),g=(0,o.useRef)(),j=(0,o.useRef)(),f=(0,o.useRef)(e),C=(0,o.useRef)(null),w=(0,o.useCallback)((e=>o=>{m.current||d(o)&&(void 0!==c&&!c(o)||(t&&o.persist(),u?.(o,{context:e}),C.current=h(o),m.current=!0,g.current=o.currentTarget,j.current=setTimeout((()=>{f.current&&(f.current(o,{context:e}),v.current=!0)}),n)))}),[t,c,u,n]),b=(0,o.useCallback)((e=>(n,o)=>{d(n)&&m.current&&(C.current=null,t&&n.persist(),v.current?x?.(n,{context:e}):m.current&&A?.(n,{context:e,reason:o??i.CancelledByRelease}),v.current=!1,m.current=!1,void 0!==j.current&&clearTimeout(j.current))}),[t,x,A]),y=(0,o.useCallback)((e=>n=>{if(p?.(n,{context:e}),!1!==s&&C.current){const t=h(n);if(t){const o=!0===s?25:s,r={x:Math.abs(t.x-C.current.x),y:Math.abs(t.y-C.current.y)};(r.x>o||r.y>o)&&b(e)(n,i.CancelledByMovement)}}}),[b,s,p]),E=(0,o.useCallback)((n=>{if(null===e)return{};switch(l){case r.Mouse:{const e={onMouseDown:w(n),onMouseMove:y(n),onMouseUp:b(n)};return a&&(e.onMouseLeave=e=>{b(n)(e,i.CancelledOutsideElement)}),e}case r.Touch:return{onTouchStart:w(n),onTouchMove:y(n),onTouchEnd:b(n)};case r.Pointer:{const e={onPointerDown:w(n),onPointerMove:y(n),onPointerUp:b(n)};return a&&(e.onPointerLeave=e=>b(n)(e,i.CancelledOutsideElement)),e}}}),[e,b,a,l,y,w]);return(0,o.useEffect)((()=>{if(window)return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),window.addEventListener("pointerup",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),window.removeEventListener("pointerup",e)};function e(e){const n=function(e){return{target:e.target,currentTarget:e.currentTarget,nativeEvent:e,persist:()=>{}}}(e);b()(n)}}),[b]),(0,o.useEffect)((()=>()=>{void 0!==j.current&&clearTimeout(j.current)}),[]),(0,o.useEffect)((()=>{f.current=e}),[e]),E}}}]);
//# sourceMappingURL=685.84d5f7bf.chunk.js.map